(window.webpackJsonptheoWebApp=window.webpackJsonptheoWebApp||[]).push([[20],{"+ASD":function(t,e,n){var i,o=e,r=n("oAGj"),s=n("fNpk"),a=n("3DEm"),l=n("7hc0"),c=n("smUN"),u=n("sq5L"),h=n("Zifs");o.PGMDuotoneFilterSpec=(i=function t(e,n,i){this.darkColor=e,this.lightColor=n,this.intensity=i,c.PGMFilterSpec.call(this,t.TYPE)},r.defineClass({name:"PGMDuotoneFilterSpec",ctor:i,superName:"PGMFilterSpec",statics:{TYPE:"PGMDuotoneFilterSpec",PROP_DARK_COLOR:"darkColor",PROP_LIGHT_COLOR:"lightColor",PROP_INTENSITY:"intensity",decodeSpec:function(t,e){var n,o,s;return(n=h.SolidColor.decodeJson(r.as(t[i.PROP_DARK_COLOR],"AnyObject")))&&(o=h.SolidColor.decodeJson(r.as(t[i.PROP_LIGHT_COLOR],"AnyObject")))&&null!=(s=r.as(t[i.PROP_INTENSITY],"Double"))?new i(n,o,s):(e.error(u.PGMError.BAD_FILTER_SPEC,"PGMDuotoneFilterSpec: missing parameter(s)"),null)}},props:{encode:function(){var t=c.PGMFilterSpec.prototype.encode.call(this);return t[i.PROP_DARK_COLOR]=this.darkColor.encodeJson(),t[i.PROP_LIGHT_COLOR]=this.lightColor.encodeJson(),t[i.PROP_INTENSITY]=this.intensity,t},isEqualTo:function(t){return this===t||!!(e=r.as(t,i))&&r.eq(h._equality_SolidColor_SolidColor,this.darkColor,e.darkColor)&&r.eq(h._equality_SolidColor_SolidColor,this.lightColor,e.lightColor)&&a.MathUtils.absDouble(this.intensity-e.intensity)<1e-9;var e},interpolate:function(t,e){return e<=0?this:e>=1?t:(n=r.as(t,i))?new i(this.darkColor.interpolate(n.darkColor,e),this.lightColor.interpolate(n.lightColor,e),l.PGMAnimationUtils.interp(this.intensity,n.intensity,e)):(s.LegacyCoreAssert.fail("can't interpolate to a different function spec type",void 0,"PGMDuotoneFilterSpec.interpolate","PGMDuotoneFilterSpec.swift",85),this);var n}}}),i)},"/eOI":function(t,e,n){var i,o=e,r=n("oAGj"),s=n("sWrh");o.PGMEasingType=r.defineEnum("PGMEasingType",{EaseIn:0,EaseOut:1,EaseInAndOut:2}),o.PGMSineEasingFunction=(i=function t(e,n,i){this.easing=e,s.PGMUnaryFunction.call(this,t.TYPE,n,i)},r.defineClass({name:"PGMSineEasingFunction",ctor:i,superName:"PGMUnaryFunction",statics:{TYPE:"pgm-sine-easing-fn",PROP_EASING:"easing",decodeFn:function(t,e,n){var s,a;return null!=(s=r.as(t[i.PROP_EASING],"Int"))&&null!=(a=o.PGMEasingType.toCaseValue(s))?new i(a,e,n):null}},props:{apply:function(t){var e=this.domain.boundedU(t);if(0==e||1==e)return this.range.applyU(e);switch(this.easing){case 0:return this.range.applyU(1-Math.cos(e*Math.PI*.5));case 1:return this.range.applyU(Math.sin(e*Math.PI*.5));case 2:return this.range.applyU(.5-.5*Math.cos(e*Math.PI))}},isEqualTo:function(t){var e;return!!(e=r.as(t,i))&&this.easing==e.easing&&s.PGMUnaryFunction.prototype.isEqualTo.call(this,t)},encode:function(){var t=s.PGMUnaryFunction.prototype.encode.call(this);return t[i.PROP_EASING]=this.easing,t}}}),i)},"5D0C":function(t,e,n){var i,o=e,r=n("oAGj"),s=n("9MJV"),a=n("sq5L"),l=n("wH/i"),c=n("WUDy"),u=n("9K9k"),h=n("f/aw"),d=n("zW52"),P=n("mj5y"),f=n("sWrh");o.PGMAnimation=(i=function(t,e){this.type=t,this.timeFn=e},r.defineClass({name:"PGMAnimation",ctor:i,statics:{PROP_TYPE:"type",PROP_TIME_FN:"time-fn",decode:function(t,e,n){var o;if(o=t){var P,p;if(null==(P=r.as(o[i.PROP_TYPE],"String"))||!(p=f.PGMUnaryFunction.decode(r.as(o[i.PROP_TIME_FN],["Dictionary","String","Any"]),n)))return n.error(a.PGMError.BAD_ANIMATION,"Couldn't get a required dict entry"),null;switch(P){case"PGMTransformAnimation":return d.PGMTransformAnimation.decodeAnimation(o,p,n);case"pgm-anim-text":return h.PGMTextAnimation.decodeAnimation(o,p,e,n);case"pgm-anim-shape":return u.PGMShapeAnimation.decodeAnimation(o,p,n);case"PGMFilterAnimation":return s.PGMFilterAnimation.decodeAnimation(o,p,n);case"pgm-anim-media-play":return l.PGMMediaPlayAnimation.decodeAnimation(o,p,n);case"pgm-anim-opacity":return c.PGMOpacityAnimation.decodeAnimation(o,p,n);default:return n.error(a.PGMError.UNKNOWN_ANIMATION,"Don't know how to decode a "+P),null}}return null}},props:{encode:function(){var t={};return t[i.PROP_TYPE]=this.type,t[i.PROP_TIME_FN]=this.timeFn.encode(),t},asString:{get:function(){return"PGMFilter("+P.PGMUtils.stringify(this.encode())+")"}},isEqualTo:function(t){return this===t||this.type==t.type&&this.timeFn.isEqualTo(t.timeFn)}}}),i)},"9K9k":function(t,e,n){var i,o=e,r=n("oAGj"),s=n("5D0C"),a=n("7hc0"),l=n("sq5L"),c=n("Zifs"),u=n("sIWg");o.PGMShapeAnimation=(i=function t(e,n,i,o,r){this.startColor=n,this.startBounds=i,this.endColor=o,this.endBounds=r,s.PGMAnimation.call(this,t.TYPE,e)},r.defineClass({name:"PGMShapeAnimation",ctor:i,superName:"PGMAnimation",statics:{TYPE:"pgm-anim-shape",PROP_START_COLOR:"startColor",PROP_START_BOUNDS:"startBounds",PROP_END_COLOR:"endColor",PROP_END_BOUNDS:"endBounds",decodeAnimation:function(t,e,n){var o,s,a,h;return(o=c.SolidColor.decodeJson(r.as(t[i.PROP_START_COLOR],"AnyObject")))&&(s=u.TheoRect.decodeJson(r.as(t[i.PROP_START_BOUNDS],"AnyObject")))&&(a=c.SolidColor.decodeJson(r.as(t[i.PROP_END_COLOR],"AnyObject")))&&(h=u.TheoRect.decodeJson(r.as(t[i.PROP_END_BOUNDS],"AnyObject")))?new i(e,o,s,a,h):(n.error(l.PGMError.BAD_SHAPE_ANIMATION,"Couldn't decode a required parameter."),null)}},props:{encode:function(){var t=s.PGMAnimation.prototype.encode.call(this);return t[i.PROP_START_COLOR]=this.startColor.encodeJson(),t[i.PROP_START_BOUNDS]=this.startBounds.encodeJson(),t[i.PROP_END_COLOR]=this.endColor.encodeJson(),t[i.PROP_END_BOUNDS]=this.endBounds.encodeJson(),t},isEqualTo:function(t){return this===t||!!(e=r.as(t,i))&&r.eq(c._equality_SolidColor_SolidColor,this.startColor,e.startColor)&&r.eq(c._equality_SolidColor_SolidColor,this.endColor,e.endColor)&&this.startBounds.equal(e.startBounds)&&this.endBounds.equal(e.endBounds)&&s.PGMAnimation.prototype.isEqualTo.call(this,t);var e},interpolate:function(t){var e=a.PGMAnimationUtils.bound01(this.timeFn.apply(t));return{bounds:this.startBounds.interpolate(this.endBounds,e),color:this.startColor.interpolate(this.endColor,e)}}}}),i)},"9MJV":function(t,e,n){var i,o=e,r=n("oAGj"),s=n("5D0C"),a=n("7hc0"),l=n("smUN"),c=n("sq5L");o.PGMFilterAnimation=(i=function t(e,n,i){this.startSpec=n,this.endSpec=i,s.PGMAnimation.call(this,t.TYPE,e)},r.defineClass({name:"PGMFilterAnimation",ctor:i,superName:"PGMAnimation",statics:{TYPE:"PGMFilterAnimation",PROP_START_SPEC:"start-spec",PROP_END_SPEC:"end-spec",decodeAnimation:function(t,e,n){var o,s;return(o=l.PGMFilterSpec.decode(r.as(t[i.PROP_START_SPEC],["Dictionary","String","Any"]),n))&&(s=l.PGMFilterSpec.decode(r.as(t[i.PROP_END_SPEC],["Dictionary","String","Any"]),n))?new i(e,o,s):(n.error(c.PGMError.BAD_FILTER_ANIMATION,"Missing required parameter(s)"),null)}},props:{encode:function(){var t=s.PGMAnimation.prototype.encode.call(this);return t[i.PROP_START_SPEC]=this.startSpec.encode(),t[i.PROP_END_SPEC]=this.endSpec.encode(),t},interpolate:function(t){var e=a.PGMAnimationUtils.bound01(this.timeFn.apply(t));return this.startSpec.interpolate(this.endSpec,e)},isEqualTo:function(t){return this===t||!!(e=r.as(t,i))&&this.timeFn.isEqualTo(e.timeFn)&&this.startSpec.isEqualTo(e.startSpec)&&this.endSpec.isEqualTo(e.endSpec);var e}}}),i)},Aj79:function(t,e,n){var i,o=e,r=n("oAGj"),s=n("Ird5"),a=n("jfma"),l=n("sq5L");o.PGMReference=(i=function(t,e,n){void 0===e&&(e=a.PGMCompositingParams.DEFAULT),void 0===n&&(n=s.PGMAnimationList.EMPTY),this.child=t,this.compositing=e,this.animations=n},r.defineClass({name:"PGMReference",ctor:i,statics:{PROP_REF_ENTITY:"entity",PROP_COMPOSITING_DEPRECATED:"placement",PROP_COMPOSITING:"compositing",PROP_ANIMATIONS:"animations",decode:function(t,e,n){var o,c,u;if(o=t)if(null!=(c=r.as(o[i.PROP_REF_ENTITY],"String"))){if(u=e.constructNode(c,n)){var h=a.PGMCompositingParams.decode(r.as(o[i.PROP_COMPOSITING],["Dictionary","String","Any"]),n),d=s.PGMAnimationList.decode(r.as(o[i.PROP_ANIMATIONS],["Array","Any"]),e,n);return new i(u,h||a.PGMCompositingParams.DEFAULT,d)}}else n.error(l.PGMError.BAD_REFERENCE,"Missing id and/or entity");else n.error(l.PGMError.BAD_REFERENCE,"Not a dictionary");return null}},props:{withPlacement:function(t){return this.withCompositing(this.compositing.withPlacement(t))},withChild:function(t){return t===this.child?this:new i(t,this.compositing,this.animations)},withCompositing:function(t){return t===this.compositing?this:new i(this.child,t,this.animations)},withAnimations:function(t){return t===this.animations?this:new i(this.child,this.compositing,t)},visit:function(t){t(this),this.child.visitByRef(t)},encode:function(){var t={};return t[i.PROP_REF_ENTITY]=this.child.entity,this.compositing.isDefault()||(t[i.PROP_COMPOSITING]=this.compositing.encode()),this.animations.isEmpty||(t[i.PROP_ANIMATIONS]=this.animations.encode()),t},isEqualTo:function(t){return this===t||this.child.isEqualTo(t.child)&&this.compositing.equal(t.compositing)&&this.animations.isEqualTo(t.animations)}}}),i)},BnJw:function(t,e,n){var i,o=e,r=n("oAGj"),s=n("sWrh");o.PGMPeriodicWaveform=r.defineEnum("PGMPeriodicWaveform",{Sine:0}),o.PGMPeriodicFunction=(i=function t(e,n,i,o){this.waveform=i,this.period=o,s.PGMUnaryFunction.call(this,t.TYPE,e,n)},r.defineClass({name:"PGMPeriodicFunction",ctor:i,superName:"PGMUnaryFunction",statics:{TYPE:"pgm-periodic-fn",PROP_WAVEFORM:"waveform",PROP_PERIOD:"period",decodeFn:function(t,e,n){var s,a,l;return null!=(s=r.as(t[i.PROP_WAVEFORM],"Int"))&&null!=(a=o.PGMPeriodicWaveform.toCaseValue(s))&&null!=(l=r.as(t[i.PROP_PERIOD],"Double"))?new i(e,n,a,l):null}},props:{apply:function(t){var e=(t-this.domain.start)%this.period/this.period;switch(this.waveform){case 0:return this.range.applyU(.5+.5*Math.sin(e*Math.PI*2))}},isEqualTo:function(t){var e;return!!(e=r.as(t,i))&&this.waveform==e.waveform&&this.period==e.period&&s.PGMUnaryFunction.prototype.isEqualTo.call(this,t)},encode:function(){var t=s.PGMUnaryFunction.prototype.encode.call(this);return t[i.PROP_WAVEFORM]=this.waveform,t[i.PROP_PERIOD]=this.period,t}}}),i)},GDe9:function(t,e,n){var i,o=e,r=n("oAGj"),s=n("Qlvz"),a=n("fNpk"),l=n("3DEm"),c=n("7hc0"),u=n("smUN");o.PGMColorAdjustmentFilterSpec=(i=function t(e,n,i,o,r,s,a,l,c,h){this.shadows=e,this.highlights=n,this.saturation=i,this.brightness=o,this.exposure=r,this.contrast=s,this.warmth=a,this.tint=l,this.fade=c,this.vibrance=h,u.PGMFilterSpec.call(this,t.TYPE)},r.defineClass({name:"PGMColorAdjustmentFilterSpec",ctor:i,superName:"PGMFilterSpec",statics:{TYPE:"PGMColorAdjustmentFilterSpec",PROP_SHADOWS:"shadows",PROP_HIGHLIGHTS:"highlights",PROP_SATURATION:"saturation",PROP_BRIGHTNESS:"brightness",PROP_EXPOSURE:"exposure",PROP_CONTRAST:"contrast",PROP_WARMTH:"warmth",PROP_TINT:"tint",PROP_FADE:"fade",PROP_VIBRANCE:"vibrance",decodeSpec:function(t,e){var n,o,a,l,c,u,h,d,P,f,p=s.ImageAdjustments.createDefault(),m=t,M=(n=r.as(m[i.PROP_SHADOWS],"Double"))||null!=n?n:p.shadows,T=(o=r.as(m[i.PROP_HIGHLIGHTS],"Double"))||null!=o?o:p.highlights,E=(a=r.as(m[i.PROP_SATURATION],"Double"))||null!=a?a:p.saturation,_=(l=r.as(m[i.PROP_BRIGHTNESS],"Double"))||null!=l?l:p.brightness,R=(c=r.as(m[i.PROP_EXPOSURE],"Double"))||null!=c?c:p.exposure,C=(u=r.as(m[i.PROP_CONTRAST],"Double"))||null!=u?u:p.contrast,y=(h=r.as(m[i.PROP_WARMTH],"Double"))||null!=h?h:p.warmth,S=(d=r.as(m[i.PROP_TINT],"Double"))||null!=d?d:p.tint,A=(P=r.as(m[i.PROP_FADE],"Double"))||null!=P?P:p.fade,O=(f=r.as(m[i.PROP_VIBRANCE],"Double"))||null!=f?f:p.vibrance;return new i(M,T,E,_,R,C,y,S,A,O)}},props:{encode:function(){var t=u.PGMFilterSpec.prototype.encode.call(this);return t[i.PROP_SHADOWS]=this.shadows,t[i.PROP_HIGHLIGHTS]=this.highlights,t[i.PROP_SATURATION]=this.saturation,t[i.PROP_BRIGHTNESS]=this.brightness,t[i.PROP_EXPOSURE]=this.exposure,t[i.PROP_CONTRAST]=this.contrast,t[i.PROP_WARMTH]=this.warmth,t[i.PROP_TINT]=this.tint,t[i.PROP_FADE]=this.fade,t[i.PROP_VIBRANCE]=this.vibrance,t},isEqualTo:function(t){return t===this||!!(e=r.as(t,i))&&(l.MathUtils.absDouble(e.shadows-this.shadows)<1e-9&&l.MathUtils.absDouble(e.highlights-this.highlights)<1e-9&&l.MathUtils.absDouble(e.saturation-this.saturation)<1e-9&&l.MathUtils.absDouble(e.brightness-this.brightness)<1e-9&&l.MathUtils.absDouble(e.exposure-this.exposure)<1e-9&&l.MathUtils.absDouble(e.contrast-this.contrast)<1e-9&&l.MathUtils.absDouble(e.warmth-this.warmth)<1e-9&&l.MathUtils.absDouble(e.tint-this.tint)<1e-9&&l.MathUtils.absDouble(e.fade-this.fade)<1e-9&&l.MathUtils.absDouble(e.vibrance-this.vibrance)<1e-9);var e},interpolate:function(t,e){return e<=0?this:e>=1?t:(n=r.as(t,i))?new i(c.PGMAnimationUtils.interp(this.shadows,n.shadows,e),c.PGMAnimationUtils.interp(this.highlights,n.highlights,e),c.PGMAnimationUtils.interp(this.saturation,n.saturation,e),c.PGMAnimationUtils.interp(this.brightness,n.brightness,e),c.PGMAnimationUtils.interp(this.exposure,n.exposure,e),c.PGMAnimationUtils.interp(this.contrast,n.contrast,e),c.PGMAnimationUtils.interp(this.warmth,n.warmth,e),c.PGMAnimationUtils.interp(this.tint,n.tint,e),c.PGMAnimationUtils.interp(this.fade,n.fade,e),c.PGMAnimationUtils.interp(this.vibrance,n.vibrance,e)):(a.LegacyCoreAssert.fail("can't interpolate to a different function spec type",void 0,"PGMColorAdjustmentFilterSpec.interpolate","PGMColorAdjustmentFilterSpec.swift",149),this);var n}}}),i)},Ird5:function(t,e,n){var i,o,r=e,s=n("oAGj"),a=n("5D0C"),l=n("mj5y");r.PGMAnimationList=(i=function(t){this.animations=s.clone(t),this.isEmpty=0==t.length},o={},s.defineClass({name:"PGMAnimationList",ctor:i,statics:{EMPTY:{get:function(){return void 0===o.EMPTY&&(o.EMPTY=new i([])),o.EMPTY}},decode:function(t,e,n){if(null==t||0==t.length)return i.EMPTY;for(var o=[],r=s.iter(t);!r.done;r.next()){var l,c=r.value;if(!(l=a.PGMAnimation.decode(s.as(c,["Dictionary","String","Any"]),e,n)))return i.EMPTY;o.push(l)}return new i(s.clone(o))},fromArray:function(t){return 0==t.length?i.EMPTY:new i(s.clone(t))}},props:{asString:{get:function(){return"PGMAnimationList("+l.PGMUtils.stringify(this.encode())+")"}},forEach:function(t){this.animations.forEach(t)},encode:function(){for(var t=[],e=s.iter(this.animations);!e.done;e.next()){var n=e.value;t.push(n.encode())}return t},merge:function(t){if(this.isEmpty)return t;if(t.isEmpty)return this;var e=this.animations.concat(t.animations);return new i(s.clone(e))},append:function(t){var e=this.animations.concat([t]);return new i(s.clone(e))},isEqualTo:function(t){if(this===t)return!0;if(this.animations.length!=t.animations.length)return!1;for(var e=s.iter(s.range(0,this.animations.length,!1));!e.done;e.next()){var n=e.value;if(!this.animations[n].isEqualTo(t.animations[n]))return!1}return!0}}}),i)},Iv44:function(t,e,n){var i,o=e,r=n("oAGj"),s=n("Qlvz"),a=n("fNpk"),l=n("smUN");o.PGMBlurFilterSpec=(i=function t(e,n,i){this.edgeClamp=e,this.scaledBlur=n,this.originalImageEntity=i,l.PGMFilterSpec.call(this,t.TYPE)},r.defineClass({name:"PGMBlurFilterSpec",ctor:i,superName:"PGMFilterSpec",statics:{TYPE:"PGMBlurFilterSpec",PROP_SCALED_BLUR:"blur",PROP_ORIG_IMG_ENTITY:"origImageEntity",PROP_EDGE_CLAMP:"edgeClamp",decodeSpec:function(t,e){var n,o,a,l=s.ImageAdjustments.createDefault(),c=!(!(n=r.as(t[i.PROP_EDGE_CLAMP],"Bool"))&&null==n)&&n,u=(o=r.as(t[i.PROP_SCALED_BLUR],"Double"))||null!=o?o:l.scaledBlur,h=(a=r.as(t[i.PROP_ORIG_IMG_ENTITY],"String"))||null!=a?a:"";return new i(c,u,h)}},props:{encode:function(){var t=l.PGMFilterSpec.prototype.encode.call(this);return t[i.PROP_EDGE_CLAMP]=this.edgeClamp,t[i.PROP_SCALED_BLUR]=this.scaledBlur,t[i.PROP_ORIG_IMG_ENTITY]=this.originalImageEntity,t},isEqualTo:function(t){return t===this||!!(e=r.as(t,i))&&this.edgeClamp==e.edgeClamp&&this.scaledBlur==e.scaledBlur&&this.originalImageEntity==e.originalImageEntity;var e},interpolate:function(t,e){if(e<=0)return this;if(e>=1)return t;var n;if(n=r.as(t,i)){var o=(1-e)*this.scaledBlur+e*n.scaledBlur;return new i(this.edgeClamp,o,this.originalImageEntity)}return a.LegacyCoreAssert.fail("can't interpolate to another filter spec type",void 0,"PGMBlurFilterSpec.interpolate","PGMBlurFilterSpec.swift",94),this}}}),i)},JQ9Y:function(t,e,n){var i,o=e,r=n("oAGj"),s=n("fNpk"),a=n("smUN"),l=n("sq5L"),c=n("Zifs");o.PGMScreenFilterSpec=(i=function t(e){this.filterColor=e,a.PGMFilterSpec.call(this,t.TYPE)},r.defineClass({name:"PGMScreenFilterSpec",ctor:i,superName:"PGMFilterSpec",statics:{TYPE:"PGMScreenFilterSpec",PROP_FILTER_COLOR:"filterColor",decodeSpec:function(t,e){var n;return(n=c.SolidColor.decodeJson(r.as(t[i.PROP_FILTER_COLOR],"AnyObject")))?new i(n):(e.error(l.PGMError.BAD_FILTER_SPEC,"PGMScreenFilterSpec: missing parameter(s)"),null)}},props:{encode:function(){var t=a.PGMFilterSpec.prototype.encode.call(this);return t[a.PGMFilterSpec.PROP_TYPE]=i.TYPE,t[i.PROP_FILTER_COLOR]=this.filterColor.encodeJson(),t},isEqualTo:function(t){return this===t||!!(e=r.as(t,i))&&r.eq(c._equality_SolidColor_SolidColor,this.filterColor,e.filterColor);var e},interpolate:function(t,e){return e<=0?this:e>=1?t:(n=r.as(t,i))?new i(this.filterColor.interpolate(n.filterColor,e)):(s.LegacyCoreAssert.fail("can't interpolate to a different function spec type",void 0,"PGMScreenFilterSpec.interpolate","PGMScreenFilterSpec.swift",73),this);var n}}}),i)},KB91:function(t,e,n){var i,o,r=e,s=n("oAGj"),a=n("sJQG"),l=n("sWrh");r.TIME_PRECISION=1e-4,r.PGMLoopingFunction=(i=function t(e,n){this.childFn=n,l.PGMUnaryFunction.call(this,t.TYPE,e,n.range)},o={},s.defineClass({name:"PGMLoopingFunction",ctor:i,superName:"PGMUnaryFunction",statics:{TYPE:"pgm-looping-function",PROP_CHILD_FUNC:{get:function(){return void 0===o.PROP_CHILD_FUNC&&(o.PROP_CHILD_FUNC=i.TYPE+"-childFn"),o.PROP_CHILD_FUNC}},create:function(t,e,n){var o=t+(n.domain.end-n.domain.start)*s.toDouble(e);return new i(new a.PGMRange(t,o),n)},decodeFn:function(t,e,n,o){var r;return(r=l.PGMUnaryFunction.decode(s.as(t[i.PROP_CHILD_FUNC],["Dictionary","String","Any"]),o))?new i(e,r):null}},props:{applyU:function(t){return this.childFn.domain.applyU(t)-this.childFn.domain.start},apply:function(t){var e=this.childFn.domain.end-this.childFn.domain.start;if(e<r.TIME_PRECISION)return this.childFn.apply(t);var n=this.domain.boundedU(t),i=(n=(n=this.domain.applyU(n))-this.domain.start-this.childFn.domain.start)%e;return i<0&&(i=e+i),i<r.TIME_PRECISION&&t>this.domain.start&&(i=e),i+=this.childFn.domain.start,this.childFn.apply(i)},isEqualTo:function(t){var e;return!!(e=s.as(t,i))&&e.childFn.isEqualTo(this.childFn)&&l.PGMUnaryFunction.prototype.isEqualTo.call(this,t)},encode:function(){var t=l.PGMUnaryFunction.prototype.encode.call(this);return t[i.PROP_CHILD_FUNC]=this.childFn.encode(),t}}}),i)},KyrH:function(t,e,n){n("oAGj")},PlOi:function(t,e,n){var i,o,r=e,s=n("oAGj"),a=n("fNpk"),l=n("GINV"),c=n("KDc2");r.PGMResourceProvider=(i=function(t,e){this.contentType=t,this.storage=e},o={},s.defineClass({name:"PGMResourceProvider",ctor:i,statics:{PROP_CONTENT_TYPE:"content-type",PROP_STORAGE:"storage",INVALID:{get:function(){return void 0===o.INVALID&&(o.INVALID=new i("invalid",new c.StorageSpecInvalid)),o.INVALID}},decode:function(t){var e,n,o,r;return(e=t)?null!=(n=s.as(e[i.PROP_CONTENT_TYPE],"String"))&&(o=s.as(e[i.PROP_STORAGE],["Dictionary","String","Any"]))&&(r=l.StorageSpec.decode(o))?new i(n,r):(a.LegacyCoreAssert.fail("couldn't decode",void 0,"PGMResourceProvider.decode","PGMResourceProvider.swift",61),null):null}},props:{isEqualTo:function(t){return t===this||this.contentType==t.contentType&&this.storage.isEqualTo(t.storage)},encode:function(){var t={};return t[i.PROP_CONTENT_TYPE]=this.contentType,t[i.PROP_STORAGE]=this.storage.encode(),t}}}),i)},REQJ:function(t,e,n){var i,o=e,r=n("oAGj"),s=n("fNpk"),a=n("Zifs");o.PROPERTY_COVERAGE="coverage",o.ImageColorData=(i=function(t,e){this.rgbColor=t,this.coverage=e},r.defineClass({name:"ImageColorData",ctor:i,superName:"CoreObject",statics:{decodeJson:function(t){if(null==t)return null;var e=r.as(t,["Dictionary","String","Any"]);if(null==e)return s.LegacyCoreAssert.fail("SolidColor.decodeJson: object passed isn't a dictionary",void 0,"ImageColorData.decodeJson","ImageColorData.swift",39),null;var n,l=a.SolidColor.decodeJson(t);return null!=l&&null!=(n=r.as(e[o.PROPERTY_COVERAGE],"Double"))?new i(l,n):null}},props:{encodeJson:function(){var t=this.rgbColor.encodeJson();return t[o.PROPERTY_COVERAGE]=this.coverage,t}}}),i)},WUDy:function(t,e,n){var i,o=e,r=n("oAGj"),s=n("fNpk"),a=n("5D0C"),l=n("7hc0"),c=n("sq5L");o.PGMOpacityAnimation=(i=function t(e,n,i){this.startOpacity=n,this.endOpacity=i,a.PGMAnimation.call(this,t.TYPE,e)},r.defineClass({name:"PGMOpacityAnimation",ctor:i,superName:"PGMAnimation",statics:{TYPE:"pgm-anim-opacity",PROP_START:"start",PROP_END:"end",decodeAnimation:function(t,e,n){var o,s;return null!=(o=r.as(t[i.PROP_START],"Double"))&&null!=(s=r.as(t[i.PROP_END],"Double"))?new i(e,o,s):(n.error(c.PGMError.BAD_OPACITY_ANIMATION,"Missing start or end values"),null)}},props:{encode:function(){var t=a.PGMAnimation.prototype.encode.call(this);return t[i.PROP_START]=this.startOpacity,t[i.PROP_END]=this.endOpacity,t},isEqualTo:function(t){return this===t||!!(e=r.as(t,i))&&this.startOpacity==e.startOpacity&&this.endOpacity==e.endOpacity&&a.PGMAnimation.prototype.isEqualTo.call(this,t);var e},interpolate:function(t){return s.LegacyCoreAssert.isTrue(this.timeFn.domain.contains(t),"time to interpolate at is not within the domain of the time function",void 0,"PGMOpacityAnimation.interpolate","PGMOpacityAnimation.swift",76),l.PGMAnimationUtils.interp(this.startOpacity,this.endOpacity,l.PGMAnimationUtils.bound01(this.timeFn.apply(t)))}}}),i)},WjWV:function(t,e,n){var i,o=e,r=n("oAGj"),s=n("fNpk"),a=n("7hc0"),l=n("smUN"),c=n("sq5L");o.PGMBlendFilterSpec=(i=function t(e){this.weights=r.clone(e),l.PGMFilterSpec.call(this,t.TYPE)},r.defineClass({name:"PGMBlendFilterSpec",ctor:i,superName:"PGMFilterSpec",statics:{TYPE:"PGMBlendFilterSpec",PROP_WEIGHTS:"weights",decodeSpec:function(t,e){var n;return(n=r.as(t[i.PROP_WEIGHTS],["Array","Double"]))?new i(r.clone(n)):(e.error(c.PGMError.BAD_FILTER_SPEC,"PGMBlendFilterSpec: Missing weights parameter"),null)}},props:{encode:function(){var t=l.PGMFilterSpec.prototype.encode.call(this);return t[i.PROP_WEIGHTS]=r.clone(this.weights),t},interpolate:function(t,e){if(e<=0)return this;if(e>=1)return t;var n;if(n=r.as(t,i)){if(n.weights.length==this.weights.length){for(var o=[],l=r.iter(r.range(0,this.weights.length,!1));!l.done;l.next()){var c=l.value;o.push(a.PGMAnimationUtils.interp(this.weights[c],n.weights[c],e))}return new i(r.clone(o))}return s.LegacyCoreAssert.fail("can't interpolate to a blend with a different number of weights",void 0,"PGMBlendFilterSpec.interpolate","PGMBlendFilterSpec.swift",65),this}return s.LegacyCoreAssert.fail("can't interpolate to another filter spec type",void 0,"PGMBlendFilterSpec.interpolate","PGMBlendFilterSpec.swift",68),this},isEqualTo:function(t){if(t===this)return!0;var e;if(e=r.as(t,i)){if(e.weights.length!=this.weights.length)return!1;for(var n=r.iter(r.range(0,this.weights.length,!1));!n.done;n.next()){var o=n.value;if(this.weights[o]!=e.weights[o])return!1}return!0}return!1}}}),i)},ZTPx:function(t,e,n){var i,o=e,r=n("oAGj"),s=n("fNpk"),a=n("smUN"),l=n("sq5L"),c=n("Zifs");o.PGMColorTransformFilterSpec=(i=function t(e,n,i,o,r){this.rdot=e,this.gdot=n,this.bdot=i,this.adot=o,this.bias=r||c.SolidColor.ZERO,a.PGMFilterSpec.call(this,t.TYPE)},r.defineClass({name:"PGMColorTransformFilterSpec",ctor:i,superName:"PGMFilterSpec",statics:{TYPE:"PGMColorTransformFilterSpec",PROP_RDOT:"rdot",PROP_GDOT:"gdot",PROP_BDOT:"bdot",PROP_ADOT:"adot",PROP_BIAS:"bias",createLuminosityTransform:function(){var t=new c.SolidColor(.2125,.7154,.0721,0);return new i(t,t,t,t,null)},createColorizeTransform:function(t,e){return void 0===e&&(e=null),new i(new c.SolidColor(t.red,0,0,0),new c.SolidColor(0,t.green,0,0),new c.SolidColor(0,0,t.blue,0),new c.SolidColor(0,0,0,t.alpha),e)},createOpacityTransform:function(t){return i.createColorizeTransform(new c.SolidColor(1,1,1,t),c.SolidColor.ZERO)},createContrastTransform:function(t){var e=.5*(1-t),n=new c.SolidColor(t,t,t,1),o=new c.SolidColor(e,e,e,0);return i.createColorizeTransform(n,o)},decodeSpec:function(t,e){var n,o,s,a,u;return(n=c.SolidColor.decodeJson(r.as(t[i.PROP_RDOT],"AnyObject")))&&(o=c.SolidColor.decodeJson(r.as(t[i.PROP_GDOT],"AnyObject")))&&(s=c.SolidColor.decodeJson(r.as(t[i.PROP_BDOT],"AnyObject")))&&(a=c.SolidColor.decodeJson(r.as(t[i.PROP_ADOT],"AnyObject")))&&(u=c.SolidColor.decodeJson(r.as(t[i.PROP_BIAS],"AnyObject")))?new i(n,o,s,a,u):(e.error(l.PGMError.BAD_FILTER_SPEC,"PGMColorTransformFilterSpec: missing parameter(s)"),null)}},props:{encode:function(){var t=a.PGMFilterSpec.prototype.encode.call(this);return t[i.PROP_RDOT]=this.rdot.encodeJson(),t[i.PROP_GDOT]=this.gdot.encodeJson(),t[i.PROP_BDOT]=this.bdot.encodeJson(),t[i.PROP_ADOT]=this.adot.encodeJson(),t[i.PROP_BIAS]=this.bias.encodeJson(),t},isEqualTo:function(t){return t===this||!!(e=r.as(t,i))&&r.eq(c._equality_SolidColor_SolidColor,e.rdot,this.rdot)&&r.eq(c._equality_SolidColor_SolidColor,e.gdot,this.gdot)&&r.eq(c._equality_SolidColor_SolidColor,e.bdot,this.bdot)&&r.eq(c._equality_SolidColor_SolidColor,e.adot,this.adot)&&r.eq(c._equality_SolidColor_SolidColor,e.bias,this.bias);var e},interpolate:function(t,e){return e<=0?this:e>=1?t:(n=r.as(t,i))?new i(this.rdot.interpolate(n.rdot,e),this.gdot.interpolate(n.gdot,e),this.bdot.interpolate(n.bdot,e),this.adot.interpolate(n.adot,e),this.bias.interpolate(n.bias,e)):(s.LegacyCoreAssert.fail("can't interpolate to a different function spec type",void 0,"PGMColorTransformFilterSpec.interpolate","PGMColorTransformFilterSpec.swift",154),this);var n}}}),i)},ascj:function(t,e,n){var i,o,r,s=e,a=n("oAGj"),l=n("9WSY"),c=n("yhkb"),u=n("dJuF"),h=n("ZhwN"),d=n("iCxV"),P=n("fNpk"),f=n("Quhx"),p=n("Zifs");s.ColorRole=a.defineEnum("ColorRole",{None:0,FieldPrimary:1,FieldSecondary:2,Border:3}),s.ColorTableOwner=a.defineProtocol("ColorTableOwner",{colorTableSupportsRole:"(ColorRole) -> Boolean",colorTableBeforeChanged:"() -> Void",colorTableAfterChanged:"() -> Void",canColorEntriesBeEmpty:"() -> Boolean"}),s.ColorTableEntry=(i=function(t,e,n){this.colorID=t,this.color=e},a.defineClass({name:"ColorTableEntry",ctor:i}),i),s.ColorTable=(o=function(){this.colorLookup_=null},r={},a.defineClass({name:"ColorTable",ctor:o,superName:"PostPublishingObject",statics:{SCHEMA_CLASS_NAME:"ColorTable",codec:{get:function(){return void 0===r.codec&&(r.codec=u.DBPropertyCodec.registerCodec(o.SCHEMA_CLASS_NAME,u.DBPropertyCodec.directObjectCodec(o.SCHEMA_CLASS_NAME))),r.codec}},factory:{get:function(){return void 0===r.factory&&(r.factory=function(t,e,n,i){return o.init_866e(n,t)}),r.factory},set:function(t){r.factory=t}},PROPERTY_ENTRIES:"entries",PROPERTY_ENTRY_ROLE:"role",PROPERTY_ENTRY_COLORID:"color-id",PROPERTY_ENTRY_COLOR:"color",PROPERTY_ENTRY_THEME_INDEX:"theme-index",NAME_FIELD_PRIMARY:"field-primary",NAME_FIELD_SECONDARY:"field-secondary",NAME_BORDER:"border",createWithOneSolidColor:function(t){return o.init_2768(t,null)},createDefault:function(){return o.init_25f6([{key:s.ColorRole.FieldPrimary,value:c.ColorLibraryController.BLACK_KEY}])},entryArrayFromEntryDict:function(t){for(var e=[],n=a.iter(t,!0);!n.done;n.next()){var i,r,s,l=n.key,c=n.value,u={role:l};null!=(i=c.colorID)&&(u[o.PROPERTY_ENTRY_COLORID]=i),(r=c.color)&&(u[o.PROPERTY_ENTRY_COLOR]=r),null!=(s=c.themeIndex)&&(u[o.PROPERTY_ENTRY_THEME_INDEX]=s),e.push(a.clone(u))}return e},_implements:function(t){return"IDBObject"==t||"TheoMessageSubscriber"==t||"TheoMessagePublisher"==t}},props:{init_866e:function(t,e){a.super_init(this,f.PostPublishingObject,f.PostPublishingObject.prototype.init_866e,t,e)},init_25f6:function(t){for(var e={},n=a.iter(t);!n.done;n.next()){var i=n.value,r=i.key,l=i.value;e[r]=new s.ColorTableEntry(l,null,null)}var c={entries:a.clone(o.entryArrayFromEntryDict(a.clone(e)))};a.super_init(this,f.PostPublishingObject,f.PostPublishingObject.prototype.init_dd5d,{},a.clone(c))},init_2768:function(t,e){var n={};null!=t&&(n[s.ColorRole.FieldPrimary]=new s.ColorTableEntry(null,t,null)),null!=e&&(n[s.ColorRole.FieldSecondary]=new s.ColorTableEntry(null,e,null));var i={entries:a.clone(o.entryArrayFromEntryDict(a.clone(n)))};a.super_init(this,f.PostPublishingObject,f.PostPublishingObject.prototype.init_dd5d,{},a.clone(i))},className:{get:function(){return o.SCHEMA_CLASS_NAME}},owner:{get:function(){return this.owner_},set:function(t){this.owner_=t}},library:{get:function(){return this.library_},set:function(t){var e=this;this.library_=t,a.opt(this.librarySubscription_,(function(t){return t.unsubscribe()})),this.librarySubscription_=a.opt(this.library_,(function(t){return t.subscribe(e,l.ColorLibraryChangedMessage.TYPE)}))}},setColorLibraryWithoutSubscribing:function(t){this.library_=t,P.LegacyCoreAssert.isTrue(null==this.librarySubscription_,"shouldn't have an exisiting library subscription",void 0,"ColorTable.setColorLibraryWithoutSubscribing","ColorTable.swift",205)},onMessage:function(t){var e;if(e=a.as(t,l.ColorLibraryChangedMessage)){for(var n=!1,i=a.iter(this.colorLookup,!0);!i.done;i.next()){var o=i.value;if(null!=o.colorID&&(n=e.affectedColorIDs.includes(o.colorID)))break}n&&(e.isBefore?a.opt(this.owner_,(function(t){return t.colorTableBeforeChanged()})):a.opt(this.owner_,(function(t){return t.colorTableAfterChanged()})))}},willChangeState:function(t){a.opt(this.owner,(function(t){return t.colorTableBeforeChanged()})),f.PostPublishingObject.prototype.willChangeState.call(this,a.clone(t))},didChangeState:function(t){f.PostPublishingObject.prototype.didChangeState.call(this,a.clone(t)),a.opt(this.owner,(function(t){return t.colorTableAfterChanged()})),null!=t[o.PROPERTY_ENTRIES]&&(this.colorLookup_=null)},colorLookup:{get:function(){if(null==this.colorLookup_){var t,e={};if(t=a.as(this.get(o.PROPERTY_ENTRIES),["Array",["Dictionary","String","Any"]])){for(var n=a.iter(t);!n.done;n.next()){var i,r,l,c=n.value,u=a.as(c[o.PROPERTY_ENTRY_ROLE],s.ColorRole);null!=u&&u!=s.ColorRole.None?(null!=(i=a.as(c[o.PROPERTY_ENTRY_COLORID],"String"))?e[u]=new s.ColorTableEntry(i,null,null):(r=a.as(c[o.PROPERTY_ENTRY_COLOR],p.SolidColor))?e[u]=new s.ColorTableEntry(null,r,null):a.opt(d.Host.logging,(function(t){return t.warning("ColorTable: couldn't decode color")})),null!=(l=a.as(c[o.PROPERTY_ENTRY_THEME_INDEX],"Int"))&&a.opt(e[u],(function(t){return t.themeIndex=l}))):a.opt(d.Host.logging,(function(t){return t.warning("ColorTable: couldn't decode role")}))}var h;(h=this.owner)&&P.LegacyCoreAssert.isFalse(!h.canColorEntriesBeEmpty()&&0==a.count(e),"ColorTable: not entries filled out",void 0,"ColorTable","ColorTable.swift",267)}else a.opt(d.Host.logging,(function(t){return t.warning("ColorTable: entries not defined or not a dict")}));this.colorLookup_=a.clone(e)}return this.colorLookup_}},setNewEntries:function(t){var e=a.clone(o.entryArrayFromEntryDict(a.clone(t)));this.set(o.PROPERTY_ENTRIES,a.clone(e)),this.colorLookup_=null},hasReferencedColorsFromColorLibrary:function(){var t,e=s.ColorRole.FieldPrimary;return!(!(t=this.colorLookup[e])||null==t.colorID)},color:function(t){var e,n;return(e=this.colorLookup[t])?null!=(n=e.colorID)?a.opt(a.opt(this.library_,(function(t){return t.color(n)})),(function(t){return t.rgbColor})):e.color:null},theoColor:function(t){var e,n;return(e=this.colorLookup[t])?null!=(n=e.colorID)?a.opt(this.library_,(function(t){return t.color(n)})):(P.LegacyCoreAssert.fail("Can't look up a theo color this way",void 0,"ColorTable.theoColor","ColorTable.swift",338),null):null},colorID:function(t){return a.opt(this.colorLookup[t],(function(t){return t.colorID}))},themeIndex:function(t){return a.opt(this.colorLookup[t],(function(t){return t.themeIndex}))},supportsRole:function(t){return null==this.owner||this.owner.colorTableSupportsRole(t)},fieldPrimary:{get:function(){return this.color(s.ColorRole.FieldPrimary)},set:function(t){this.setColor(s.ColorRole.FieldPrimary,t)}},fieldSecondary:{get:function(){return this.color(s.ColorRole.FieldSecondary)},set:function(t){this.setColor(s.ColorRole.FieldSecondary,t)}},border:{get:function(){return this.color(s.ColorRole.Border)},set:function(t){this.setColor(s.ColorRole.Border,t)}},forEachColor:function(t){for(var e=this.library,n=a.iter(this.colorLookup,!0);!n.done;n.next()){var i,o=n.key,r=n.value;null!=(i=r.colorID)?t(o,i,a.opt(a.opt(e,(function(t){return t.color(i)})),(function(t){return t.rgbColor}))):t(o,null,r.color)}},asString:{get:function(){for(var t="",e=a.iter(this.colorLookup,!0);!e.done;e.next()){var n,i=e.key,o=e.value,r=o.color;null!=(n=o.colorID)&&(r=a.opt(a.opt(this.library,(function(t){return t.color(n)})),(function(t){return t.rgbColor})));var l="";null!=r&&(l+="Role: "+i+"\n",l+="Color: "+r.asString+"\n"),i==s.ColorRole.FieldPrimary?t=l+t:t+=l}return t}},equalTo:function(t){if(this.count!=t.count)return!1;for(var e=a.iter(this.colorLookup,!0);!e.done;e.next()){var n,i=e.key,o=e.value;if(!(n=t.colorLookup[i]))return!1;if(null!=n.colorID){if(n.colorID!=o.colorID)return!1}else if(!a.eq(p._equality_SolidColor_SolidColor,n.color,o.color))return!1;if(n.themeIndex!=o.themeIndex)return!1}return!0},isInDefaultState:{get:function(){return 0==a.count(this.colorLookup)}},count:{get:function(){return a.count(this.colorLookup)}},clone:function(){return this.fork(h.GUIDUtils.makeGUID())},match:function(t){this.makeMutable(),a.opt(this.owner,(function(t){return t.colorTableBeforeChanged()}));for(var e={},n=a.iter(t.colorLookup,!0);!n.done;n.next()){var i=n.key,o=n.value;e[i]=new s.ColorTableEntry(o.colorID,o.color,o.themeIndex)}this.setNewEntries(a.clone(e)),a.opt(this.owner,(function(t){return t.colorTableAfterChanged()}))},clearCache:function(){f.PostPublishingObject.prototype.clearCache.call(this),this.colorLookup_=null},setColorId:function(t,e){this.setColorIDs([{key:t,value:e}])},setColorIDs:function(t){for(var e=!1,n=a.clone(this.colorLookup),i=a.iter(t);!i.done;i.next()){var o=i.value,r=o.key,l=o.value,c=n[r];null==l?null!=c&&(e||(this.makeMutable(),a.opt(this.owner,(function(t){return t.colorTableBeforeChanged()})),e=!0),a.removeKey(n,r)):this.supportsRole(r)?null!=c&&c.colorID==l||(e||(this.makeMutable(),a.opt(this.owner,(function(t){return t.colorTableBeforeChanged()})),e=!0),null==c?n[r]=new s.ColorTableEntry(l,null,null):(c.colorID=l,c.color=null,n[r]=c)):a.opt(d.Host.logging,(function(t){return t.warning("Attempt to set a color role on a table that doesn't support role: "+r+" in setColorIDs")}))}this.setNewEntries(a.clone(n)),e&&a.opt(this.owner,(function(t){return t.colorTableAfterChanged()}))},setColor:function(t,e){var n=this.colorLookup[t];if(null==e){if(null!=n){this.makeMutable(),a.opt(this.owner,(function(t){return t.colorTableBeforeChanged()}));var i=a.clone(this.colorLookup);a.removeKey(i,t),this.setNewEntries(a.clone(i)),a.opt(this.owner,(function(t){return t.colorTableAfterChanged()}))}}else this.supportsRole(t)?null!=(n=this.colorLookup[t])&&a.eq(p._equality_SolidColor_SolidColor,n.color,e)||(this.makeMutable(),a.opt(this.owner,(function(t){return t.colorTableBeforeChanged()})),i=a.clone(this.colorLookup),null==n?i[t]=new s.ColorTableEntry(null,e,null):(n.colorID=null,n.color=e,i[t]=n),this.setNewEntries(a.clone(i)),a.opt(this.owner,(function(t){return t.colorTableAfterChanged()}))):a.opt(d.Host.logging,(function(e){return e.warning("Attempt to set a color role on a table that doesn't support role: "+t+" in setColor")}))},setBlendedColor:function(t,e,n,i){if(e.isEqual(n))this.setColor(t,e);else{var o=e.blend(n,i);this.setColor(t,o)}},setThemeIndex:function(t,e){var n;if(this.supportsRole(t))if(n=this.colorLookup[t])n.themeIndex=e;else{this.makeMutable();var i=a.clone(this.colorLookup);i[t]=new s.ColorTableEntry(null,null,e),this.setNewEntries(a.clone(i))}else a.opt(d.Host.logging,(function(e){return e.warning("Attempt to set a theme index on a table that doesn't support that role: "+t)}))},setColorAndIndex:function(t,e,n){this.setColor(t,e),this.setThemeIndex(t,n)}}}),o)},b94u:function(t,e,n){var i,o,r=e,s=n("oAGj"),a=n("PlOi");r.PGMResourceProviderList=(i=function(t){this.providers=s.clone(t)},o={},s.defineClass({name:"PGMResourceProviderList",ctor:i,statics:{EMPTY:{get:function(){return void 0===o.EMPTY&&(o.EMPTY=new i({})),o.EMPTY}},decode:function(t){var e,n={};if(e=s.as(t,["Dictionary","String",["Dictionary","String","Any"]]))for(var o=s.iter(e);!o.done;o.next()){var r,l=o.key,c=o.value;(r=a.PGMResourceProvider.decode(c))&&(n[l]=r)}return new i(s.clone(n))}},props:{byContentID:function(t){return this.providers[t]},forEach:function(t){for(var e=s.iter(this.providers);!e.done;e.next())t(e.key,e.value)},isEqualTo:function(t){if(this===t)return!0;if(s.count(this.providers)!=s.count(t.providers))return!1;for(var e=s.iter(this.providers);!e.done;e.next()){var n,i=e.key,o=e.value;if(!(n=t.providers[i]))return!1;if(!o.isEqualTo(n))return!1}return!0},encode:function(){for(var t={},e=s.iter(this.providers);!e.done;e.next()){var n=e.key,i=e.value;t[n]=i.encode()}return t},combine:function(t){for(var e=s.clone(this.providers),n=s.iter(t.providers);!n.done;n.next()){var o=n.key,r=n.value;null==e[o]&&(e[o]=r)}return new i(s.clone(e))},adding:function(t,e){var n=s.clone(this.providers);return n[t]=e,new i(s.clone(n))}}}),i)},dNmX:function(t,e,n){var i,o=e,r=n("oAGj"),s=n("gXiO"),a=n("fNpk"),l=n("b1vF");o.LABColor=(i=function(t,e,n,i){a.LegacyCoreAssert.isFalse(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(i),"lab color initilized with NaN values",void 0,"LABColor.init","LABColor.swift",32),a.LegacyCoreAssert.isTrue(t>=-.1&&t<=101,"lab color 'l' out of range",void 0,"LABColor.init","LABColor.swift",33),a.LegacyCoreAssert.isTrue(e>=-129&&e<=129,"lab color 'a' out of range",void 0,"LABColor.init","LABColor.swift",34),a.LegacyCoreAssert.isTrue(n>=-129&&n<=129,"lab color 'b' out of range",void 0,"LABColor.init","LABColor.swift",35),a.LegacyCoreAssert.isTrue(i>=0&&i<=1,"lab color alpha out of range",void 0,"LABColor.init","LABColor.swift",36),this.l=t,this.a=e,this.b=n,this.alpha=i,s.CoreObject.call(this)},r.defineClass({name:"LABColor",ctor:i,superName:"CoreObject",statics:{fromRGB:function(t){return i.fromXYZ(l.XYZColor.fromRGB(t),l.XYZColor.D65XYZ)},fromXYZ:function(t,e){function n(t){return t>.008856?Math.pow(t,1/3):7.787*t+.13793}var o=n(t.x/e.x),r=n(t.y/e.y),s=n(t.z/e.z);return new i(Math.min(Math.max(116*r-16,0),100),500*(o-r),200*(r-s),Math.min(Math.max(t.alpha,0),1))}},props:{distanceTo:function(t){var e=this.l-t.l,n=this.a-t.a,i=this.b-t.b;return Math.sqrt(e*e+n*n+i*i)},hueDistance:function(t){var e=this.hue,n=t.hue,i=Math.min(e/360,n/360),o=Math.max(e/360,n/360);return Math.min(o-i,i+1-o)},hue:{get:function(){return 180*Math.atan2(this.b,this.a)/3.14159265+180}},asXYZ:{get:function(){return null==this.xyz_&&(this.xyz_=this.toXYZ(l.XYZColor.D65XYZ)),this.xyz_}},asRGB:{get:function(){if(null==this.rgb_){var t=this.asXYZ;this.rgb_=t.asRGB}return this.rgb_}},print:function(){return r.toString("l: %.3f a %.3f b %.3f a: %.3f",this.l,this.a,this.b,this.alpha)},toXYZ:function(t){var e=(this.l+16)/116,n=Math.pow(e,3),i=this.a/500+e,o=Math.pow(i,3),r=e-this.b/200,s=Math.pow(r,3),a=o>.008856?o:(i-.13793)/7.787,c=n>.008856?n:(e-.13793)/7.787,u=s>.008856?s:(r-.13793)/7.787;return new l.XYZColor(a*t.x,c*t.y,u*t.z,this.alpha)}}}),i)},dmHI:function(t,e,n){var i,o=e,r=n("oAGj"),s=n("rKjb"),a=n("smUN"),l=n("sq5L");o.PGMFilter=(i=function t(e,n,i,o,a){this.spec=a,s.PGMComposite.call(this,t.TYPE,e,n,i,r.clone(o))},r.defineClass({name:"PGMFilter",ctor:i,superName:"PGMComposite",statics:{TYPE:"pgm-filter",PROP_SPEC:"spec",decodeComposite:function(t,e,n,o,s,c){var u,h;if(u=r.as(t[i.PROP_SPEC],["Dictionary","String","Any"])){if(h=a.PGMFilterSpec.decode(u,c))return new i(e,n,o,r.clone(s),h)}else c.error(l.PGMError.BAD_FILTER_SPEC,"no filter spec property found");return null}},props:{encode:function(){var t=s.PGMComposite.prototype.encode.call(this);return t[i.PROP_SPEC]=this.spec.encode(),t},withEntity:function(t){return new i(t,this.meta,this.animations,r.clone(this.children),this.spec)},withEntityAndChildren:function(t,e){return new i(t,this.meta,this.animations,r.clone(e),this.spec)},isEqualTo:function(t){return this===t||!!(e=r.as(t,i))&&s.PGMComposite.prototype.isEqualTo.call(this,e)&&this.spec.isEqualTo(e.spec);var e}}}),i)},dz2e:function(t,e,n){var i,o=e,r=n("oAGj"),s=n("fNpk"),a=n("smUN"),l=n("sq5L"),c=n("Zifs");o.PGMOverlayFilterSpec=(i=function t(e){this.filterColor=e,a.PGMFilterSpec.call(this,t.TYPE)},r.defineClass({name:"PGMOverlayFilterSpec",ctor:i,superName:"PGMFilterSpec",statics:{TYPE:"PGMOverlayFilterSpec",PROP_FILTER_COLOR:"filterColor",decodeSpec:function(t,e){var n;return(n=c.SolidColor.decodeJson(r.as(t[i.PROP_FILTER_COLOR],"AnyObject")))?new i(n):(e.error(l.PGMError.BAD_FILTER_SPEC,"PGMOverlayFilterSpec: missing parameter(s)"),null)}},props:{encode:function(){var t=a.PGMFilterSpec.prototype.encode.call(this);return t[i.PROP_FILTER_COLOR]=this.filterColor.encodeJson(),t},isEqualTo:function(t){return this===t||!!(e=r.as(t,i))&&r.eq(c._equality_SolidColor_SolidColor,this.filterColor,e.filterColor);var e},interpolate:function(t,e){return e<=0?this:e>=1?t:(n=r.as(t,i))?new i(this.filterColor.interpolate(n.filterColor,e)):(s.LegacyCoreAssert.fail("can't interpolate to a different function spec type",void 0,"PGMOverlayFilterSpec.interpolate","PGMOverlayFilterSpec.swift",73),this);var n}}}),i)},"f/aw":function(t,e,n){var i,o=e,r=n("oAGj"),s=n("5D0C"),a=n("7hc0"),l=n("sq5L"),c=n("W6ub"),u=n("bJhu"),h=n("sIWg");o.PGMTextAnimation=(i=function t(e,n,i,o,r,a,l){this.startBounds=n,this.endBounds=o,this.startStyle=i,this.endStyle=r,this.startRenderRuns=a,this.endRenderRuns=l,s.PGMAnimation.call(this,t.TYPE,e)},r.defineClass({name:"PGMTextAnimation",ctor:i,superName:"PGMAnimation",statics:{TYPE:"pgm-anim-text",PROP_START_BOUNDS:"start-bounds",PROP_START_STYLE:"start-style",PROP_END_BOUNDS:"end-bounds",PROP_END_STYLE:"end-style",PROP_START_RENDERRUNS:"start-render-runs",PROP_END_RENDERRUNS:"end-render-runs",decodeAnimation:function(t,e,n,o){var s,a,d,P,f,p;return(s=h.TheoRect.decodeJson(r.as(t[i.PROP_START_BOUNDS],"AnyObject")))&&(a=u.PGMTextStyle.decode(r.as(t[i.PROP_START_STYLE],["Dictionary","String","Any"]),n,o))&&(d=h.TheoRect.decodeJson(r.as(t[i.PROP_END_BOUNDS],"AnyObject")))&&(P=u.PGMTextStyle.decode(r.as(t[i.PROP_END_STYLE],["Dictionary","String","Any"]),n,o))&&(f=c.PGMRenderRuns.decode(r.as(t[i.PROP_START_RENDERRUNS],["Dictionary","String","Any"])))&&(p=c.PGMRenderRuns.decode(r.as(t[i.PROP_END_RENDERRUNS],["Dictionary","String","Any"])))?new i(e,s,a,d,P,f,p):(o.error(l.PGMError.BAD_TEXT_ANIMATION,"Couldn't decode required parameter(s)"),null)}},props:{encode:function(){var t=s.PGMAnimation.prototype.encode.call(this);return t[s.PGMAnimation.PROP_TYPE]=i.TYPE,t[i.PROP_START_BOUNDS]=this.startBounds.encodeJson(),t[i.PROP_START_STYLE]=this.startStyle.encode(),t[i.PROP_END_BOUNDS]=this.endBounds.encodeJson(),t[i.PROP_END_STYLE]=this.endStyle.encode(),t[i.PROP_START_RENDERRUNS]=this.startRenderRuns.encode(),t[i.PROP_END_RENDERRUNS]=this.endRenderRuns.encode(),t},isEqualTo:function(t){return this===t||!!(e=r.as(t,i))&&this.startBounds.equal(e.startBounds)&&this.startStyle.isEqualTo(e.startStyle)&&this.endBounds.equal(e.endBounds)&&this.endStyle.isEqualTo(e.endStyle)&&this.startRenderRuns.isEqualTo(e.startRenderRuns)&&this.endRenderRuns.isEqualTo(e.endRenderRuns)&&s.PGMAnimation.prototype.isEqualTo.call(this,t);var e},interpolate:function(t){var e=a.PGMAnimationUtils.bound01(this.timeFn.apply(t));return{bounds:this.startBounds.interpolate(this.endBounds,e),style:this.startStyle.interpolate(this.endStyle,e),renderRuns:this.startRenderRuns.interpolate(this.endRenderRuns,e)}}}}),i)},g6aL:function(t,e,n){var i,o=e,r=n("oAGj"),s=n("rKjb");o.PGMSimpleGroup=(i=function t(e,n,i,o){s.PGMComposite.call(this,t.TYPE,e,n,i,r.clone(o))},r.defineClass({name:"PGMSimpleGroup",ctor:i,superName:"PGMComposite",statics:{TYPE:"pgm-group",decodeComposite:function(t,e,n,o,s,a){return new i(e,n,o,r.clone(s))}},props:{encode:function(){return s.PGMComposite.prototype.encode.call(this)},withEntity:function(t){return new i(t,this.meta,this.animations,r.clone(this.children))},withEntityAndChildren:function(t,e){return new i(t,this.meta,this.animations,r.clone(e))}}}),i)},hauK:function(t,e,n){var i,o=e,r=n("oAGj"),s=n("fNpk"),a=n("tGKA"),l=n("Ird5"),c=n("rKjb"),u=n("sq5L"),h=n("WGnI"),d=n("yjxF");o.IPGMDecoderFactory=r.defineProtocol("IPGMDecoderFactory",{constructNode:"(String, IPGMLog) -> PGMNode",constructTextStyle:"(String, IPGMLog) -> PGMTextStyle",constructFont:"(String, IPGMLog) -> PGMFont"}),o.PGMNode=(i=function(t,e,n,i){this.type=t,this.entity=e,this.meta=n,this.animations=i},r.defineClass({name:"PGMNode",ctor:i,statics:{PROP_ENTITY:"entity",PROP_TYPE:"type",PROP_ANIMATIONS:"animations",PROP_META:"meta",decode:function(t,e,n){var o,s,a;if(null!=(s=r.as(t[i.PROP_ENTITY],"String"))&&null!=(a=r.as(t[i.PROP_TYPE],"String"))){var P,f,p=d.PGMNodeMetadata.decode(r.as(t[i.PROP_META],["Dictionary","String","Any"]),n),m=l.PGMAnimationList.decode(r.as(t[i.PROP_ANIMATIONS],["Array","Any"]),e,n);(P=h.PGMLeaf.decodeNode(t,a,s,p,m,e,n))?o=P:(f=c.PGMComposite.decodeNode(t,a,s,p,m,e,n))?o=f:(n.error(u.PGMError.UNKNOWN_NODE_TYPE,"Not a handled node type: "+a+"."),o=null)}else n.error(u.PGMError.BAD_NODE,"Missing entity and/or type properties."),o=null;return o}},props:{encode:function(){var t={};return t[i.PROP_TYPE]=this.type,t[i.PROP_ENTITY]=this.entity,this.animations.isEmpty||(t[i.PROP_ANIMATIONS]=this.animations.encode()),this.meta.isEmpty()||(t[i.PROP_META]=this.meta.encode()),t},getTextStylesReferenced:function(){return null},withEntity:function(t){return s.LegacyCoreAssert.fail("cloning a base PGMNode?",void 0,"PGMNode.withEntity","PGMNode.swift",67),new i(this.type,t,this.meta,this.animations)},visit:function(t){t(this)},visitByRef:function(t){},visitEx:function(t,e,n,i,o){return void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=a.Matrix2D.Identity),void 0===o&&(o=a.Matrix2D.Identity),t(this,i,o)?null:this},countIf:function(t){var e=0;return this.visit((function(n){t(n)&&(e+=1)})),e},isEqualTo:function(t){return this===t||this.type==t.type&&this.entity==t.entity&&this.meta.isEqualTo(t.meta)&&this.animations.isEqualTo(t.animations)}}}),i)},jLWG:function(t,e,n){var i,o=e,r=n("oAGj"),s=n("rKjb"),a=n("sq5L"),l=n("hgLm");o.PGMClip=(i=function t(e,n,i,o,a){this.clipPaths=r.clone(a),s.PGMComposite.call(this,t.TYPE,e,n,i,r.clone(o))},r.defineClass({name:"PGMClip",ctor:i,superName:"PGMComposite",statics:{TYPE:"pgm-clip",PROP_CLIP_PATHS:"clip-paths",decodeComposite:function(t,e,n,o,s,c){var u;if(u=r.as(t[i.PROP_CLIP_PATHS],["Array","Any"])){for(var h=[],d=r.iter(u);!d.done;d.next()){var P,f=d.value;(P=l.TheoPath.decodeJson(r.as(f,"AnyObject")))&&h.push(P)}return new i(e,n,o,r.clone(s),r.clone(h))}return c.error(a.PGMError.BAD_CLIP,"PGMClip decode: missing clipping paths property"),null}},props:{encode:function(){for(var t=s.PGMComposite.prototype.encode.call(this),e=[],n=r.iter(this.clipPaths);!n.done;n.next()){var o=n.value;e.push(o.encodeJson())}return t[i.PROP_CLIP_PATHS]=e,t},withEntity:function(t){return new i(t,this.meta,this.animations,r.clone(this.children),r.clone(this.clipPaths))},withEntityAndChildren:function(t,e){return new i(t,this.meta,this.animations,r.clone(e),r.clone(this.clipPaths))},clipBounds:{get:function(){var t=null;if(1==this.clipPaths.length)t=this.clipPaths[0].bounds;else for(var e=r.iter(this.clipPaths);!e.done;e.next()){var n=e.value;t=null!=t?r.opt(t,(function(t){return t.unionWith(n.bounds)})):n.bounds}return t}}}}),i)},jSYS:function(t,e,n){var i,o,r=e,s=n("oAGj"),a=n("sJQG"),l=n("sWrh");r.PGMLinearFunction=(i=function t(e,n){l.PGMUnaryFunction.call(this,t.TYPE,e,n)},o={},s.defineClass({name:"PGMLinearFunction",ctor:i,superName:"PGMUnaryFunction",statics:{TYPE:"pgm-linear-function",UNIT:{get:function(){return void 0===o.UNIT&&(o.UNIT=new i(a.PGMRange.UNIT,a.PGMRange.UNIT)),o.UNIT}},decodeFn:function(t,e,n){return new i(e,n)}},props:{apply:function(t){return this.range.applyU(this.domain.boundedU(t))},isEqualTo:function(t){return l.PGMUnaryFunction.prototype.isEqualTo.call(this,t)},encode:function(){return l.PGMUnaryFunction.prototype.encode.call(this)}}}),i)},jfiy:function(t,e,n){var i,o=e,r=n("oAGj"),s=n("fNpk"),a=n("smUN"),l=n("sq5L"),c=n("Zifs");o.PGMFillFilterSpec=(i=function t(e){this.filterColor=e,a.PGMFilterSpec.call(this,t.TYPE)},r.defineClass({name:"PGMFillFilterSpec",ctor:i,superName:"PGMFilterSpec",statics:{TYPE:"PGMFillFilterSpec",PROP_FILTER_COLOR:"filterColor",decodeSpec:function(t,e){var n;return(n=c.SolidColor.decodeJson(r.as(t[i.PROP_FILTER_COLOR],"AnyObject")))?new i(n):(e.error(l.PGMError.BAD_FILTER_SPEC,"PGMFillFilterSpec: missing parameter(s)"),null)}},props:{encode:function(){var t=a.PGMFilterSpec.prototype.encode.call(this);return t[i.PROP_FILTER_COLOR]=this.filterColor.encodeJson(),t},isEqualTo:function(t){return this===t||!!(e=r.as(t,i))&&r.eq(c._equality_SolidColor_SolidColor,this.filterColor,e.filterColor);var e},interpolate:function(t,e){return e<=0?this:e>=1?t:(n=r.as(t,i))?new i(this.filterColor.interpolate(n.filterColor,e)):(s.LegacyCoreAssert.fail("can't interpolate to a different function spec type",void 0,"PGMFillFilterSpec.interpolate","PGMFillFilterSpec.swift",72),this);var n}}}),i)},jfma:function(t,e,n){var i,o,r=e,s=n("oAGj"),a=n("tGKA");r.PGMBlendModeEnum=s.defineEnum("PGMBlendModeEnum",{Normal:"normal",Multiply:"multiply",Screen:"screen"}),r.PGMCompositingParams=(i=function(t,e,n){void 0===e&&(e=1),void 0===n&&(n=r.PGMBlendModeEnum.Normal),this.placement=t,this.opacity=e,this.blendMode=n},o={},s.defineClass({name:"PGMCompositingParams",ctor:i,statics:{PROP_REF_PLACEMENT:"placement",PROP_REF_OPACITY:"opacity",PROP_REF_BLEND_MODE:"blend-mode",DEFAULT:{get:function(){return void 0===o.DEFAULT&&(o.DEFAULT=new i(a.Matrix2D.Identity,1,r.PGMBlendModeEnum.Normal)),o.DEFAULT}},decode:function(t,e){var n,o,l;if(l=t){var c,u;c=null!=(u=l[i.PROP_REF_PLACEMENT])?a.Matrix2D.decodeJson(s.as(u,"AnyObject")):a.Matrix2D.Identity;var h,d,P=(n=s.as(l[i.PROP_REF_OPACITY],"Double"))||null!=n?n:1;return h=null==(d=s.as(l[i.PROP_REF_BLEND_MODE],"String"))||!(o=r.PGMBlendModeEnum.toCaseValue(d))&&null==o?r.PGMBlendModeEnum.Normal:o,i.smartInit(c,P,h)}return null},smartInit:function(t,e,n){return void 0===e&&(e=1),void 0===n&&(n=r.PGMBlendModeEnum.Normal),t.isIdentity&&1==e&&n==r.PGMBlendModeEnum.Normal?i.DEFAULT:new i(t,e,n)}},props:{withPlacement:function(t){return this.placement.equal(t)?this:i.smartInit(t,this.opacity,this.blendMode)},withOpacity:function(t){return t==this.opacity?this:i.smartInit(this.placement,t,this.blendMode)},equal:function(t){return this.placement.equal(t.placement)&&this.opacity==t.opacity&&this.blendMode==t.blendMode},isDefault:function(){return this.placement.isIdentity&&1==this.opacity&&this.blendMode==r.PGMBlendModeEnum.Normal},encode:function(){var t={};return this.placement.isIdentity||(t[i.PROP_REF_PLACEMENT]=this.placement.encodeJson()),1!=this.opacity&&(t[i.PROP_REF_OPACITY]=this.opacity),this.blendMode!=r.PGMBlendModeEnum.Normal&&(t[i.PROP_REF_BLEND_MODE]=this.blendMode),t},asString:{get:function(){return"comp(pl:"+this.placement.asString+";op:"+this.opacity+";bl:"+this.blendMode+")"}}}}),i)},m404:function(t,e,n){var i,o=e,r=n("oAGj"),s=n("fNpk"),a=n("Zifs");o.HSBColor=(i=function(t,e,n,i){s.LegacyCoreAssert.isFalse(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(i),"HSB color initilized with NaN values",void 0,"HSBColor.init","HSBColor.swift",20),s.LegacyCoreAssert.isTrue(t>=0&&t<=1,"hue out of range",void 0,"HSBColor.init","HSBColor.swift",21),s.LegacyCoreAssert.isTrue(e>=0&&e<=1,"saturation out of range",void 0,"HSBColor.init","HSBColor.swift",22),s.LegacyCoreAssert.isTrue(n>=0&&n<=1,"brightness out of range",void 0,"HSBColor.init","HSBColor.swift",23),s.LegacyCoreAssert.isTrue(i>=0&&i<=1,"alpha out of range",void 0,"HSBColor.init","HSBColor.swift",24),this.h=t,this.s=e,this.b=n,this.alpha=i},r.defineClass({name:"HSBColor",ctor:i,superName:"CoreObject",statics:{fromRGB:function(t){var e=Math.max(t.red,Math.max(t.green,t.blue)),n=e-Math.min(t.red,Math.min(t.green,t.blue));if(0==n)return new i(0,0,e,t.alpha);var o=0;return(o=t.red==e?(t.green-t.blue)/n:t.green==e?2+(t.blue-t.red)/n:4+(t.red-t.green)/n)<0?o=(60*o+360)%360/360:o/=6,new i(o,n/e,e,Math.min(Math.max(t.alpha,0),1))}},props:{hueDistance:function(t){var e=Math.min(t.h,this.h),n=Math.max(t.h,this.h);return Math.min(n-e,e+1-n)},asRGB:{get:function(){var t=r.toInt(Math.floor(6*this.h)),e=6*this.h-r.toDouble(t),n=this.b*(1-this.s),i=this.b*(1-e*this.s),o=this.b*(1-(1-e)*this.s);switch(t%6){case 0:return new a.SolidColor(this.b,o,n,this.alpha);case 1:return new a.SolidColor(i,this.b,n,this.alpha);case 2:return new a.SolidColor(n,this.b,o,this.alpha);case 3:return new a.SolidColor(n,i,this.b,this.alpha);case 4:return new a.SolidColor(o,n,this.b,this.alpha);case 5:return new a.SolidColor(this.b,n,i,this.alpha);default:return new a.SolidColor(0,0,0,0)}}}}}),i)},rKjb:function(t,e,n){var i,o=e,r=n("oAGj"),s=n("fNpk"),a=n("tGKA"),l=n("jLWG"),c=n("dmHI"),u=n("sq5L"),h=n("hauK"),d=n("Aj79"),P=n("g6aL");o.PGMComposite=(i=function(t,e,n,i,o){this.children=r.clone(o),h.PGMNode.call(this,t,e,n,i)},r.defineClass({name:"PGMComposite",ctor:i,superName:"PGMNode",statics:{PROP_CHILDREN:"children",decodeNode:function(t,e,n,o,s,a,u){var h;if(null!=(h=t[i.PROP_CHILDREN]))switch(e){case"pgm-group":if(d=i.decodeChildren(h,a,u))return P.PGMSimpleGroup.decodeComposite(t,n,o,s,r.clone(d),u);break;case"pgm-filter":if(d=i.decodeChildren(h,a,u))return c.PGMFilter.decodeComposite(t,n,o,s,r.clone(d),u);break;case"pgm-clip":var d;if(d=i.decodeChildren(h,a,u))return l.PGMClip.decodeComposite(t,n,o,s,r.clone(d),u);break;default:return null}return null},decodeChildren:function(t,e,n){var i;if(i=r.as(t,["Array","Any"])){for(var o=[],s=r.iter(i);!s.done;s.next()){var a,l=s.value;if(!(a=d.PGMReference.decode(r.as(l,["Dictionary","String","Any"]),e,n)))return null;o.push(a)}return o}return null!=t&&n.error(u.PGMError.BAD_CHILDREN_ENTRY,"Expected 'children' to be an array of dictionaries."),null}},props:{visit:function(t){t(this);for(var e=r.iter(this.children);!e.done;e.next())e.value.child.visit(t)},visitByRef:function(t){for(var e=r.iter(this.children);!e.done;e.next())e.value.visit(t)},visitEx:function(t,e,n,i,o){if(void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=a.Matrix2D.Identity),void 0===o&&(o=a.Matrix2D.Identity),!t(this,i,o))return this;if(null!=e&&!e(this,i,o))return null;for(var s=null,l=r.iter(this.children);!l.done;l.next()){var c=l.value;if(null!=(s=c.child.visitEx(t,e,n,c.compositing.placement,o.concat(c.compositing.placement))))break}return null!=n&&n(this),s},indexOfChild:function(t){for(var e=r.iter(r.range(0,this.children.length,!1));!e.done;e.next()){var n=e.value;if(this.children[n].child.entity==t)return n}return null},encode:function(){var t=h.PGMNode.prototype.encode.call(this),e=[];t[i.PROP_CHILDREN]=e;for(var n=r.iter(this.children);!n.done;n.next()){var o=n.value;e.push(o.encode())}return t},withEntityAndChildren:function(t,e){return s.LegacyCoreAssert.fail("subclass must implement",void 0,"PGMComposite.withEntityAndChildren","PGMComposite.swift",131),this},isEqualTo:function(t){if(t===this)return!0;var e;if(e=r.as(t,i)){if(!h.PGMNode.prototype.isEqualTo.call(this,t))return!1;if(e.children.length!=this.children.length)return!1;for(var n=r.iter(r.range(0,this.children.length,!1));!n.done;n.next()){var o=n.value;if(!this.children[o].isEqualTo(e.children[o]))return!1}return!0}return!1}}}),i)},sWrh:function(t,e,n){var i,o=e,r=n("oAGj"),s=n("fNpk"),a=n("sq5L"),l=n("jSYS"),c=n("KB91"),u=n("BnJw"),h=n("sJQG"),d=n("/eOI");o.PGMUnaryFunction=(i=function(t,e,n){this.type=t,this.domain=e,this.range=n},r.defineClass({name:"PGMUnaryFunction",ctor:i,statics:{PROP_TYPE:"type",PROP_DOMAIN:"domain",PROP_RANGE:"range",decode:function(t,e){var n,o,s,P;if(!(n=t))return null;if(null==(o=r.as(n[i.PROP_TYPE],"String"))||!(s=h.PGMRange.decode(r.as(n[i.PROP_DOMAIN],["Dictionary","String","Any"])))||!(P=h.PGMRange.decode(r.as(n[i.PROP_RANGE],["Dictionary","String","Any"]))))return e.error(a.PGMError.BAD_FUNCTION,"PGMUnaryFunction.decode: missing valid type, domain, or range"),null;switch(o){case"pgm-linear-function":return l.PGMLinearFunction.decodeFn(t,s,P);case"pgm-sine-easing-fn":return d.PGMSineEasingFunction.decodeFn(t,s,P);case"pgm-periodic-fn":return u.PGMPeriodicFunction.decodeFn(t,s,P);case"pgm-looping-function":return c.PGMLoopingFunction.decodeFn(t,s,P,e);default:return e.error(a.PGMError.BAD_FUNCTION,"PGMUnaryFunction.decode: type "+o+" not recognized"),null}}},props:{apply:function(t){return s.LegacyCoreAssert.fail("unimplemented apply()",void 0,"PGMUnaryFunction.apply","PGMUnaryFunction.swift",32),0},encode:function(){var t={};return t[i.PROP_TYPE]=this.type,t[i.PROP_DOMAIN]=this.domain.encode(),t[i.PROP_RANGE]=this.range.encode(),t},isEqualTo:function(t){return t.domain.isEqualTo(this.domain)&&t.range.isEqualTo(this.range)}}}),i)},smUN:function(t,e,n){var i,o,r,s=e,a=n("oAGj"),l=n("fNpk"),c=n("WjWV"),u=n("Iv44"),h=n("GDe9"),d=n("ZTPx"),P=n("+ASD"),f=n("jfiy"),p=n("sq5L"),m=n("vTQu"),M=n("dz2e"),T=n("JQ9Y");s.PGMFilterSpec=(i=function(t){this.type=t},a.defineClass({name:"PGMFilterSpec",ctor:i,statics:{PROP_TYPE:"pgm-filter-spec",decode:function(t,e){var n,o;if(n=t)if(null!=(o=a.as(n[i.PROP_TYPE],"String")))switch(o){case"NONE":return s.PGMNullFilterSpec.INSTANCE;case"PGMColorTransformFilterSpec":return d.PGMColorTransformFilterSpec.decodeSpec(t,e);case"PGMBlendFilterSpec":return c.PGMBlendFilterSpec.decodeSpec(t,e);case"PGMDuotoneFilterSpec":return P.PGMDuotoneFilterSpec.decodeSpec(t,e);case"PGMFillFilterSpec":return f.PGMFillFilterSpec.decodeSpec(t,e);case"PGMOverlayFilterSpec":return M.PGMOverlayFilterSpec.decodeSpec(t,e);case"PGMScreenFilterSpec":return T.PGMScreenFilterSpec.decodeSpec(t,e);case"PGMMaskFilterSpec":return m.PGMMaskFilterSpec.decodeSpec(t,e);case"PGMBlurFilterSpec":return u.PGMBlurFilterSpec.decodeSpec(t,e);case"PGMColorAdjustmentFilterSpec":return h.PGMColorAdjustmentFilterSpec.decodeSpec(t,e);default:e.error(p.PGMError.BAD_FILTER_SPEC,"PGMFilterSpec.decode unrecognized filter spec: "+o)}else e.error(p.PGMError.BAD_FILTER_SPEC,"PGMFilterSpec: missing type property");return null}},props:{encode:function(){var t={};return t[i.PROP_TYPE]=this.type,t},interpolate:function(t,e){return this},isEqualTo:function(t){return l.LegacyCoreAssert.fail("subclass of PGMFilterSpec must implement isEqualTo",void 0,"PGMFilterSpec.isEqualTo","PGMFilterSpec.swift",80),!1}}}),i),s.PGMNullFilterSpec=(o=function t(){s.PGMFilterSpec.call(this,t.TYPE)},r={},a.defineClass({name:"PGMNullFilterSpec",ctor:o,superName:"PGMFilterSpec",statics:{TYPE:"NONE",INSTANCE:{get:function(){return void 0===r.INSTANCE&&(r.INSTANCE=new o),r.INSTANCE}}}}),o)},sq5L:function(t,e,n){var i,o,r=e,s=n("oAGj"),a=n("iCxV"),l=n("fNpk"),c=n("rKjb"),u=n("djS+"),h=n("YFY8"),d=n("euLT"),P=n("Aj79"),f=n("b94u"),p=n("sIWg");r.PGMGraphVersion=s.defineEnum("PGMGraphVersion",{FirstPublicRelease:1e3}),r.PGMError=s.defineEnum("PGMError",{NO_VERSION:"NO_VERSION",BREAKING_VERSION:"BREAKING_VERSION",NO_ROOT_ENTITY:"NO_ROOT_ENTITY",CYCLIC_GRAPH:"CYCLIC_GRAPH",MISSING_ENTITY:"MISSING_ENTITY",MISSING_TEXT_STYLE:"MISSING_TEXT_STYLE",MISSING_FONT:"MISSING_FONT",UNKNOWN_ANIMATION:"UNKNOWN_ANIMATION",UNKNOWN_NODE_TYPE:"UNKNOWN_NODE_TYPE",UNKNOWN_MEDIA_TYPE:"UNKNOWN_MEDIA_TYPE",BAD_TEXT_STYLE:"BAD_TEXT_STYLE",BAD_FONT:"BAD_FONT",BAD_ANIMATION:"BAD_ANIMATION",BAD_TRANSFORM_ANIMATION:"BAD_TRANSFORM_ANIMATION",BAD_SHAPE:"BAD_SHAPE",BAD_MEDIA:"BAD_MEDIA",BAD_TEXT_ANIMATION:"BAD_TEXT_ANIMATION",BAD_REFERENCE:"BAD_REFERENCE",BAD_SHAPE_ANIMATION:"BAD_SHAPE_ANIMATION",BAD_NODE:"BAD_NODE",BAD_TEXT:"BAD_TEXT",BAD_FILTER_ANIMATION:"BAD_FILTER_ANIMATION",BAD_OPACITY_ANIMATION:"BAD_OPACITY_ANIMATION",BAD_CHILDREN_ENTRY:"BAD_CHILDREN_ENTRY",BAD_FILTER_SPEC:"BAD_FILTER_SPEC",BAD_CLIP:"BAD_CLIP",BAD_FUNCTION:"BAD_FUNCTION",BAD_TRANSFORMED_BOUNDS:"BAD_TRANSFORMED_BOUNDS"}),r.IPGMLog=s.defineProtocol("IPGMLog",{info:"(String) -> Void",warn:"(String) -> Void",error:"(PGMError, String) -> Void"}),r.PGMLogToCoreAssert=(i=function(t){this.prefix=t},o={},s.defineClass({name:"PGMLogToCoreAssert",ctor:i,statics:{INSTANCE:{get:function(){return void 0===o.INSTANCE&&(o.INSTANCE=new i("PGM: ")),o.INSTANCE}},_implements:function(t){return"IPGMLog"==t}},props:{info:function(t){var e=this;s.opt(a.Host.logging,(function(n){return n.info(e.prefix+t)}))},warn:function(t){var e=this;s.opt(a.Host.logging,(function(n){return n.info(e.prefix+"WARNING: "+t)}))},error:function(t,e){l.LegacyCoreAssert.fail(this.prefix+"ERROR_"+t+": "+e,void 0,"PGMLogToCoreAssert.error","PGMGraph.swift",75)}}}),i),r.PGMGraph=function(){var t=function t(e,n,i,o){this.root=e,this.rootRef=new P.PGMReference(e),this.bounds=n,this.duration=i,this.resources=o,this.canBeEncoded=t.validate(e)},e={};return s.defineClass({name:"PGMGraph",ctor:t,superName:"CoreObject",statics:{CURRENT_VERSION:{get:function(){return void 0===e.CURRENT_VERSION&&(e.CURRENT_VERSION=r.PGMGraphVersion.FirstPublicRelease),e.CURRENT_VERSION}},PROP_VERSION:"version",PROP_ROOT_ENTITY:"root-entity",PROP_ENTITIES:"entities",PROP_TEXT_STYLES:"text-styles",PROP_FONTS:"fonts",PROP_DURATION:"duration",PROP_BOUNDS:"bounds",PROP_RESOURCES:"resources",EMPTY:{get:function(){return void 0===e.EMPTY&&(e.EMPTY=new t(new d.PGMNullNode("root"),p.TheoRect.ONE_BY_ONE,0,f.PGMResourceProviderList.EMPTY)),e.EMPTY}},validate:function(t){var e={};return function t(n){var i;if(e[n.entity]=n,i=s.as(n,c.PGMComposite))for(var o=s.iter(i.children);!o.done;o.next()){var r,a=o.value;if(r=e[a.child.entity]){if(r!==a.child)return l.LegacyCoreAssert.fail("entity is used by more than one distinct node; graph will not persist properly",{entity:a.child.entity},"PGMGraph.validate","PGMGraph.swift",134),!1}else if(!t(a.child))return!1}return!0}(t)},decode:function(t,e){return void 0===e&&(e=null),new u.PGMGraphDecoder(t).decode(e||r.PGMLogToCoreAssert.INSTANCE)}},props:{visitByRef:function(t){t(this.rootRef),this.root.visitByRef(t)},findReferencesToEntity:function(t){var e=[];return this.visitByRef((function(n){n.child.entity==t&&e.push(n)})),e},encode:function(){return h.PGMGraphEncoder.encode(this)},isEqualTo:function(t){return t===this||this.duration==t.duration&&this.bounds.equal(t.bounds)&&this.root.isEqualTo(t.root)&&this.resources.isEqualTo(t.resources)},withRoot:function(e){return e===this.root?this:new t(e,this.bounds,this.duration,this.resources)},withBounds:function(e){return e.equal(this.bounds)?this:new t(this.root,e,this.duration,this.resources)},withDuration:function(e){return e==this.duration?this:new t(this.root,this.bounds,e,this.resources)},withResources:function(e){return e===this.resources?this:new t(this.root,this.bounds,this.duration,e)}}}),t}()},tGKA:function(t,e,n){var i,o,r,s,a=e,l=n("oAGj"),c=n("gXiO"),u=n("6ZWm"),h=n("iCxV"),d=n("fNpk"),P=n("3DEm"),f=n("oKlP"),p=n("sIWg");a.flip_affects_only_yscale=!1,a.TransformValuesOrdering=l.defineEnum("TransformValuesOrdering",{SKRT:0,RKST:1}),a.TransformValues=(i=function(t,e,n,i,o,r,s,a){this.ordering=t,this.xscale=e,this.yscale=n,this.skew=i,this.rotCosine=o,this.rotSine=r,this.tx=s,this.ty=a,c.CoreObject.call(this)},l.defineClass({name:"TransformValues",ctor:i,superName:"CoreObject",props:{description:{get:function(){var t=Math.acos(-1);return"sx: "+this.xscale+", sy: "+this.yscale+", angle: "+180*Math.atan2(this.rotSine,this.rotCosine)/t+" degs, skew: "+this.skew+", tx: "+this.tx+", ty: "+this.ty}}}}),i),a.ExtractedScale=(o=function(t,e){this.matrix=t,this.scale=e,c.CoreObject.call(this)},l.defineClass({name:"ExtractedScale",ctor:o,superName:"CoreObject"}),o),a.Matrix2D=(r=function(t,e,n,i,o,r){this.transformValuesRKST_=null,this.transformValues_=null,this.extractedScale_=null,this.inverse_=null,d.LegacyCoreAssert.isFalse(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(i)||isNaN(o)||isNaN(r),"Matrix initialized with NaN values",void 0,"Matrix2D.init","Matrix2D.swift",78),d.LegacyCoreAssert.isFalse(l.isInfinite(t)||l.isInfinite(e)||l.isInfinite(n)||l.isInfinite(i)||l.isInfinite(o)||l.isInfinite(r),"Matrix initialized with infinite values",void 0,"Matrix2D.init","Matrix2D.swift",79),this.a=t,this.b=e,this.c=n,this.d=i,this.tx=o,this.ty=r,this.isIdentity=1==t&&0==e&&0==n&&1==i&&0==o&&0==r,c.CoreObject.call(this),0==this.determinant&&l.opt(h.Host.logging,(function(t){return t.warning("Creating a singular Matrix2D")}))},s={},l.defineClass({name:"Matrix2D",ctor:r,superName:"CoreObject",statics:{Identity:{get:function(){return void 0===s.Identity&&(s.Identity=new r(1,0,0,1,0,0)),s.Identity}},concat2:function(t,e){return new r(t.a*e.a+t.b*e.c,t.a*e.b+t.b*e.d,t.c*e.a+t.d*e.c,t.c*e.b+t.d*e.d,t.tx*e.a+t.ty*e.c+e.tx,t.tx*e.b+t.ty*e.d+e.ty)},scalingXYfromPoint:function(t,e,n){return r.translation(t.multiply(-1)).scaleXY(e,n).translate(t)},translation:function(t){return r.translationXY(t.x,t.y)},translationXY:function(t,e){return new r(1,0,0,1,t,e)},scaling:function(t){return r.scalingXY(t.x,t.y)},scalingXY:function(t,e){return new r(t,0,0,e,0,0)},uniformScaling:function(t){return new r(t,0,0,t,0,0)},rotation:function(t,e){var n=t,i=e,o=n*n+e*e;return 1!=o&&(n/=o=Math.sqrt(o),i/=o),new r(n,i,-i,n,0,0)},skewing:function(t){return new r(1,0,t,1,0,0)},fromArray:function(t){if(6!=t.length)return d.LegacyCoreAssert.fail("Matrix2D.decodeJson: Array doesn't have 6 elements.",void 0,"Matrix2D.fromArray","Matrix2D.swift",421),r.Identity;var e=l.as(t[0],"Double"),n=l.as(t[1],"Double"),i=l.as(t[2],"Double"),o=l.as(t[3],"Double"),s=l.as(t[4],"Double"),a=l.as(t[5],"Double");return null==e||null==n||null==i||null==o||null==s||null==a?(d.LegacyCoreAssert.fail("Matrix2D.decodeJson: Array doesn't have 6 numeric elements.",void 0,"Matrix2D.fromArray","Matrix2D.swift",432),r.Identity):new r(e,n,i,o,s,a)},decodeJson:function(t){var e;return(e=l.as(t,["Array","Any"]))?r.fromArray(l.clone(e)):r.Identity},calculateResizeTransform:function(t,e,n,i){var o=r.translation(f._negate_TheoPoint(t.eval(n)));if(i!=u.FitType.None){var s=e.width/t.width,l=e.height/t.height;i==u.FitType.ProportionalFit?l=s=Math.min(s,l):i==u.FitType.ProportionalFill&&(l=s=Math.max(s,l)),o=a._asterisk_Matrix2D_Matrix2D(o,r.scalingXY(s,l))}return o=a._asterisk_Matrix2D_Matrix2D(o,r.translation(e.eval(n)))}},props:{equal:function(t){return this.a==t.a&&this.b==t.b&&this.c==t.c&&this.d==t.d&&this.tx==t.tx&&this.ty==t.ty},finite:{get:function(){return isFinite(this.a)&&isFinite(this.b)&&isFinite(this.c)&&isFinite(this.d)&&isFinite(this.tx)&&isFinite(this.ty)}},determinant:{get:function(){return this.a*this.d-this.b*this.c}},preservesBoxes:{get:function(){return 0==this.b&&0==this.c||0==this.a&&0==this.d}},preservesBoxesNoSwap:{get:function(){return Math.abs(this.b)<1e-4&&Math.abs(this.c)<1e-4}},transformValues:{get:function(){return null==this.transformValues_&&(this.transformValues_=this.calculateTransformValuesSKRT()),this.transformValues_}},transformValuesRKST:{get:function(){return null==this.transformValuesRKST_&&(this.transformValuesRKST_=this.calculateTransformValuesRKST()),this.transformValuesRKST_}},extractedScale:{get:function(){return null==this.extractedScale_&&(this.extractedScale_=this.calculateExtractedScale()),this.extractedScale_}},precat:function(t){return r.concat2(t,this)},concat:function(t){return r.concat2(this,t)},translate:function(t){return this.concat(r.translation(t))},translateXY:function(t,e){return this.concat(r.translationXY(t,e))},scaleXY:function(t,e){return this.concat(r.scalingXY(t,e))},scaleXYfromPoint:function(t,e,n){return this.concat(r.scalingXYfromPoint(t,e,n))},rotate:function(t,e){return this.concat(r.rotation(t,e))},rotateTo:function(t,e){var n=t,i=e,o=t*t+e*e;1!=o&&(n/=o=Math.sqrt(o),i/=o);var s=this.transformValues,a=s.rotCosine,l=s.rotSine;return this.concat(new r(a,-l,l,a,0,0)).concat(new r(n,i,-i,n,0,0))},scaleTo:function(t,e){var n=this.transformValues,i=n.rotCosine,o=n.rotSine,s=this.concat(new r(i,-o,o,i,0,0));return s=(s=s.concat(new r(1,0,-n.skew,1,0,0))).concat(new r(1/n.xscale,0,0,1/n.yscale,0,0)),s=(s=(s=(s=new r(1,0,0,1,s.tx,s.ty)).concat(new r(t,0,0,e,0,0))).concat(new r(1,0,n.skew,1,0,0))).concat(new r(i,o,-o,i,0,0))},skewTo:function(t){var e=this.transformValues,n=e.rotCosine,i=e.rotSine,o=this.concat(new r(n,-i,i,n,0,0));return o=o.concat(new r(1,0,-e.skew,1,0,0)),o=(o=(o=new r(o.a,0,0,o.d,o.tx,o.ty)).concat(new r(1,0,t,1,0,0))).concat(new r(n,i,-i,n,0,0))},translateTo:function(t,e){return new r(this.a,this.b,this.c,this.d,t,e)},inverse:{get:function(){return null==this.inverse_&&(this.inverse_=this.calculateInverse()),this.inverse_}},transformPoint:function(t){return new f.TheoPoint(t.x*this.a+t.y*this.c+this.tx,t.x*this.b+t.y*this.d+this.ty)},transformLinear:function(t){return new f.TheoPoint(t.x*this.a+t.y*this.c,t.x*this.b+t.y*this.d)},transformRect:function(t){if(this.isIdentity)return t;var e=t.minX*this.a+t.minY*this.c+this.tx,n=t.minX*this.b+t.minY*this.d+this.ty,i=t.maxX*this.a+t.minY*this.c+this.tx,o=t.maxX*this.b+t.minY*this.d+this.ty,r=t.minX*this.a+t.maxY*this.c+this.tx,s=t.minX*this.b+t.maxY*this.d+this.ty,a=t.maxX*this.a+t.maxY*this.c+this.tx,l=t.maxX*this.b+t.maxY*this.d+this.ty;return new p.TheoRect(Math.min(Math.min(Math.min(e,i),r),a),Math.min(Math.min(Math.min(n,o),s),l),Math.max(Math.max(Math.max(e,i),r),a),Math.max(Math.max(Math.max(n,o),s),l))},transformPoints:function(t){for(var e=[],n=l.iter(t);!n.done;n.next()){var i=n.value;e.push(this.transformPoint(i))}return e},interpolateWith:function(t,e){return new r(this.a*(1-e)+t.a*e,this.b*(1-e)+t.b*e,this.c*(1-e)+t.c*e,this.d*(1-e)+t.d*e,this.tx*(1-e)+t.tx*e,this.ty*(1-e)+t.ty*e)},averageTranslationScale:function(t){if(0==l.toDouble(t.length))return l.opt(h.Host.logging,(function(t){return t.warning("averageTranslationScale: No matrices to average.")})),r.Identity;for(var e=[],n=[],i=[],o=[],s=l.iter(t);!s.done;s.next()){var a=s.value;e.push(a.tx),n.push(a.ty),i.push(a.a),o.push(a.d)}var c=P.MathUtils.getMean(l.clone(e)),u=P.MathUtils.getMean(l.clone(n)),d=P.MathUtils.getGeometricMean(l.clone(i)),f=P.MathUtils.getGeometricMean(l.clone(o));return new r(d,0,0,f,c,u)},asArray:{get:function(){return[this.a,this.b,this.c,this.d,this.tx,this.ty]}},encode:function(){return d.LegacyCoreAssert.fail("Matrix2D: Use encodeJson(), not encode()",void 0,"Matrix2D.encode","Matrix2D.swift",453),[]},encodeJson:function(){return d.LegacyCoreAssert.isFalse(isNaN(this.a),"Can't persist NaN a value",void 0,"Matrix2D.encodeJson","Matrix2D.swift",458),d.LegacyCoreAssert.isFalse(isNaN(this.b),"Can't persist NaN b value",void 0,"Matrix2D.encodeJson","Matrix2D.swift",459),d.LegacyCoreAssert.isFalse(isNaN(this.c),"Can't persist NaN c value",void 0,"Matrix2D.encodeJson","Matrix2D.swift",460),d.LegacyCoreAssert.isFalse(isNaN(this.d),"Can't persist NaN d value",void 0,"Matrix2D.encodeJson","Matrix2D.swift",461),d.LegacyCoreAssert.isFalse(isNaN(this.tx),"Can't persist NaN tx value",void 0,"Matrix2D.encodeJson","Matrix2D.swift",462),d.LegacyCoreAssert.isFalse(isNaN(this.ty),"Can't persist NaN ty value",void 0,"Matrix2D.encodeJson","Matrix2D.swift",463),l.as([this.a,this.b,this.c,this.d,this.tx,this.ty],"AnyObject")},calculateTransformValuesSKRT:function(){var t=0,e=0,n=0,i=0,o=0,r=this.a*this.a+this.b*this.b;i=0==this.b?Math.abs(this.a):0==this.a?Math.abs(this.b):1==r?1:Math.sqrt(r);var s=this.a*this.d-this.b*this.c;return d.LegacyCoreAssert.isTrue(0==s||s<0||s>0,"determinant should be a number",void 0,"Matrix2D.calculateTransformValuesSKRT","Matrix2D.swift",495),!a.flip_affects_only_yscale&&s<0&&this.a<0&&(i=-i),0==s?(t=0,0!=i||(0==this.c&&0==this.d?(e=1,n=0,i=0,o=0):(i=0,0==this.c?(o=this.d,e=1,n=0):0==this.d?(o=this.c,e=0,n=-1):(o=Math.sqrt(this.c*this.c+this.d*this.d),e=this.d/o,n=-this.c/o)))):(t=(this.a*this.c+this.b*this.d)/s,e=this.a/i,n=this.b/i,1==e?n=0:1==n?e=0:-1==e?n=0:-1==n?e=0:0==n?e=e>0?1:-1:0==e&&(n=n>0?1:-1),o=r==s?i:r==-s?-i:0==this.b?this.a/i*this.d:0==this.a?-this.b/i*this.c:s/i),new a.TransformValues(a.TransformValuesOrdering.SKRT,i,o,t,e,n,this.tx,this.ty)},calculateTransformValuesRKST:function(){var t=0,e=0,n=0,i=0,o=0,r=this.b*this.b+this.d*this.d;o=0==this.b?Math.abs(this.d):0==this.d?Math.abs(this.b):1==r?1:Math.sqrt(r);var s=this.a*this.d-this.b*this.c;return d.LegacyCoreAssert.isTrue(0==s||s<0||s>0,"determinant should be a number",void 0,"Matrix2D.calculateTransformValuesRKST","Matrix2D.swift",609),s<0&&this.d<0&&(o=-o),0==s?(t=0,0!=o||(0==this.c&&0==this.d?(e=1,n=0,i=0,o=0):(i=0,0==this.c?(o=this.d,e=1,n=0):0==this.d?(o=this.c,e=0,n=-1):(o=Math.sqrt(this.c*this.c+this.d*this.d),e=this.d/o,n=-this.c/o)))):(t=(this.a*this.b+this.c*this.d)/s,e=this.d/o,n=this.b/o,1==e?n=0:1==n?e=0:-1==e?n=0:-1==n?e=0:0==n?e=e>0?1:-1:0==n&&(n=n>0?1:-1),i=r==s?o:r==-s?-o:0==this.b?this.d/o*this.a:0==this.d?-this.b/o*this.c:s/o),new a.TransformValues(a.TransformValuesOrdering.RKST,i,o,t,e,n,this.tx,this.ty)},calculateExtractedScale:function(){var t=this.transformValues,e=1,n=1,i=t.xscale,o=t.yscale;i<0&&(e=-1,i=-i),o<0&&(n=-1,o=-o);var s=this;return 1==i&&1==o||(s=new r(e,0,0,n,0,0).concat(new r(1,0,t.skew,1,0,0)).concat(new r(t.rotCosine,t.rotSine,-t.rotSine,t.rotCosine,0,0)).concat(r.translationXY(t.tx,t.ty))),new a.ExtractedScale(s,new f.TheoPoint(i,o))},calculateInverse:function(){var t=this.determinant;if(0==t)return null;var e=1/t;return new r(e*this.d,e*-this.b,e*-this.c,e*this.a,e*(this.c*this.ty-this.d*this.tx),e*(this.b*this.tx-this.a*this.ty))},asString:{get:function(){return"a: "+this.a+",b: "+this.b+",c: "+this.c+",d: "+this.d+",tx: "+this.tx+",ty: "+this.ty}},description:{get:function(){var t=this.transformValues;return"["+l.toDouble(this.a)+" "+l.toDouble(this.b)+" "+l.toDouble(this.c)+" "+l.toDouble(this.d)+" "+l.toDouble(this.tx)+" "+l.toDouble(this.ty)+"]sx: "+l.toDouble(t.xscale)+", sy: "+l.toDouble(t.yscale)+", angle: "+l.toDouble(180*Math.atan2(t.rotSine,t.rotCosine)/Math.acos(-1))+", skew: "+l.toDouble(t.skew)}}}}),r),a._equality_Matrix2D_Matrix2D=function(t,e){return t.equal(e)},a._asterisk_Matrix2D_Matrix2D=function(t,e){return a.Matrix2D.concat2(t,e)},a._asterisk_TheoRect_Matrix2D=function(t,e){return e.transformRect(t)},a._asterisk_TheoPoint_Matrix2D=function(t,e){return e.transformPoint(t)}},vTQu:function(t,e,n){var i,o=e,r=n("oAGj"),s=n("fNpk"),a=n("smUN"),l=n("sq5L"),c=n("Zifs");o.PGMMaskFilterSpec=(i=function t(e){void 0===e&&(e=c.SolidColor.BLACK),this.matte=e,a.PGMFilterSpec.call(this,t.TYPE)},r.defineClass({name:"PGMMaskFilterSpec",ctor:i,superName:"PGMFilterSpec",statics:{TYPE:"PGMMaskFilterSpec",PROP_MATTE:"matte",decodeSpec:function(t,e){var n;return(n=c.SolidColor.decodeJson(r.as(t[i.PROP_MATTE],"AnyObject")))?new i(n):(e.error(l.PGMError.BAD_FILTER_SPEC,"PGMMaskFilterSpec: missing parameter(s)"),null)}},props:{encode:function(){var t=a.PGMFilterSpec.prototype.encode.call(this);return t[i.PROP_MATTE]=this.matte.encodeJson(),t},isEqualTo:function(t){return this===t||!!(e=r.as(t,i))&&r.eq(c._equality_SolidColor_SolidColor,this.matte,e.matte);var e},interpolate:function(t,e){return e<=0?this:e>=1?t:(n=r.as(t,i))?new i(this.matte.interpolate(n.matte,e)):(s.LegacyCoreAssert.fail("can't interpolate to a different function spec type",void 0,"PGMMaskFilterSpec.interpolate","PGMMaskFilterSpec.swift",64),this);var n}}}),i)},"wH/i":function(t,e,n){var i,o=e,r=n("oAGj"),s=n("fNpk"),a=n("5D0C"),l=n("7hc0"),c=n("KB91");o.PGMMediaPlayAnimation=(i=function t(e){a.PGMAnimation.call(this,t.TYPE,e)},r.defineClass({name:"PGMMediaPlayAnimation",ctor:i,superName:"PGMAnimation",statics:{TYPE:"pgm-anim-media-play",decodeAnimation:function(t,e,n){return new i(e)}},props:{encode:function(){return a.PGMAnimation.prototype.encode.call(this)},interpolate:function(t){s.LegacyCoreAssert.isTrue(this.timeFn.domain.contains(t),"time to interpolate not within time function domain",void 0,"PGMMediaPlayAnimation.interpolate","PGMMediaPlayAnimation.swift",58);var e,n=l.PGMAnimationUtils.bound01(this.timeFn.apply(t));return(e=r.as(this.timeFn,c.PGMLoopingFunction))?e.applyU(n):this.timeFn.domain.applyU(n)-this.timeFn.domain.start}}}),i)},yjxF:function(t,e,n){var i,o,r=e,s=n("oAGj");r.PGMNodeMetadata=(i=function(t,e){this.id=t,this.part=e},o={},s.defineClass({name:"PGMNodeMetadata",ctor:i,statics:{EMPTY:{get:function(){return void 0===o.EMPTY&&(o.EMPTY=new i("","")),o.EMPTY}},PROP_ID:"id",PROP_PART:"part",decode:function(t,e){var n,o,r;if(r=t){var a=(n=s.as(r[i.PROP_ID],"String"))||null!=n?n:"",l=(o=s.as(r[i.PROP_PART],"String"))||null!=o?o:"";return""==a&&""==l?i.EMPTY:new i(a,l)}return i.EMPTY}},props:{isEmpty:function(){return""==this.id&&""==this.part},isEqualTo:function(t){return t===this||this.id==t.id&&this.part==t.part},encode:function(){var t={};return t[i.PROP_ID]=this.id,t[i.PROP_PART]=this.part,t}}}),i)},zW52:function(t,e,n){var i,o,r=e,s=n("oAGj"),a=n("tGKA"),l=n("5D0C"),c=n("7hc0"),u=n("sq5L"),h=n("sIWg");r.PGMTransformedBounds=(i=function(t,e){this.placement=t,this.bounds=e},s.defineClass({name:"PGMTransformedBounds",ctor:i,statics:{PROP_PLACEMENT:"placement",PROP_BOUNDS:"bounds",decode:function(t,e){var n,o,r;return(n=t)?null!=(o=n[i.PROP_PLACEMENT])&&(r=h.TheoRect.decodeJson(s.as(n[i.PROP_BOUNDS],"AnyObject")))?new i(a.Matrix2D.decodeJson(s.as(o,"AnyObject")),r):(e.error(u.PGMError.BAD_TRANSFORMED_BOUNDS,"PGMTransformedBounds.decode: missing placement or bounds"),null):null}},props:{encode:function(){var t={};return t[i.PROP_PLACEMENT]=this.placement.encodeJson(),t[i.PROP_BOUNDS]=this.bounds.encodeJson(),t},isEqualTo:function(t){return this===t||this.placement.equal(t.placement)&&this.bounds.equal(t.bounds)}}}),i),r.PGMTransformAnimation=(o=function t(e,n,i){this.startXBounds=n,this.endXBounds=i,l.PGMAnimation.call(this,t.TYPE,e)},s.defineClass({name:"PGMTransformAnimation",ctor:o,superName:"PGMAnimation",statics:{TYPE:"PGMTransformAnimation",PROP_START_XBOUNDS:"start-xbounds",PROP_END_XBOUNDS:"end-xbounds",decodeAnimation:function(t,e,n){var i,a;return(i=r.PGMTransformedBounds.decode(s.as(t[o.PROP_START_XBOUNDS],["Dictionary","String","Any"]),n))&&(a=r.PGMTransformedBounds.decode(s.as(t[o.PROP_END_XBOUNDS],["Dictionary","String","Any"]),n))?new o(e,i,a):(n.error(u.PGMError.BAD_TRANSFORM_ANIMATION,"Couldn't decode required parameter(s)"),null)}},props:{encode:function(){var t=l.PGMAnimation.prototype.encode.call(this);return t[o.PROP_START_XBOUNDS]=this.startXBounds.encode(),t[o.PROP_END_XBOUNDS]=this.endXBounds.encode(),t},isEqualTo:function(t){return this===t||!!(e=s.as(t,o))&&this.startXBounds.isEqualTo(e.startXBounds)&&this.endXBounds.isEqualTo(e.endXBounds)&&l.PGMAnimation.prototype.isEqualTo.call(this,t);var e},interpolate:function(t){return c.PGMAnimationUtils.interpolateBetweenXFormedBounds(this.startXBounds,this.endXBounds,c.PGMAnimationUtils.bound01(this.timeFn.apply(t)))}}}),o)}}]);
//# sourceMappingURL=vendors_npm_spark_53fda9d5-790121ce.js.map