(window.webpackJsonptheoWebApp=window.webpackJsonptheoWebApp||[]).push([[96,75,86],{"1BWc":function(e,t,n){var a,i;a=[n("xeH2"),n("YLtl"),n("bBG2"),n("2Fsf"),n("KFmL"),n("qaWM"),n("HbNI")],void 0===(i=function(e,t,n,a,i,o,s){const r=n.default;return function(e){var t,n,l,c,d=!1,u=new a(e=e||{}),p=u.update,h={};function f(){h.imagePicker.show(),h.closeButton.$el.addClass("white")}function g(){h.imagePicker.hide(),h.closeButton.$el.removeClass("white")}return h.sizePicker=new o({parent:u,newSizes:e.newSizes,newSizesFlag:e.newSizesFlag}),h.imagePicker=new s({parent:u,hidden:!0}),h.closeButton=new i({parent:u,class:"new-post-close",onClick:function(){h.imagePicker.isHidden()?h.sizePicker.isHidden()||(h.sizePicker.hide(),r.publish("sfs:closeButtonClicked",{pageName:"post:sfsSizeSelectionPage"})):(h.imagePicker.hide(),r.publish("sfs:closeButtonClicked",{pageName:"post:sfsImageSelectionPage"}));u.events.publish("cancel")}}),h.backButton=new i({parent:u,class:"new-post-back",onClick:function(){h.imagePicker.isHidden()?h.sizePicker.isHidden()||(r.publish("sfs:backButtonClicked",{pageName:"post:sfsSizeSelectionPage"}),d?f():u.events.publish("cancel"),h.sizePicker.hide()):(r.publish("sfs:backButtonClicked",{pageName:"post:sfsImageSelectionPage"}),d?u.events.publish("cancel"):h.sizePicker.show(),g())}}),u.reset=function(e){(d=!!e.imageBeforeSize)?(f(),h.sizePicker.hide()):(h.sizePicker.show(),g()),h.sizePicker.reset(),e.searchText?h.imagePicker.doSearch(e.searchText):h.imagePicker.reset(),n=null,t=null},u.update=function(e){(e=e||{}).aspectIdPromise&&(t=e.aspectIdPromise),e.imagePromise&&(n=e.imagePromise),t?(e.sizePrompt&&h.sizePicker.update({sizePrompt:e.sizePrompt,sizeCategory:e.sizeCategory}),h.sizePicker.updatePopularSizes(e.popularSizeIds)):n&&(h.sizePicker.hide(),f()),p()},u.el.className+=" start-from-scratch-panel",h.sizePicker.events.subscribe("next-button-clicked",(function(e){var a,i,o;l=e,n&&(d?n.resolve(c):f()),h.sizePicker.hide(),"Custom"===e.id?(u.events.publish("custom-size-selected",e),o=(a=e.width)/(i=e.height)):(a=e.exportData.pixelDimensions.width,i=e.exportData.pixelDimensions.height,o=e.aspectRatio),r.publish("sfs:canvasSizeSelected",{aspectRatio:o,targetId:e.id,dimensions:a+"x"+i+" pixels"}),n&&!d||t.resolve(l.id)})),h.imagePicker.events.subscribe("next-button-clicked",(function(e){d?(c=e,h.sizePicker.show(),g()):(t&&t.resolve(l.id),n.resolve(e))})),u}}.apply(t,a))||(e.exports=i)},D9YH:function(e,t,n){var a,i;a=[n("xeH2"),n("YLtl"),n("bBG2"),n("2Fsf"),n("UzQk"),n("wYpX")],void 0===(i=function(e,t,n,a,i,o){const s=n.default;return function(e){var t=[],n=new a(e=e||{});function r(e,a,s){var r=new o({data:a,src:e,isLocalFile:s,parent:n,position:t.length,onClick:l});if(a&&a.info&&a.info.context){const t="/api/post/v1/proxy?url="+encodeURIComponent(e);i.Host.imageAnalysis.createHostImage(t,!1).computeSaliency(),i.Host.imageAnalysis.updateHostImageCacheKey(t,a.info.context.href)}else i.Host.imageAnalysis.createHostImage(e,!1);t.push(r),n.events.publish("image-added",{data:a,src:e,isLocalFile:s})}function l(e,t){s.publish("sfs:imageDeleted");var a=c(t);n.events.publish("image-deleted",a)}function c(e){for(var n,a=0;a<t.length;a++)if(t[a].data===e){n=a;break}t[n].hide();for(var i=t.splice(n,1)[0],o=n;o<t.length;o++)t[o].update({position:o});return i}return n.clearImages=function(){for(var e=t.length-1;e>=0;e--){var a=c(t[e].data);n.events.publish("image-deleted",a)}},n.addLocalImage=function(e){var t=new FileReader;t.onload=function(t){r(t.target.result,{files:[e]},!0)},t.readAsDataURL(e)},n.addDooploImage=function(e){r(e.files[0].preview.link,e,!1)},n.removeDooploImage=function(e){c(e)},n.getImages=function(){return t.map((function(e){return e.data}))},n.el.className+=" image-well",n}}.apply(t,a))||(e.exports=i)},HbNI:function(e,t,n){var a,i;a=[n("xeH2"),n("YLtl"),n("bBG2"),n("2Fsf"),n("W1Jy"),n("Avqh"),n("KFmL"),n("+VG/"),n("D9YH"),n("YGYy"),n("tpS0"),n("+Mhg")],void 0===(i=function(e,t,n,a,i,o,s,r,l,c,d,u){const p=n.default;var h=[".jpg",".jpeg",".png","image/jpeg","image/png"];return function(t){(t=t||{}).layout="columns",t.panels=[{id:"leftPanel",size:"470px"},{id:"rightPanel",size:"auto"}];var n=new i(t),f={},g=n.show,m=n.hide,b=!1,v=!1,y=!1;function S(e){k(),f.assetPicker.updateImageCount(f.imageWell.getImages().length),e.isLocalFile?b=!0:(v=!0,p.publish("sfs:freeImageAdded",{imageSource:"dooplo:"+e.data.info.source.name,searchTerm:e.data.info.searchText})),b&&v&&!y&&(y=!0,p.publish("sfs:freeAndLocalImageAdded"))}function k(){f.imageWell.getImages().length>0?(f.uploadButton.$el.removeClass("pill-primary-on-light"),f.uploadButton.$el.addClass("pill-secondary-on-light"),f.nextButton.$el.removeClass("pill-secondary-on-light"),f.nextButton.$el.addClass("pill-primary-on-light"),f.nextButton.updateLabel("i18n.common.kNext")):(f.uploadButton.$el.removeClass("pill-secondary-on-light"),f.uploadButton.$el.addClass("pill-primary-on-light"),f.nextButton.$el.removeClass("pill-primary-on-light"),f.nextButton.$el.addClass("pill-secondary-on-light"),f.nextButton.updateLabel("i18n.common.kSkip"))}function w(e){var t=e.target.files||e.originalEvent.dataTransfer.files;if(t.length){for(var n=[],a=0;a<t.length;a++)t[a].type&&h.indexOf(t[a].type)>=0&&n.push(t[a]);t=n;var i=f.imageWell.getImages().length;if(t.length+i>16){var o=[];f.tooManyImagesOverlay.show();for(var s=0;s<16-i;s++)o.push(t[s]);t=o}for(var r=0;r<t.length;r++)f.imageWell.addLocalImage(t[r]);f.fileInput.clearValue()}}function C(e){var t=e||f.imageSearchContainer.$el.find("#imageSearchInput").val();p.publish("sfs:searchFieldUsed"),f.assetPicker.search(t)}function x(){var t=e(window).height();f.leftPanelContainer.update({top:Math.max(95,(t-600)/2)});var n,a,i=t-f.leftPanelContainer.getTop()-222;n=i>=418?318:i-100,a=222+(n=Math.max(n,203))+20,f.imageWell.update({height:n}),f.nextButtonContainer.update({top:a})}function L(e){e.preventDefault(),e.stopPropagation(),f.imageDropArea.show()}function P(e){e.preventDefault(),e.stopPropagation(),f.imageDropArea.hide()}function T(e){e.preventDefault(),e.stopPropagation(),f.imageDropArea.hide(),p.publish("sfs:localDragAndDropImageAdded"),w(e)}return f.leftPanelContainer=new a({parent:"leftPanel",height:600,top:95}),f.heading=new o({class:"heading",parent:f.leftPanelContainer,template:"<h1>i18n.pages.StartFromScratch.LeftPanel.kHeading</h1>"}),f.uploadButton=new s({parent:f.leftPanelContainer,id:"uploadButton",class:"post-button pill pill-primary-on-light",onClick:function(){var e=f.fileInput.$el.find("input");e&&e.length&&e[0].click()},label:"i18n.pages.StartFromScratch.buttons.kUploadButton"}),f.divider=new a({parent:f.leftPanelContainer,id:"dividerContainer",top:130,height:22,template:'<span class="text">i18n.pages.StartFromScratch.LeftPanel.kDividerText</span>'}),f.imageSearchContainer=new a({parent:f.leftPanelContainer,id:"imageSearchContainer",template:'<input id="imageSearchInput" type="text" data-i18n="[aria-label]pages.StartFromScratch.searchText.kPlaceholder;[placeholder]pages.StartFromScratch.searchText.kPlaceholder"></input>',top:167,left:74,height:40,width:320}),f.imageSearchButton=new r({parent:f.imageSearchContainer,class:"image-search-button",width:20,height:20,onClick:C}),f.fileInput=new u({parent:f.leftPanelContainer,hidden:!0,changeHandler:function(e){p.publish("sfs:localUploadImageAdded"),w(e)},multiSelect:!0,type:"image"}),f.imageWell=new l({parent:f.leftPanelContainer,id:"imageWell",top:222,left:75,width:318}),f.nextButtonContainer=new a({parent:f.leftPanelContainer,height:40}),f.nextButton=new s({parent:f.nextButtonContainer,id:"nextButton",class:"post-button pill pill-secondary-on-light",onClick:function(){for(var e=f.imageWell.getImages(),t=0,a=0,i=0;i<e.length;i++)e[i].info?a++:t++;p.publish("sfs:imageSelectionFinished",{imageCount:e.length,imageCountLocal:t,imageCountDooplo:a}),n.events.publish("next-button-clicked",e.length?e:null)},label:"i18n.common.kSkip"}),f.assetPicker=new c({parent:"rightPanel"}),f.tooManyImagesOverlay=new d({headerText:"i18n.dialogs.tooManyImages.kHeaderText",contentText:"i18n.dialogs.tooManyImages.kContentText",dismissable:!1,hidden:!0,buttons:[{class:"pill pill-primary-on-light",label:"i18n.common.kOK",onClick:function(){f.tooManyImagesOverlay.hide()}}]}),f.imageDropArea=new a({parent:n,id:"imageDropArea",hidden:!0,template:'<div id="messageContainer"><i></i><span>i18n.pages.StartFromScratch.ImageDropArea.kDropText</span></div>'}),n.doSearch=function(e){C(e)},n.reset=function(){f.imageWell.clearImages(),f.assetPicker.reset(),f.imageSearchContainer.$el.find("#imageSearchInput").val(""),x(),b=!1,v=!1,y=!1},n.show=function(){g(),e(window).on("resize",x).on("dragover",L),f.imageDropArea.$el.on("dragleave",P).on("drop",T),f.assetPicker.show(),p.publish("sfs:imagePageShown")},n.hide=function(){m(),e(window).off("resize",x).off("dragover",L),f.imageDropArea.$el.off("dragleave",P).off("drop",T),f.assetPicker.hide()},n.el.className+=" sfs-image-page",f.imageSearchContainer.$el.find("#imageSearchInput").on("keypress",(function(e){13===(e.which||e.keyCode)&&C()})),x(),f.imageWell.events.subscribe("image-added",S),f.imageWell.events.subscribe("image-deleted",(function(e){k(),e.isLocalFile()||f.assetPicker.deselectImage(e.data),f.assetPicker.updateImageCount(f.imageWell.getImages().length)})),f.assetPicker.events.subscribe("add-image",(function(e){f.imageWell.addDooploImage(e)})),f.assetPicker.events.subscribe("remove-image",(function(e){p.publish("sfs:imageDeleted"),f.imageWell.removeDooploImage(e),f.assetPicker.updateImageCount(f.imageWell.getImages().length),k()})),f.assetPicker.events.subscribe("show-error-dialog",(function(){f.tooManyImagesOverlay.show()})),n}}.apply(t,a))||(e.exports=i)},KGex:function(e,t,n){var a,i;a=[n("xeH2"),n("YLtl"),n("BG/d"),n("2AzE"),n("iFio")],void 0===(i=function(e,t,n,a,i){var o={};return function(s){(s=s||{}).renderOvershoot=400,s.sections=[{id:"current",tileAspect:5,maxTileWidth:300,verticalPadding:30,bottomPadding:38,horizontalPadding:40,tileMargin:20,label:"i18n.colors.kCurrentColors",labelHeight:48,type:"variable-width"}],s.scrollToSelected=!1;var r,l,c,d,u,p,h=new a(s),f=h.hide,g=h.show,m=[],b=[],v=!1;function y(t){var n=t.tile,a=n.$el;if(n.isSelected()){u=n,c=a.find(".swatch").first(),l={color:u.data.colors[0].color,roles:u.data.colors[0].roles,id:u.data.colors[0].id},d=0;var i=40+45*(Math.ceil(u.data.colors.length/5)-1);if(a.height(i),r.setContainingElement(h.$el),r.setAnchorElement(u.$el),a.is(".color-picker-mode"))return;a.addClass("color-picker-mode"),a.find(".swatch").on("click",S),r.setCurrentColor(l.color),c.addClass("selected-swatch"),function(){r.update(),r.show(),h.$el.addClass("color-picker-scrim");var t=e('<div class="scrim"></div>').css({height:h.el.scrollHeight});h.$el.append(t)}()}}function S(t){(c=e(t.target)).parent().find(".selected-swatch").removeClass("selected-swatch"),c.addClass("selected-swatch"),d=c.prevAll(".swatch").length,l={color:u.data.colors[d].color,roles:u.data.colors[d].roles,id:u.data.colors[d].id},r.setCurrentColor(l.color)}function k(t){var n="colorPicker"===t.target.id,a=1===e(t.target).closest(".post-color-eyedropper-target").length,i=1===e(t.target).closest("#colorPicker").length,o=1===e(t.target).closest(".swatch").length;n||i||a||o||r.hide()}function w(){t.delay((function(){e("#PostEditorContent").on("click",k)}),0)}function C(){e("#PostEditorContent").off("click",k),e(".color-picker-mode").height(40).removeClass("color-picker-mode"),e(".swatch").off("click",S),h.$el.removeClass("color-picker-scrim"),h.$el.find(".scrim").remove(),e(".selected-swatch").removeClass("selected-swatch"),d=null,u=null}function x(e){u&&"current"!==u.data.id&&!o[u.data.id]&&(o[u.data.id]=[].concat(u.data.colors)),v&&h.events.publish("update-palette-color",l,e),c.css("background","#"+e.color),l=e,u&&(u.data.colors[d]=e)}function L(e){"begin"===e.type?v=!0:"confirm"!==e.type&&"cancel"!==e.type||(v=!1)}function P(e,t){for(var a=e.colors,i='<div class="frame"></div><div class="swatches">',o=0;o<a.length;o++){var s=Math.floor(o/5),r=o%5,l="",c="";0===r&&o===a.length-1?(l="border-radius:4px 4px 4px 4px;",c="all-corners"):0===r?(l="border-radius:4px 0 0 4px;",c="left-corners"):4!==r&&o!==a.length-1||(l="border-radius:0 4px 4px 0;",c="right-corners"),i+='<div class="swatch '+c+(a.length>1?" show-border":"")+'" style="'+l+"background:#"+a[o].color+"; left: "+40*r+"px; top: "+45*s+'px; height: 40px; width: 40px;"></div>'}i+="</div>",a.length>5&&(i+='<div class="moreColorsNotification">+'+(a.length-5)+"</div>");var d=new n({group:"palettes",class:"outline-selection color-palette",data:e,selected:!1,reselectable:!0,hidden:!0,template:i,showEditOverlay:!t,editLabel:"i18n.panels.textstyles.kChangeColor",showShuffleOverlay:!0,shuffleLabel:"i18n.common.kShuffle",width:Math.min(200,40*a.length)});return d.events.subscribe("edit-clicked",y),d}function T(e){h.events.publish("eyedropper-changed",e)}function A(e){var t=[];if(0===e.length)return t;for(var n=0;n<e.length;++n)t.push({color:e[n].hex.replace("#",""),roles:e[n].acRoles,id:e[n].id});return t}function z(){e("#PostEditorContent").addClass("eye-dropper-scrim").append('<div class="full-scrim"></div>')}function O(){b=r.bindToEventsWithHandlers({shown:w,hidden:C,colorChanged:x,colorChangeModal:L,"eyedropper-changed":T,"eye-dropper-mode":z})}function I(e){(e=e||{}).hidePicker&&(r.isHidden||r.hide(),C()),r.unbindEvents(b)}function W(e,n){if(e.length!==n.length)return!1;for(var a=0;a<e.length;a++){if(-1===t.findIndex(n,(function(t){return n=t,i=e[a],n.color===i.color;var n,i})))return!1}return!0}return h.handleEyeDropperClicked=function(t){r.handleEyeDropperClicked(t),e("#PostEditorContent").removeClass("eye-dropper-scrim"),e("#PostEditorContent").find(".full-scrim").remove()},h.handleEyeDropperMoved=function(e,t){r.handleEyeDropperMoved(e,t)},h.setListOfBrandKitPalettes=function(e){if(h.removeBrandkitSections(),m=[],e){var t=[],n=[],a=[],i=e.colors;if(i&&i.length>0){i.forEach((function(e){e.isBaseColor?(n.unshift(e),a.push(e)):e.isDerived?a.push(e):n.push(e)})),n.length>1&&t.push(P({id:"bk_"+e.id,colors:A(n)},!0)),a.length&&t.push(P({id:"bk_"+e.id+"_derived",colors:A(a)},!0)),h.getSectionByIndex(1).$el.addClass("post-panel-divider-above");var o={id:e.id,tileAspect:5,maxTileWidth:300,verticalPadding:30,bottomPadding:38,horizontalPadding:40,tileMargin:20,label:e.name,labelHeight:37,class:"post-panel-divider-above",type:"variable-width"};m.push(o),h.addSection(o,1),h.setItems(t,o.sectionId)}}h.isHidden()||h.handleScroll()},h.setCurrentPalette=function(n,a){a=a||{};var i,o=!p;if(o||(i=p.$el.find(".swatch"),o=n.length>i.length||n.length<5&&n.length<i.length),o)p=h.setPalette({colors:n,id:"current"},"current",!0),h.update();else{if(a.updateSelection&&p.isSelected())return;var s=function(e,n){for(var a=!1,i=t.cloneDeep(n),o=0;o<e.length;o++){var s=i.indexOf(e[o]);if(-1===s){if(a)return!1;a=e[o]}else i.splice(s,1)}return a}(t.map(p.data.colors,(function(e){return e.color})),t.map(n,(function(e){return e.color})));if(s){console.info("single swatch diff"),e(i[d]).css("background-color","#"+s.color)}else{for(var r=0;r<i.length;r++){var l=e(i[r]),c=n[r];c?l.css("background-color","#"+c.color):l.remove()}var u=n.length-5,f=p.$el.find(".moreColorsNotification");u>0?f.length?e(f).html("+"+u):p.$el.append('<div class="moreColorsNotification">+'+u+"</div>"):f.remove()}p.data.colors=t.cloneDeep(n)}a.updateSelection&&p.select({silent:!0})},h.setPalette=function(e,t,n){var a;return a=n?function(e,t){var n=P(e,t),a=n.select;return n.select=function(e,t){e=e||{silent:!n.isSelected()},a(e,t)},n}(e):P(e),h.setItems([a],t),a},h.updatePaletteSelection=function(e,t){if(r.isHidden()){var n=function(e){for(var t=h.getAllItems(),n=t.length-1;n>=0;n--)if(W(e,t[n].data.colors))return t[n];return null}(e);n&&n.select(t)}},h.selectCurrentPalette=function(e){var t=h.getItems("current");t.length&&t[0].select(e)},h.hide=function(){var t;for(var n in e(".color-picker-mode").removeClass("color-picker-mode"),e(".selected-swatch").removeClass("selected-swatch"),h.deselectSelected(),o)(t=h.getItemWithProperty("id",n)).item.$el.find(".swatch").each((function(a,i){e(i).css("background","#"+o[n][a].color),t.item.data.colors[a]=o[n][a]}));o={},I({hidePicker:!0}),f()},h.rebindColorPicker=function(){I({hidePicker:!1}),O()},h.unbindColorPicker=function(e){I(e||{hidePicker:!0})},h.show=function(){O(),g()},h.removeBrandkitSections=function(){m.forEach((function(e){h.removeSection(e.sectionId)})),h.getSectionByIndex(0).$el.removeClass("post-panel-divider-above")},function(){h.el.className+=" post-sidebar-palette";for(var e=0;e<i.length;++e){var t={id:"color-palettes-"+e,tileAspect:5,maxTileWidth:300,verticalPadding:30,bottomPadding:24,horizontalPadding:40,tileMargin:20,label:i[e].name,labelHeight:37,type:"variable-width"};h.addSection(t);for(var n=[],a=0;a<i[e].palettes.length&&a<15;++a){var o=i[e].palettes[a].colors.map((function(e){return{color:e,roles:null,id:null}}));n.push(P({id:i[e].palettes[a].id,colors:o}))}h.setItems(n,"color-palettes-"+e),h.getSectionByIndex(1).$el.addClass("post-panel-divider-above")}r=s.colorPicker,h.events.subscribe("hidden",r.hide)}(),h}}.apply(t,a))||(e.exports=i)},"KQv+":function(e,t,n){var a,i;a=[n("UFvF"),n("YLtl"),n("Avqh"),n("KFmL"),n("2Fsf"),n("UzQk"),n("+Ltv"),n("ibPQ"),n("3xm6")],void 0===(i=function(e,t,n,a,i,o,s,{KeyboardShortcuts:r},l){return function(t){var c,d,u=new i(t=t||{}),p="",h="",f="",g=new o.TextRange(0,0),m=null,b=0,v=new r,y=new n({parent:u,class:"text-capture-wrapper"}),S=document.createElement("div"),k=document.createElement("textarea"),w=$(k),C=document.createElement("span"),x=l.translate("components.coachmarks.confirmText.kMessage"),L=new n({parent:y,class:"confirm-text-tooltip",template:x});new a({id:"post-text-capture-cancel",class:"pill pill-secondary-on-light",parent:y,label:"i18n.common.kCancel",onClick:W}),new a({id:"post-text-capture-submit",class:"pill pill-primary-on-light",parent:y,label:"i18n.common.kDone",onClick:B});function P(){s.disableCustomKeyboardShortcuts=!0,d=setInterval(z,17),w.on("keypress",z),w.on("keyup",O),w.on("click",I),v.bindListeners(k,"keydown",[{key:r.callbackKeys.SHIFT_ENTER,method:B},{key:r.callbackKeys.ESCAPE,method:W}])}function T(){s.disableCustomKeyboardShortcuts=!1,clearInterval(d),w.off("keypress",z),w.off("keyup",O),w.off("click",I),v.unbindListeners(k,"keydown")}function A(){var e=u.getHeight(),t=b/e;L.el.style.top="100%",t<=.48?(y.el.style.bottom="50%",y.el.style.top="auto"):(y.el.style.bottom="auto",y.el.style.top="2%");var n=.82*e;Math.min(b+80,n);b+80>=n?(y.el.style.height=n+"px",k.style.height=n+"px",k.style.overflowY="auto"):(y.el.style.height=b+"px",k.style.height="100%",k.style.overflowY="hidden")}function z(){var e=k.value;if(h!==e){h=e,e=(e=(e=(e=e.replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/  /g," &nbsp;"))||"&nbsp;",e+="<br />",C.innerHTML=e;var t=C.scrollHeight;b!==t&&(b=t,A())}}function O(){if(p){if(k.selectionEnd===k.selectionStart&&f.length!==k.value.length)if(g.start<k.selectionStart){var e=k.selectionStart-g.start;"function"==typeof t.updateCharStyleRangesCallback&&(m=t.updateCharStyleRangesCallback(g,e,m))}else if(k.selectionStart<g.end){var n=new o.TextRange(Math.min(k.selectionStart,g.start),Math.max(k.selectionEnd,g.end));"function"==typeof t.updateCharStyleRangesCallback&&(m=t.updateCharStyleRangesCallback(n,0,m))}f=k.value,g=new o.TextRange(k.selectionStart,k.selectionEnd)}}function I(){g=new o.TextRange(k.selectionStart,k.selectionEnd)}function W(){c.resolve({newText:p}),u.hide()}function B(){var e=k.value,t=e.replace(/\s/g,"");h=t.length>=1?e:p,h=o.TypeLockupUtils.fixUpQuotes(h,p),c.resolve({newText:h,newRanges:m}),u.hide()}return u.prompt=function(t){return c=e.defer(),p=t,h=" ",k.value=p,f=t,u.show(),w.focus(),g=new o.TextRange(k.selectionStart,k.selectionEnd),m=null,c.promise},u.el.className+=" post-text-capture",u.events.subscribe("change:size",A),u.events.subscribe("shown",P),u.events.subscribe("hidden",T),S.className="textarea-wrapper-inner",y.el.style.width="600px",L.el.style.width="600px",y.el.style.marginLeft=Math.round(-300)+"px",L.el.style.marginLeft=Math.round(-300)+150+"px",C.style.width="600px",S.appendChild(k),y.el.appendChild(S),u.el.appendChild(C),u}}.apply(t,a))||(e.exports=i)},OGl9:function(e,t,n){var a,i;a=[n("xeH2"),n("YLtl"),n("BG/d"),n("2AzE"),n("a7tb"),n("3wXR"),n("TdwW")],void 0===(i=function(e,t,n,a,i,o,s){var r;return function(l){(l=l||{}).renderOvershoot=400,l.sections=[{id:"current",label:"i18n.colors.kCurrentColors",tileAspect:2.5,labelHeight:37,maxTileWidth:100,verticalPadding:30,horizontalPadding:30,bottomPadding:10,tileMargin:20,type:"variable-width"},{id:"suggested",label:"i18n.colors.kSuggested",tileAspect:2.5,labelHeight:45,maxTileWidth:100,verticalPadding:30,horizontalPadding:30,bottomPadding:10,tileMargin:20,type:"variable-width"},{id:"default",label:"i18n.colors.kAllColors",tileAspect:2.5,labelHeight:45,maxTileWidth:100,verticalPadding:30,horizontalPadding:30,bottomPadding:30,tileMargin:20,type:"variable-width"}],l.scrollToSelected=!1;var c,d,u,p,h,f,g,m=new a(l),b=m.update,v=[],y=[],S=[],k=[],w=!1;function C(e,t,a,i){for(var o='<div class="frame"></div>',r=0;r<e.length;r++){var l=Math.floor(r/5),c=r%5,d="",u="";0===c&&r===e.length-1?(d="border-radius:4px 4px 4px 4px;",u="all-corners"):0===c?(d="border-radius:4px 0 0 4px;",u="left-corners"):4!==c&&r!==e.length-1||(d="border-radius:0 4px 4px 0;",u="right-corners"),o+='<div class="swatch '+u+(e.length>1?" show-border":"")+'" style="'+d+"background:"+s.toCSS(e[r])+"; left: "+40*c+"px; top: "+45*l+'px; height: 40px; width: 40px;"></div>'}e.length>5&&(o+='<div class="moreColorsNotification">'+(e.length-5)+"</div>");var p=new n({group:"colors",class:"outline-selection",data:e,selected:!!i,reselectable:!0,hidden:!0,showEditOverlay:a,editLabel:"i18n.panels.textstyles.kChangeColor",showShuffleOverlay:t,shuffleLabel:"i18n.common.kShuffle",template:o,width:Math.min(200,40*e.length)});return p.events.subscribe("edit-clicked",D),p}function x(){m.updateBrandKitColors(),m.setItems(y,"suggested"),m.setItems(v,"default"),m.handleScroll()}function L(){c.unbindEvents(k)}function P(){t.delay((function(){e("#PostEditorContent").on("click",B)}),0)}function T(){e("#PostEditorContent").off("click",B),e(".color-picker-mode").removeClass("color-picker-mode"),e(".swatch").off("click",E),m.$el.removeClass("color-picker-scrim"),e(".post-sidebar-text").find(".scrim").remove(),e(".selected-swatch").removeClass("selected-swatch")}function A(e){var t=s.hex2rgb(e.color);d.css("background","rgb("+t.r+","+t.g+","+t.b+")"),u={red:t.r,green:t.g,blue:t.b,id:e.id,roles:e.roles},h.data[p]={red:t.r,green:t.g,blue:t.b,id:e.id,roles:e.roles},w&&m.events.publish("update-text-palette-color",h.data)}function z(e){"begin"===e.type?w=!0:"confirm"!==e.type&&"cancel"!==e.type||(w=!1)}function O(){h&&h.$el.find(".swatch").each((function(t,n){e(n).css("background","rgb("+f[t].red+","+f[t].green+","+f[t].blue+")"),h.data[t]=f[t]}))}function I(e){m.events.publish("eyedropper-changed",e)}function W(){e("#PostEditorContent").addClass("eye-dropper-scrim").append('<div class="full-scrim"></div>')}function B(t){var n="colorPicker"===t.target.id,a=1===e(t.target).closest(".post-color-eyedropper-target").length,i=1===e(t.target).closest("#colorPicker").length,o=1===e(t.target).closest(".swatch").length;n||i||a||o||c.hide()}function E(t){(d=e(t.target)).parent().find(".selected-swatch").removeClass("selected-swatch"),d.addClass("selected-swatch"),p=d.prevAll(".swatch").length,u={red:h.data[p].red,green:h.data[p].green,blue:h.data[p].blue,roles:h.data[p].roles,id:h.data[p].id},c.setCurrentColor(s.rgb2hex({r:u.red,g:u.green,b:u.blue}))}function D(t){var n=t.tile,a=n.$el;if(n.isSelected()){if(h=n,f=[].concat(n.data),d=a.find(".swatch").first(),p=0,u={red:n.data[p].red,green:n.data[p].green,blue:n.data[p].blue,roles:n.data[p].roles,id:n.data[p].id},c.setContainingElement(m.$el),c.setAnchorElement(a),a.is(".color-picker-mode"))return;a.addClass("color-picker-mode"),a.find(".swatch").on("click",E),c.setCurrentColor(s.rgb2hex({r:u.red,g:u.green,b:u.blue})),d.addClass("selected-swatch"),function(){c.show(),m.$el.addClass("color-picker-scrim");var t=e('<div class="scrim"></div>').css({height:"100%"});e(".post-sidebar-text").append(t)}()}}return m.handleEyeDropperClicked=function(t){c.handleEyeDropperClicked(t),e("#PostEditorContent").removeClass("eye-dropper-scrim"),e("#PostEditorContent").find(".full-scrim").remove()},m.handleEyeDropperMoved=function(e,t){c.handleEyeDropperMoved(e,t)},m.setDefaultColors=function(){v=[];var e=m.getSectionById("default");if(r){for(var t=0;t<i.length;t++)v.push(C([i[t]],!r,!0));e.update({tileAspect:1,maxTileWidth:50,tileMargin:5})}else{for(var n=0;n<o.length;n++)v.push(C(o[n],!r,!0));e.update({tileAspect:2.5,maxTileWidth:100,tileMargin:20})}m.setItems(v,"default")},m.setCurrentColors=t.throttle((function(n,a){if(a=a||{},n&&n.length){var i,o=!g;if(o||(o=(i=g.$el.find(".swatch")).length!==n.length),o)g=function(e,t){if(e&&e.length){var n=C(e,!r,t,!0);return m.setItems([n],"current"),n}}(n,!0),m.update();else{for(var l=0;l<i.length;l++){e(i[l]).css("background-color",s.toCSS(n[l]))}g.data=t.cloneDeep(n)}var c=m.getSelected(),d=c&&"current"===c.section;(a.updateSelection||d)&&g.select({silent:!0})}}),400),m.setSuggestedColors=function(e){if(y=[],e&&e.length){var t=m.getSectionById("suggested"),n=1===e[0].length;if(!t){var a=S.length+1;m.addSection({id:"suggested",label:"Suggested Colors",tileAspect:n?1:2.5,labelHeight:45,maxTileWidth:n?50:100,verticalPadding:30,horizontalPadding:30,bottomPadding:10,tileMargin:n?5:20,type:"variable-width"},a),t=m.getSectionById("suggested")}for(var i=0;i<e.length;i++)y.push(C(e[i],!n,!0));n?t.update({tileAspect:1,maxTileWidth:50,tileMargin:5}):t.update({tileAspect:2.5,maxTileWidth:100,tileMargin:20}),m.isHidden()||x()}else m.removeSection("suggested")},m.swapPaletteColors=function(){var e=m.getSelected();if(2===e.item.data.length){var t=e.item.data[0];e.item.data[0]=e.item.data[1],e.item.data[1]=t;var n=e.item.$el.find(".swatch");n.first().css("background",s.toCSS(e.item.data[0])),n.last().css("background",s.toCSS(e.item.data[1]))}},m.updateBrandKitColors=function(){m.events.publish("get-new-brandkit-colors")},m.setBrandKitColors=function(e){if(m.removeBrandkitSections(),S=[],e){var t=[],n=e.colors;if(n&&n.length>0){var a=1===n[0].length;n.forEach((function(e){t.push(C(e,!a,!1))}));var i={id:"brandkit-colors",label:e.name,tileAspect:a?1:2.5,labelHeight:45,maxTileWidth:a?50:100,verticalPadding:30,horizontalPadding:30,bottomPadding:10,tileMargin:a?5:20,type:"variable-width"};S.push(i),m.addSection(i,1),m.setItems(t,i.sectionId)}m.update()}},m.removeBrandkitSections=function(){S.forEach((function(e){m.removeSection(e.sectionId)}))},m.update=function(e){b(e),e&&void 0!==e.lockupHasOneColor&&(r=e.lockupHasOneColor)},m.selectCurrentColor=function(e){var t=m.getItems("current");t.length&&t[0].select(e)},m.closeColorPicker=function(){c.hide()},m.el.className+=" post-colors-list",m.events.subscribe("shown",(function(){x(),k=c.bindToEventsWithHandlers({shown:P,hidden:T,colorChangeModal:z,colorChanged:A,colorChangeCanceled:O,"eyedropper-changed":I,"eye-dropper-mode":W})})),m.events.subscribe("hidden",L),c=l.colorPicker,m}}.apply(t,a))||(e.exports=i)},Q7SA:function(e,t,n){var a,i;a=[n("YLtl"),n("BG/d"),n("2AzE"),n("UzQk"),n("3xm6"),n("8DU0"),n("GSfz")],void 0===(i=function(e,t,n,a,i,o,s){const r=o.default;var l,c=!1,d=["LinkedInBlogPost","TwitchBanner"],u=s.keys.POST_SEEN_NEW_SIZES_V7_3_0;return function(e){(e=e||{}).sections=[{id:"originalImage",tileAspect:16/9,maxTileWidth:300,verticalPadding:30,tileMargin:25,label:"i18n.panels.resize.kOriginalImage",labelHeight:37},{id:"custom",tileAspect:16/9,maxTileWidth:300,verticalPadding:30,tileMargin:25,label:"i18n.panels.resize.kCustom",labelHeight:37,class:"post-panel-divider-above"},{id:"socialPost",tileAspect:16/9,maxTileWidth:300,verticalPadding:30,bottomPadding:45,tileMargin:36,label:"i18n.panels.resize.kSocialPost",labelHeight:45,class:"post-panel-divider-above"},{id:"print",tileAspect:16/9,maxTileWidth:300,verticalPadding:30,bottomPadding:45,tileMargin:36,label:"i18n.panels.resize.kPrint",labelHeight:45},{id:"socialProfile",tileAspect:16/9,maxTileWidth:300,verticalPadding:30,tileMargin:24,label:"i18n.panels.resize.kSocialProfile",labelHeight:45},{id:"standard",tileAspect:16/9,maxTileWidth:300,verticalPadding:30,tileMargin:51,label:"i18n.panels.resize.kStandard",labelHeight:45}];var o=new n(e);function s(){c||(c=!0,r.setSetting(u,!0))}function p(e){var n,a,o=e.aspectRatio;a="Original"===e.id?4/3*(n=Math.sqrt(7500)):o*(n=Math.sqrt(1e4/o));var r=!!e.reselectable,c=!l&&-1!==d.indexOf(e.id),u=e.subLabel&&"i18n.panels.resize.subLabel."+i.toLocaleKey(e.subLabel),p=e.label&&"i18n.panels.resize."+i.toLocaleKey(e.label);"string"!=typeof e.iconId&&(e.iconId="");var h=new t({group:"sizes",data:e,class:c?"new-badge":"",selected:!1,hidden:!0,reselectable:r,template:'<div data-i18n="[aria-label]panels.badges.kNewlabel" class="aspect" style="margin-left:-'+Math.round(a/2)+"px;margin-top:-"+Math.round(n/2)+"px;width:"+Math.round(a)+"px;height:"+Math.round(n)+'px;"><div class="overlay"><div class="overlay-aspect-icon aspect-icon-'+e.iconId.toLowerCase()+'"></div><div class="overlay-label">'+u+'</div></div><div class="label">'+p+"</div></div>"});return c&&h.events.subscribe("shown",s),h}return o.updateTiles=function(e){e=e||{};var t=o.getSelected();e.inVisibleGridLayout?o.removeSection("originalImage"):(o.hasSection("originalImage")||o.addSection({id:"originalImage",tileAspect:16/9,maxTileWidth:300,verticalPadding:30,tileMargin:25,label:"i18n.panels.resize.kOriginalImage",labelHeight:37},0),o.setItems([p({label:"kOriginalImage",subLabel:"",id:"Original",category:"default",aspectRatio:"original",iconId:"original_icon"})],"originalImage")),o.setItems([p({label:"",subLabel:"k_Custom_subLabel",id:"Custom",category:"custom",aspectRatio:1,reselectable:!0,iconId:"custom_icon"})],"custom");for(var n=a.DesignSizeCategories.getCategories().map((function(e){return e.id})),i=0;i<n.length;i++){var s=a.DesignSizeLibrary.getByCategory(n[i]).map((function(e){return p(e)}));o.setItems(s,n[i])}t&&o.selectItemWithProperty("id",t.item.data.id,{silent:!0,sectionId:t.item.data.category}),o.update()},o.el.className+=" post-sizes-list",r.getSetting(u).then((function(e){l=e,a.DesignSizeLibrary.getListOfResizeShapes().forEach((function(e){o.addItems([p(e)],e.category)}))})),o}}.apply(t,a))||(e.exports=i)},Riwu:function(e,t,n){var a,i;a=[n("YLtl"),n("2Fsf"),n("b/Rf"),n("+VG/"),n("bBG2"),n("UzQk"),n("MGCh"),n("92tI"),n("WpJZ")],void 0===(i=function(e,t,n,a,i,o,s,r,l){const c=i.default,d=s.channel("text-style-module");return function(i){const s=new t(i=i||{}),u={};let p,h;let f=[],g=0,m=null,b=null,v=!1,y=!1,S=!1,k=null,w=null;function C(e,t){d.info("Resetting spinner."),g=0,u.styleSpinner.disable(),u.styleSpinner.reset();return r.resetStyleSuggestions(!0,!0,h,e,t).finally(()=>{u.styleSpinner.enable(),d.info(`Styles: ${e} Emphasis: ${t}`)})}function x(){const e=p.getSelectedForma();r.eraseTextStyleCache(),e&&(r.updateTextStyleSuggestionAtIndex(0,e.style.clone(),"current style"),h=new o.WheelSuggestionEvaluator(e),w=p.getStyleServiceMetaDataString(e),m=e.formaID,b=e.placement),k=null}function L(e,t){y&&e&&function(){var e=p.getFormaById(m),t=l.getLockupStyleStringWithRole(e,p.getDocument()),n=null,a=null;if(h){const e=h.lockupStyleEvaluator.getOldReadabilityInformation();e&&(a=e.readabilityString);const t=h.lockupStyleEvaluator.getNewReadabilityInformation();t&&(n=t.readabilityString)}if(t.length>0){k&&(t+=`{sugID:${k}}`);const e="location:WheelSuggestion";c.publish("lockupStyleCaptured",{contextualData1:"styleString:"+t,contextualData2:e,contextualData3:"oldRead:"+a,contextualData4:"newRead:"+n,contextualData5:"meta:"+w,contextualData6:"emphasisUsed:"+S}),y=!1}}(),S&&t&&function(){const e=r.getEmphasisLoggingInfo(h);var t=[];e.forEach(e=>{t.push(e)});const n=JSON.stringify(t);if(n.length>0){const e="location:WheelSuggestion";c.publish("lockupEmphasisCaptured",{contextualData1:"emphasisString:"+n,contextualData2:e}),S=!1}}()}function P(e,t){L(e,t),x(),C(e,t)}function T(){L(!0,!0),h=null,w=null,y=!1,S=!1,r.eraseTextStyleCache()}const A=e.throttle((function(){d.info("Forma updated. Clearing styles/emphasis promises, then resetting spinner."),P(!0,!0)}),400);function z(){var e=p.getSelectedForma();e&&e.isTypeLockup()&&(e.formaID!==m||b!==e.placement)&&(e.formaID!==m&&P(!0,!0),b!==e.placement&&P(!0,!1))}function O(){f.push(p.events.subscribe("forma-selected",z)),f.push(p.events.subscribe("forma-text-updated",A)),x(),C(!0,!0)}function I(){!function(){for(let e=0;e<f.length;e++)f[e].remove();f=[]}(),v=!1,T()}function W(e){g=(e+5e3)%50,y=0!==g,v||(v=!0),r.applyTextStyleSuggestion(g,h).then(()=>{const{id:e}=r.getTextStyleSuggestionAtIndex(g);k=e||null}).done()}return s.setCoreWrapper=function(e){p=e,r.setCoreWrapper(e),p.events.subscribe("forma-selected",(function(){}))},s.el.className+=" post-sidebar-text-style",u.spinnerLabel=new t({parent:s,left:26,top:26,width:"auto",height:"auto",tag:"h2",template:"i18n.panels.textstyles.kSuggestions"}),u.styleSpinner=new n({parent:s,top:75,left:57.5,diameter:165,railWidth:50,ticks:12,onValueChange:W}),u.shuffleButtonContainer=new t({parent:s,top:280,left:26,height:"auto",width:"auto",class:"post-shuffle-emphasis"}),u.shuffleButton=new a({parent:u.shuffleButtonContainer,class:"shuffle-button",width:200,label:"i18n.components.input.toggle.kShuffleEmphasis",onClick(){r.nextEmphasis(h),S=!0}}),s.events.subscribe("shown",O),s.events.subscribe("hidden",I),s}}.apply(t,a))||(e.exports=i)},SgCI:function(e,t,n){var a,i;a=[n("xeH2"),n("YLtl"),n("UFvF"),n("2Fsf"),n("iDfI"),n("Na8G")],void 0===(i=function(e,t,n,a,i,o){return function(s){var r,l,c,d,u,p,h,f=new a(s=s||{}),g=[],m=!1,b={},v=!1,y=!1,S={maxHeight:180,hideTagsAboveResults:!0,targetNumRows:0,borderSpace:10,rowVSpace:10,rowHMargin:20,minHeight:140,minPerRowForMinHeight:2};function k(){L().then((function(e){e.cancelled||(w(),i.searchViewShown(r,{containerDims:t.clone(b),gridDims:t.clone(S)}))}))}function w(e){var n=e||s.getDrawDims();y=n.isExpanded,n.containerDims&&t.assign(b,n.containerDims),S.maxHeight=y?240:180,S.borderSpace=y?20:10,S.hideTagsAboveResults=!y,n.gridDims&&t.assign(S,n.gridDims)}function C(){return w(s.getDetailViewDrawInfo()),{containerDims:t.clone(b),gridDims:t.clone(S)}}function x(){if(l.seoPage)return null;var e="trigger=editorReset:post",t=P();if(t){var n=t.shapeData;n&&(e+="&sizeFilter="+n.id+"&aspectRatio="+n.aspectRatio)}return e}function L(){if(!p){var e=s.searchOptions||l.searchOptions||{};w();var a={el:f.el,containerDims:t.clone(b),editorApp:"post",asHeader:!0,parentRerendersOnResize:!0,preDetailViewCallback:C,templateOptions:{searchViewInContainer:!0,showUnderlay:y},handleSearchUnderlayClicked:function(){y&&s.setExpanded(!1)},resultsOptions:{implicitCreateCta:!0},SearchRequestsController:e.searchRequestsController,searchPromise:e.searchPromise,searchRemixMetadata:h,searchIfNotVB:!e.searchPromise&&(e.searchQuery||x()),seoPage:l.seoPage,projectContext:l.projectContext,editorLaunchOperation:l.operation,editorReOpening:!!r,gridDims:S,handleCreateFromSearchResultsThumbClick:z,extendTemplatePressed:function(e){e.contextualData11="isExpandedView:"+s.getDrawDims().isExpanded}},o=n.defer();p=o,i.getASearchView(a).then((function(e){p===o?(r=e,p.resolve({})):o.resolve({cancelled:!0})})).done()}return p.promise}function P(){return"new"===l.operation&&"blank"===l.workflow&&u}function T(){if(!m){if("remix"===l.operation)return"remix";if(P())return"blank"}return!1}function A(n,a,i,o,l){var c={ignoreNextHideUnlessForce:!0,typeName:"post",showImmediately:!0,fauxscreen:{class:"post-fauxholder",div$:e(document.getElementsByClassName("mrvl-dv-wrapper")[0].cloneNode(!0)),hasOwnScrim:!0}};v=!0,t.assign(c,l),c.fauxscreen.div$.find("#PostSavingIndicator").addClass("hide");var d=c.fauxscreen.div$.find("#PosterImageWrapper");d.find(".post-editing-surface").remove();var u=a.width/a.height,p=s.parentConfig.imageWrapper.getSizeForAspect(u),h=o.href;d.css("background","url("+h+") no-repeat center"),d.css("background-size",p.width+"px "+p.height+"px"),d.append('<div class="fausxcreen-spinner-and-text"><div class="fauxholder-scrim"></div><div class="postspinner postspinner-small"></div><div class="fauxcreen-spinner-and-text-text"></div></div>');var f="blank"===i?"search-results-confirm-creating-blank-interstitial":"search-results-confirm-creating-interstitial";if(d.find(".fauxcreen-spinner-and-text-text").text(r.getLocStringForEditor(f)),!n)return c;window.marvel.events.trigger("show-interstitial",c)}function z(e,t){var n,a,u,p=[],h=T(),g=!1,m=s.parentConfig.showResizeOption,b=s.parentConfig.getDocSize(),v=p,y={id:"createFromNew",text:"search-results-confirm-cta-create",primary:!0,textIfAssetRequiresUpgrade:"search-results-confirm-cta-create-upgrade"};"remix"===h?(g=!0,n="search-results-confirm-title",a="search-results-confirm-subtitle-can-save",u=[{id:"save",text:"search-results-confirm-checkbox-save",checked:!1}],p.push(y)):"blank"===h?(n="search-results-confirm-title",a="search-results-confirm-subtitle-replace-blank",p.push(y)):(n="search-results-confirm-title",a="search-results-confirm-subtitle-auto-save",p.push(y)),m&&(u=u||[]).push({id:"resize",text:"search-results-confirm-checkbox-resize",checked:!1,aspectId:l.aspectId}),r.showDetailConfirmForCurrentClickedThumb({asset:e,previewNavType:"side",title:n,subtitle:a,checkboxes:u,ctas:p,stringsAreIds:!0,aspectId:l.aspectId,currentDocSize:b,editorOperation:l.operation,ctasForPremium:v,analytics:{templatePreviewed:{data:{contextualData1:"isSaveShown:"+g}},templatePreviewClosed:{callback:function(e,t){var n;n=t.cancelled?"cancel":"blank"===h?"createAutoDelete":"remix"===h?t.checkboxValues.save?"createSave":"createNoSave":"createAutoSave",e.contextualData5="action:"+n}}}}).then((function(e){if(e.closeDefer.resolve(),e.cta){var n=h&&("blank"===h||!e.checkboxValues.save),a=e.checkboxValues&&e.checkboxValues.resize&&(l.aspectId||b);t.detailRenditionInfo=e.detailRenditionInfo,function(e,t,n,a,l){var u=t&&T(),p="/design-remix/post/"+e.id,h="?urn="+e.urn;if(a)if("string"==typeof a)h+="&aspectId="+a;else if("Custom"!==a.sizeID)h+="&aspectId="+a.sizeID;else{var g=[a.exportData.dimensions.width,a.exportData.dimensions.height,a.exportData.format,a.exportData.PPI];h+="&customSize="+g.join(":")}var m={typeName:"post"};e.isPremiumTemplate&&!d?(u||f.coreWrapper.requestSave(!0),o.showMerchMessagingModal({workflow:"remixPremiumTemplateFromEditorTemplateSearch",destinationUrl:p,asset:{id:e.id,urn:e.urn,alias:e.alias,tags:e.tags,animated:e.animated,animationHref:e.animationHref,detailRenditionInfo:l.detailRenditionInfo,isPremiumTemplate:!0,remixable:!0,remixpaid:!0,app:"post",height:e.height,width:e.width},totalAssets:r.getTotalTemplates(),analyticsPage:"editor:post",analyticsFullTagNames:"["+e.tags.join(", ")+"]"})):u?(s.setExpanded(!1),m=A(!1,e,n,l.detailRenditionInfo,m),window.marvel.events.trigger("show-interstitial",m),s.parentConfig.deletingCurrentDoc().then((function(){i.editorTriggeringRemixFromSearchThumb(e,r),window.marvel.navigate("design-remix-replace/post/"+e.id+"/"+c.id+h,{trigger:!0,replace:!0})}))):(s.setExpanded(!1),A(!0,e,n,l.detailRenditionInfo),s.parentConfig.waitForQuietSaveMethod().then((function(){i.editorTriggeringRemixFromSearchThumb(e,r),window.marvel.navigate(p+h,{trigger:!0})})))}(e.asset,n,h,a,t)}}))}return f.handleInitialPosterRenderEnd=function(){v&&(v=!1,window.marvel.events.trigger("hide-interstitial",{forceHide:!0}))},f.setupSessionData=function(e,t,n,a,i){h=a,l=e,c=t,d=i,u=n},f.handleDesignUpdate=function(){m=!0},f.setCoreWrapper=function(e){return f.coreWrapper=e,m=!1,g.push(e.events.subscribe("design-updated",f.handleDesignUpdate)),p=null,L()},f.handleResize=function(e,n){w(),e&&r&&r.containerResized({containerDims:t.clone(b),isWindowResize:n,gridDims:t.clone(S),showUnderlay:y})},f.extendAnalyticsWithSearchInfo=function(e){var n="unknown",a="default";if(r){var i=r.getCurrentSearchAnalytics();t.isEmpty(i)||(n=i.searchTerm||"none",-1!==i.trigger.indexOf("seo")?a="seo":0===i.pageName.indexOf("editor")&&(a="manual"))}return e.contextualData2="searchTerm:"+n,e.contextualData3="searchType:"+a,e},f.el.className+=" post-templates-search",f.events.subscribe("shown",k),f}}.apply(t,a))||(e.exports=i)},TSRB:function(e,t,n){var a,i;a=[n("YLtl"),n("Avqh"),n("2Fsf"),n("W1Jy"),n("+VG/"),n("8DU0"),n("GSfz")],void 0===(i=function(e,t,n,a,i,o,s){const r=o.default;return function(e){(e=e||{}).layout="rows",e.panels=[{id:"PostSidebarMultiselectPositioning",size:"175px"},{id:"PostSidebarUngroup",class:"post-panel-divider-above",size:"auto"}];var o,l=s.keys.POST_SEEN_GROUP_MENU,c=new a(e),d=c.update,u={};function p(e){o.setAlignmentForSelectedFormae(e)}function h(){const e=o.getAllSelectedFormas();o.ungroupItems(e,!0,"button")}function f(){r.setSetting(l,!0);const e=o.getAllSelectedFormas();o.groupItems(e,!0,"button")}return c.setCoreWrapper=function(e){o=e},c.update=function(e){d(e=e||{}),e.attributes&&function(e){e.canAlign?(u.alignLeft.enable(),u.alignCenterHorizontal.enable(),u.alignRight.enable(),u.alignTop.enable(),u.alignCenterVertical.enable(),u.alignBottom.enable()):(u.alignLeft.disable(),u.alignCenterHorizontal.disable(),u.alignRight.disable(),u.alignTop.disable(),u.alignCenterVertical.disable(),u.alignBottom.disable());var t=o.getGroupFeatures();u.ungroupButton.show(t.canUngroup),u.groupButton.show(t.canGroup),$(u.ungroupButton.el).css("top",t.canGroup?"40px":"20px")}(e.attributes)},c.el.className+=" post-sidebar-multiselect-align-tab",u.multiselectPositioningPanel=new n({parent:"PostSidebarMultiselectPositioning"}),u.alignLabel=new t({parent:"PostSidebarMultiselectPositioning",template:"i18n.panels.MultiSelectPositioning.kAlignLabel",id:"AlignLabel",class:"label"}),u.horizontalAlignButtonsWrapper=new n({class:"post-button-wrapper",parent:u.multiselectPositioningPanel,template:"<div></div>",top:58,left:23,height:40,width:228}),u.alignLeft=new i({parent:u.horizontalAlignButtonsWrapper,label:"",id:"PostMultiAlignLeft",hoverLabel:"i18n.panels.MultiSelectPositioning.kAlignLeftHoverLabel",width:76,onClick:function(){p(e.alignmentTypes.Left)}}),u.alignCenterHorizontal=new i({parent:u.horizontalAlignButtonsWrapper,label:"",id:"PostMultiAlignCenterHorizontal",hoverLabel:"i18n.panels.MultiSelectPositioning.kAlignCenterHorizontallyHoverLabel",width:76,onClick:function(){p(e.alignmentTypes.CenterX)}}),u.alignRight=new i({parent:u.horizontalAlignButtonsWrapper,label:"",id:"PostMultiAlignRight",hoverLabel:"i18n.panels.MultiSelectPositioning.kAlignRightHoverLabel",width:76,onClick:function(){p(e.alignmentTypes.Right)}}),u.verticalAlignButtonsWrapper=new n({class:"post-button-wrapper",parent:u.multiselectPositioningPanel,template:"<div></div>",width:228,height:40,left:23,top:109}),u.alignTop=new i({parent:u.verticalAlignButtonsWrapper,label:"",id:"PostMultiAlignTop",hoverLabel:"i18n.panels.MultiSelectPositioning.kAlignTopHoverLabel",width:76,onClick:function(){p(e.alignmentTypes.Top)}}),u.alignCenterVertical=new i({parent:u.verticalAlignButtonsWrapper,label:"",id:"PostMultiAlignCenterVertical",hoverLabel:"i18n.panels.MultiSelectPositioning.kAlignCenterVerticallyHoverLabel",width:76,onClick:function(){p(e.alignmentTypes.CenterY)}}),u.alignBottom=new i({parent:u.verticalAlignButtonsWrapper,label:"",id:"PostMultiAlignBottom",hoverLabel:"i18n.panels.MultiSelectPositioning.kAlignBottomHoverLabel",width:76,onClick:function(){p(e.alignmentTypes.Bottom)}}),u.ungroupPanel=new n({parent:"PostSidebarUngroup",id:"PostUngroupPanel"}),u.groupButton=new i({parent:u.ungroupPanel,id:"PostGroupButton",class:"post-centered-button image-sidebar-button",label:"i18n.components.buttons.kGroup",height:50,width:145,onClick:f}),u.ungroupButton=new i({parent:u.ungroupPanel,id:"PostUngroupButton",class:"post-centered-button image-sidebar-button",label:"i18n.components.buttons.kUngroup",height:50,width:145,onClick:h}),c}}.apply(t,a))||(e.exports=i)},UXma:function(e,t,n){var a,i;a=[n("xeH2"),n("YLtl"),n("2Fsf"),n("NgGw"),n("+VG/"),n("KFmL"),n("BG/d"),n("Avqh"),n("Lo4C"),n("pEL3"),n("vs1w"),n("aK/O"),n("ZDmz"),n("jfpy"),n("Riwu"),n("UzQk"),n("8DU0"),n("TdwW"),n("Dcjk"),n("GSfz")],void 0===(i=function(e,t,n,a,i,o,s,r,l,c,d,u,p,h,f,g,m,b,v,y){var S={red:199,green:206,blue:211};const k=m.default;return function(o){(o=o||{}).layout="rows",o.panels=[{id:"PostSidebarTextActions",size:"200px"},{id:"PostSidebarTextPanels",class:"post-panel-divider-above post-panel-scrollable",size:"auto"}];var m,w,C,x,L=v&&v>=10,P=new a(o),T={},A=[],z=y.keys.V2_MSL_COACHMARK;function O(){C(!0,!0),T.primaryStyle.select(),m.disableAutomaticLayoutMode(),A.push(m.events.subscribe("forma-selected",(function(e){e.forma&&e.forma.isTypeLockup()&&!m.inCharStyleMode&&(C(!0,!0),T.primaryStyle.select())}))),A.push(m.events.subscribe("text-forma-selected",(function(e){e.forma&&void 0!==e.selectionBoxes&&e.selectionBoxes.length?C(!1,!0):e.forma&&e.selectionBoxes&&0===e.selectionBoxes.length||T.primaryStyle.select()}))),k.getSetting(z).then((function(e){e||(x||(x=new c({parent:P,message:"i18n.components.coachmarks.style.kMessage",title:"i18n.components.coachmarks.style.kTitle",hidden:!0,priority:8,offsetY:0,offsetX:0,arrowDirection:"top-right",userSettingFlag:z,anchorElement:T.secondaryStyle})),x&&x.show())}))}function I(){!function(){for(var e=0;e<A.length;e++)A[e].remove();A=[]}()}function W(){m&&(m.exitCharStyleModeAndSelect(),T.type.exitCharStyleMode(),T.color.exitCharStyleMode(),T.shape.exitCharStyleMode())}function B(){m&&(m.enterCharStyleMode(),T.type.enterCharStyleMode(),T.color.enterCharStyleMode(),T.shape.enterCharStyleMode(),M())}function E(e){return Math.round(Math.sqrt(e.red*e.red*.241+e.green*e.green*.691+e.blue*e.blue*.068))}function D(t,n){if(m){var a=m.getSelectedForma();if(a&&a.isTypeLockup()){var i="#"+n,o=t.font;o&&(e(i).css("font-family",o.cssName||o.family),e(i).css("font-weight",o.weight||"normal"),e(i).css("font-style",o.style||"normal"),!o.style&&o.postScriptName.toLowerCase().indexOf("italic")>-1&&e(i).css("font-style","italic"),L||e(i+" h1").attr("class",o.family+"-Modifications"));var s=t.colors;if(s){var r=s[0],l=E(r),c=s[1]?s[1]:S,d=E(c),u=Math.abs(l-d)<30;e(i).css("color",b.toCSS(r)),e(i).css("background-color",b.toCSS(c)),u&&(d<150?e(i+" h1").addClass("dark-contrast"):e(i+" h1").addClass("light-contrast"))}}}}function M(){w&&T.secondaryStyle.isSelected()&&(T.removeSecondaryStyleOverlay.show(),t.delay((function(){T.removeSecondaryStyleButton.$el.css("opacity",1)}),30))}function F(){T.removeSecondaryStyleButton.$el.css("opacity",0),t.delay(T.removeSecondaryStyleOverlay.hide,50)}return C=t.throttle((function(t,n){if(n="boolean"!=typeof n||n,t="boolean"!=typeof t||t){var a=function(){if(!m)return;var e=m.getSelectedForma();if(!e||!e.isTypeLockup())return;var t=m.getLockupFormaColors(e,!1);return{font:m.getLockupFontOfSelectedLockup(e,!1).fontData,colors:t}}();a&&D(a,"PostPrimaryStyleInner")}if(n){var i=function(){if(!m)return;var e=m.getSelectedForma();if(!e||!e.isTypeLockup())return;var t=e.controller;if(!(w=t.getCharacterStyleRanges().length>0))return;var n=t.styleController.targetedLockupStyleName||g.TypeLockupController.HIGHLIGHT_STYLE,a=t.getCharacterStyle(n),i=[b.solidColor2Rgba(a.colors.fieldPrimary),b.solidColor2Rgba(a.colors.fieldSecondary)];return{font:(a.font||t.lockupStyle.font).fontData,colors:a.secondaryColorVisible?i:i.splice(0,1)}}();i?(e(".post-style-mode-panel-overlay").css("visibility","hidden"),D(i,"PostSecondaryStyleInner")):(e(".post-style-mode-panel-overlay").css("visibility","visible"),T.primaryStyle.select())}}),400),P.setCoreWrapper=function(e){m=e,T.type.setCoreWrapper(e),T.color.setCoreWrapper(e),T.shape.setCoreWrapper(e),T.effects.setCoreWrapper(e),T.style.setCoreWrapper(e)},P.setBrandKitColors=function(e){T.color.setBrandKitColors(e)},P.removeBrandkitSections=function(){T.color.removeBrandkitSections()},P.handleEyeDropperClicked=function(e){T.color.handleEyeDropperClicked(e)},P.handleEyeDropperMoved=function(e,t){T.color.handleEyeDropperMoved(e,t)},P.selectCurrentColor=function(e){T.color.selectCurrentColor(e)},P.setBrandkit=function(e){T.type.setBrandkit(e)},P.el.className+=" post-sidebar-text",T.mslPanel=new n({parent:"PostSidebarTextActions",id:"PostTextMslPanel"}),T.stylesLabel=new r({parent:T.mslPanel,tag:"h2",template:"i18n.panels.textstyles.kTextStyles"}),T.primaryStyle=new s({parent:T.mslPanel,group:"style-mode-tabs",id:"PostStyleModePrimaryPanel",class:"outline-selection post-style-mode-tile",template:"<div class='post-style-mode-panel-inner' id='PostPrimaryStyleInner' style='height:100%;width:100%;'><h1>Ag</h1></div><label>i18n.panels.textstyles.kPrimary</label>",selected:!0,onSelect:W}),T.secondaryStyle=new s({parent:T.mslPanel,group:"style-mode-tabs",id:"PostStyleModeSecondaryPanel",class:"outline-selection post-style-mode-tile",template:"<div class='post-style-mode-panel-inner' id='PostSecondaryStyleInner' style='height:100%;width:100%;'><h1>Ag</h1></div><label>i18n.panels.textstyles.kSecondary</label>",onSelect:B,onHoverStart:M,onHoverEnd:F}),T.removeSecondaryStyleOverlay=new n({parent:T.secondaryStyle,hidden:!0,class:"overlay"}),T.removeSecondaryStyleButton=new i({parent:T.removeSecondaryStyleOverlay,class:"tile-overlay-button",id:"PostRemoveSecondaryStyleButton",width:"auto",height:"auto",hoverLabel:"i18n.components.buttons.deleteStyle.kHoverLabel",onClick:function(e){e.stopPropagation(),e.stopImmediatePropagation(),F(),m.clearStyleRanges().done(),T.primaryStyle.select()}}),T.secondaryStyleTileOverlay=new n({parent:T.secondaryStyle,class:"post-style-mode-panel-overlay",id:"PostSecondaryStyleTileOverlay"}),T.addSecondaryStyleTooltip=new l({parent:T.secondaryStyleTileOverlay,message:"i18n.components.tooltips.addSecondaryStyle.kMessage",hoverLabelPosition:"above"}),T.type=new d({parent:"PostSidebarTextPanels",class:"post-panel-scrollable",hidden:!1,entitleBrandKit:o.entitleBrandKit,advancedTextLayoutWebEnabled:o.advancedTextLayoutWebEnabled,advancedTextLayoutEnabled:o.advancedTextLayoutEnabled,visibilityGroup:"text-sidebar"}),T.color=new u({parent:"PostSidebarTextPanels",hidden:!0,colorPicker:o.colorPicker,visibilityGroup:"text-sidebar"}),T.shape=new p({parent:"PostSidebarTextPanels",hidden:!0,visibilityGroup:"text-sidebar"}),T.effects=new h({parent:"PostSidebarTextPanels",hidden:!0,visibilityGroup:"text-sidebar"}),T.style=new f({parent:"PostSidebarTextPanels",hidden:!0,visibilityGroup:"text-sidebar"}),P.registerSidebarTabWithId(T.type,"type"),P.registerSidebarTabWithId(T.color,"color"),P.registerSidebarTabWithId(T.shape,"shape"),P.registerSidebarTabWithId(T.effects,"effects"),P.registerSidebarTabWithId(T.style,"style"),P.republish(T.color.events,"eyedropper-changed"),P.republish(T.color.events,"get-new-brandkit-colors"),P.republish(T.type.events,"size-slide-start"),P.republish(T.type.events,"size-slide-end"),P.republish(T.type.events,"font-picker-opened"),P.events.subscribe("shown",O),P.events.subscribe("hidden",I),P}}.apply(t,a))||(e.exports=i)},Ujsg:function(e,t,n){var a,i;a=[n("xeH2"),n("YLtl"),n("3xm6"),n("2Fsf"),n("UzQk"),n("BG/d"),n("8DU0"),n("TW0n")],void 0===(i=function(e,t,n,a,i,o,s,r){const l=s.default;return function(s){var c,d,u=new a(s=s||{}),p=s.category,h=s.popularSizes,f=s.defaultSelectedId,g=u.show,m=u.hide,b=s.newSizes||[],v=s.newSizesFlag,y=!1,S=0,k=0,w=[],C={};function x(e){P(e.originalEvent.deltaX||e.originalEvent.deltaY)}function L(e){var t=d-200;"left"===e&&(t=-t),P(t)}function P(e){if(k+=e,e<0)k=Math.max(k,0);else{var t=Math.max(S-(d-100),0);k=Math.min(k,t)}A(k),T()}function T(){S+100<=d?(C.leftArrow.hide(),C.rightArrow.hide()):(k>0?C.leftArrow.show():C.leftArrow.hide(),k<S-(d-100)?C.rightArrow.show():C.rightArrow.hide())}function A(e,t){t&&C.scrollingContainer.$el.css("transition","none"),C.scrollingContainer.$el.css("transform","translateX("+-e+"px)"),t&&setTimeout((function(){C.scrollingContainer.$el.css("transition","")}),50)}function z(){var t;d=e(window).width(),(t=S)+200<=d?u.update({left:Math.max((d-t)/2,0)}):u.update({left:100}),function(){if(S-k<d-100){var e=S-(d-100);A(e=Math.max(e,0),!0),k=e}}(),T()}function O(e){u.events.publish("item-selected",e)}function I(){y||(y=!0,l.setSetting(v,!0))}function W(e,t,a){a.aspectRatio=a.aspectRatio&&"Custom"!==a.id?a.aspectRatio:1;var i=Math.sqrt(Math.pow(100,2)/a.aspectRatio),s=a.aspectRatio*i,r=Math.round(i),l=Math.round(s),d=!c&&-1!==b.indexOf(a.id),u=new o({parent:C.scrollingContainer,selected:e,hidden:t,group:"selectable-npw-shapes",class:d?"aspect-choice new-badge":"aspect-choice",left:S,top:160-r,width:l,height:r,template:'<i class="aspect-icon aspect-icon-'+a.iconId.toLowerCase()+'"></i><div class="overlay-label">i18n.panels.resize.subLabel.'+n.toLocaleKey(a.subLabel)+"</div><span>i18n.panels.resize."+n.toLocaleKey(a.label)+"</span>",data:a,reselectable:!1,onSelect:O});return S+=l+30,d&&(u.el.dataset.i18n="[aria-label]panels.badges.kNewlabel",u.events.subscribe("shown",I)),u}function B(){e(window).on("resize",z)}function E(e){e.forEach((function(e){var n=i.DesignSizeLibrary.getById(e);n&&(n=t.defaults({category:p},n),w.push(W(n.id===f,!1,n)))}))}return C.leftArrow=new r({parent:u,id:"leftArrow",class:"carousel-arrow",top:0,left:-90,width:50,onClick:function(){L("left")}}),C.rightArrow=new r({parent:u,id:"rightArrow",class:"carousel-arrow",top:0,left:"auto",right:110,width:50,onClick:function(){L("right")}}),C.scrollingContainer=new a({parent:u,class:"scroll-container"}),u.updateItems=function(e){S=0,w.forEach((function(e){e.remove()})),w=[],E(e),z()},u.findTile=function(e){for(var t=0;t<w.length;t++)if(w[t].data&&w[t].data.id===e)return w[t];return null},u.selectShapeTile=function(e){var t=u.findTile(e);t&&t.select()},u.addTiles=function(e){c=e,"popular"===p?E(h):i.DesignSizeLibrary.getByCategory(p).forEach((function(e){w.push(W(!1,!1,e))})),z()},u.getTiles=function(){return w},u.reset=function(){z(),k=0,A(0,!0)},u.show=function(){B(),z(),g()},u.hide=function(){e(window).off("resize",z),m()},u.el.className+=" size-container",u.$el.on("wheel",x),B(),u}}.apply(t,a))||(e.exports=i)},YGYy:function(e,t,n){var a,i;a=[n("xeH2"),n("YLtl"),n("2Fsf"),n("jq9e"),n("h+PU"),n("6rnb"),n("PsNr"),n("MGCh")],void 0===(i=function(e,t,n,a,i,o,s,r){var l=new o([".jpg",".jpeg",".png","image/jpeg","image/png"]),c=new i,d=!1,u=["mist","fog","foggy","nature","landscape","wander","forest","tranquil"];return function(e){e=e||{};var t=r.channel("startFromScratch:assetPicker"),i=new n(e),o=i.show,p=i.hide,h={};function f(){var e=u[Math.floor(Math.random()*u.length)];i.search(e)}function g(){d||(d=!0,c.searchNextSet())}return h.masonryLayout=new a({parent:i}),i.resetImage=function(){f()},i.search=function(e){!(e=e.trim())||c&&c._lastOpts&&c._lastOpts.query===e||(d=!0,h.masonryLayout.clearStatuses(),h.masonryLayout.clearImages(),c.search({query:e,imageFilter:l,source:["pixabay","unsplash"],size:30,success:function(t,n,a){!function(e,t){e._items.forEach((function(e){var n=s.cleanUpFiles([{source:"Dooplo",mimeType:e.getMimeType(),original:{link:e.getOriginalURL(),height:e.links.original.height,width:e.links.original.width},preview:{link:e.getPreviewURL(),height:e.links.preview.height,width:e.links.preview.width},thumbnail:{link:e.getThumbURL(),height:e.links.thumb.height,width:e.links.thumb.width}}]);e.data.searchText=t,h.masonryLayout.addImageTile({files:n,info:e.data})}))}(t,e),d=!1,h.masonryLayout.setLastPageReached(t.data.page>=t.data.pages),h.masonryLayout.loadMoreImagesIfNecessary()},error:function(e,n,a){d=!1,t.error("asset-picker.search: search request error.",{xhr:JSON.stringify(e),textStatus:n,errorThrown:a}),h.masonryLayout.handleError()}}))},i.deselectImage=function(e){h.masonryLayout.deselectImage(e)},i.updateImageCount=function(e){h.masonryLayout.updateImageCount(e)},i.reset=function(){f()},i.show=function(){o(),h.masonryLayout.show()},i.hide=function(){p(),h.masonryLayout.hide()},i.el.className+=" asset-picker",h.masonryLayout.events.subscribe("load-more-images",g),h.masonryLayout.events.subscribe("load-default-images",f),h.masonryLayout.events.subscribe("remove-image",(function(e){i.events.publish("remove-image",e)})),h.masonryLayout.events.subscribe("add-image",(function(e){i.events.publish("add-image",e)})),h.masonryLayout.events.subscribe("show-error-dialog",(function(){i.events.publish("show-error-dialog")})),i}}.apply(t,a))||(e.exports=i)},ZDmz:function(e,t,n){var a,i;a=[n("xeH2"),n("YLtl"),n("W1Jy"),n("rPfa"),n("on2X"),n("bBG2")],void 0===(i=function(e,t,n,a,i,o){o.default;var s,r,l,c;return function(o){(o=o||{}).layout="rows",o.panels=[{id:"PostSidebarTextShapeActions",size:"0px"},{id:"PostSidebarTextShapeList",class:"post-panel-divider-above",size:"auto"}];var d,u=new n(o),p={},h=[];var f=t.throttle((function(e){!u.isHidden()&&d&&(e=e||{},function(){if(d.isPaddingAvailableForSelectedLockup()){var e=d.getSpacingAndPaddingOfSelectedLockup();p.paddingSlider.setValue(e.padding),p.paddingSlider.show()}else p.paddingSlider.hide()}(),e.doFade?(p.listOfColors.$el.addClass("fade-out"),t.delay((function(){g(),p.listOfColors.$el.removeClass("fade-out")}),100)):g())}),400);function g(){var e=d.getSelectedForma(),t=d.inCharStyleMode,n=!t,a=e&&e.style,i=a&&a.layout,o=a&&a.pathID;r===t&&s===n&&l===i&&c===o||(p.listOfShapes.updateShapes(t,n,a),r=t,s=n,l=i,c=o);var u=d.getShapeOfSelectedLockup();p.listOfShapes.selectItemWithProperty("name",u,{silent:!0})}function m(){h.push(d.events.subscribe("forma-selected",f)),h.push(d.events.subscribe("formae-deleted",f)),h.push(d.events.subscribe("forma-updated",f)),h.push(d.events.subscribe("text-forma-selected",f)),f()}function b(){!function(){for(var e=0;e<h.length;e++)h[e].remove();h=[]}()}function v(e){d.setShapeForSelectedLockup(e.id).done()}function y(){d.beginGesture()}function S(){d.endGesture(!0)}function k(e){d.setPaddingForSelectedLockup(e.value).done()}return u.setCoreWrapper=function(e){d=e},u.enterCharStyleMode=function(){},u.exitCharStyleMode=function(){},u.el.className+=" post-sidebar-text-shape",p.paddingSlider=new a({parent:"PostSidebarTextShapeActions",id:"PostTextPaddingSlider",onSlideStart:y,onSlideEnd:S,onSlide:k,top:55,left:28,sliderWidth:232,handleHitBuffer:15,sliderHitBuffer:20,minValue:0,maxValue:1,roundValues:!1,showValueTooltip:!0,snapToTickEnable:!0,snapTicks:[0,.33,.66,1],snapSensitivity:.05,label:"i18n.components.slider.kPadding",labelClass:"label-above",computeTooltipValue:function(e){return Math.round(100*e)}}),p.paddingSlider.events.subscribe("shown",(function(){u.update({panels:[{id:"PostSidebarTextShapeActions",size:"96px"}]}),e("#PostSidebarTextShapeList").addClass("post-panel-divider-above")})),p.paddingSlider.events.subscribe("hidden",(function(){u.update({panels:[{id:"PostSidebarTextShapeActions",size:"0px"}]}),e("#PostSidebarTextShapeList").removeClass("post-panel-divider-above")})),p.listOfShapes=new i({parent:"PostSidebarTextShapeList"}),p.listOfShapes.events.subscribe("item-selected",v),u.events.subscribe("shown",m),u.events.subscribe("hidden",b),u}}.apply(t,a))||(e.exports=i)},"aK/O":function(e,t,n){var a,i;a=[n("xeH2"),n("YLtl"),n("2Fsf"),n("rPfa"),n("OGl9"),n("bBG2")],void 0===(i=function(e,t,n,a,i,o){const s=o.default;return function(a){var o,r,l=new n(a=a||{}),c={},d=[],u=0,p=t.throttle((function(e){if(!l.isHidden()&&o){e=e||{};var n=o.getSelectedForma();n&&n.isTypeLockup()&&(e.doFade?(c.listOfColors.$el.addClass("fade-out"),t.delay((function(){m(n,e),c.listOfColors.$el.removeClass("fade-out")}),100)):m(n,e),c.listOfColors.update())}}),400);function h(){o&&(r=o.getSelectedForma().formaID,p({doFade:!1,updateSelection:!0}),d.push(o.events.subscribe("forma-selected",(function(e){e.forma&&(e.forma.formaID!==r?f(e.forma.formaID):(c.listOfColors.update({lockupHasOneColor:o.selectedLockupHasOnlyOneColor()}),b(e.forma,{updateSelection:!1})))}))),d.push(o.events.subscribe("text-forma-selected",(function(e){e.forma&&(e.forma.formaID!==r?f(e.forma.formaID):(c.listOfColors.update({lockupHasOneColor:o.selectedLockupHasOnlyOneColor()}),b(e.forma,{updateSelection:!1})))}))))}function f(e){r=e,p({doFade:!0,updateSelection:!1}),c.listOfColors.closeColorPicker()}function g(){c.listOfColors.closeColorPicker(),function(){for(var e=0;e<d.length;e++)d[e].remove();d=[]}()}function m(e,t){e=e||o.getSelectedForma(),c.listOfColors.update({lockupHasOneColor:o.selectedLockupHasOnlyOneColor()}),b(e,t),c.listOfColors.setSuggestedColors(o.getSuggestedColorsForLockup(e)),c.listOfColors.setDefaultColors(),c.listOfColors.updateBrandKitColors()}function b(e,t){o&&(e=e||o.getSelectedForma())&&e.isTypeLockup()&&c.listOfColors.setCurrentColors(o.getLockupFormaColors(e),t)}function v(t,n,a){a.silent||!e(a.target).closest("[class*='tile-shuffle-button']").length&&0!==n||(t[0].roles&&s.publish("usedBrandKitFontColor"),2===t.length&&n>0?(c.listOfColors.swapPaletteColors(),o.setColorsForSelectedLockup(t,0).done()):(o.setColorsForSelectedLockup(t,n).done(),u=n))}function y(e){o.setColorsForSelectedLockup(e,u).done()}return l.setCoreWrapper=function(e){o=e},l.setBrandKitColors=function(e){c.listOfColors.setBrandKitColors(e)},l.removeBrandkitSections=function(){c.listOfColors.removeBrandkitSections()},l.handleEyeDropperClicked=function(e){c.listOfColors.handleEyeDropperClicked(e)},l.handleEyeDropperMoved=function(e,t){c.listOfColors.handleEyeDropperMoved(e,t)},l.enterCharStyleMode=function(){l.isHidden()||p({doFade:!1,updateSelection:!0})},l.exitCharStyleMode=function(){l.isHidden()||p({doFade:!1,updateSelection:!0})},l.selectCurrentColor=function(e){c.listOfColors.selectCurrentColor(e)},l.el.className+=" post-sidebar-text-color",c.listOfColors=new i({parent:l,top:0,colorPicker:a.colorPicker}),c.listOfColors.events.subscribe("item-selected",v),c.listOfColors.events.subscribe("update-text-palette-color",y),l.republish(c.listOfColors.events,"eyedropper-changed"),l.republish(c.listOfColors.events,"get-new-brandkit-colors"),l.events.subscribe("shown",h),l.events.subscribe("hidden",g),l}}.apply(t,a))||(e.exports=i)},e8qH:function(e,t,n){var a,i;a=[n("xeH2"),n("YLtl"),n("2Fsf"),n("W1Jy"),n("8DU0"),n("raE7"),n("GSfz"),n("3xm6"),n("Cho4"),n("+/kw")],void 0===(i=function(e,t,n,a,i,o,s,r,l,c){const{THEO_PANEL_TITLE_BAR_CLOSE:d}=c.EVENTS;return function(e){var t=new n(e=e||{}),a={};function i(e,n,i){a.listOfThemes.getSelected().item,t.events.publish("item-selected",e,n,i)}function s(e){e.stopPropagation(),t.events.publish("theme-panel-title-bar-close")}function c(){t.$el.on(d,s)}function u(){t.$el.off(d,s)}function p(e){t.events.publish("brand-button-pressed",e)}function h(){t.events.publish("design-filters-set"),a.listOfThemes.show()}return t.hideListOfThemes=function(){a.listOfThemes.hide()},t.setDesigns=function(e){a.listOfThemes.setDesigns(e)},t.selectIndex=function(e,t){a.listOfThemes.selectIndex(e,t)},t.updateDesigns=function(e){return a.listOfThemes.update(e)},t.setDefaultSelection=function(){null},t.setCoreWrapper=function(e){e,a.listOfThemes.setCoreWrapper(e)},t.setBrandKitThemes=function(e){a.listOfThemes.setBrandKitThemes(e)},t.selectThemeWithid=function(e,t){a.listOfThemes.selectThemeWithid(e,t)},function(){t.el.className+=" post-sidebar-theme";const n=function(){const e=document.createElement(l.TheoPanelTitleBar.elementName);return e.titleText=r.translate("components.buttons.kDesign"),e}();t.$el.append(n),a.listOfThemes=new o({parent:t,id:"PostDesignsList",showMerchPopup:e.showMerchPopup}),a.listOfThemes.events.subscribe("item-selected",i),a.listOfThemes.events.subscribe("designs-set",h),a.listOfThemes.events.subscribe("brandify-button-pressed",p),t.events.subscribe("shown",c),t.events.subscribe("hidden",u)}(),t}}.apply(t,a))||(e.exports=i)},jfpy:function(e,t,n){var a,i;a=[n("xeH2"),n("YLtl"),n("2Fsf"),n("rPfa"),n("sBXC")],void 0===(i=function(e,t,n,a,i){return function(e){var a,o=new n(e=e||{}),s={},r=[];var l=t.throttle((function(){if(!o.isHidden()&&a){var e=a.getEffectForSelectedLockup();-1===e&&(e=0),s.listOfEffects.selectItemWithProperty("id",e,{silent:!0}),s.listOfEffects.updateToolsWithCurrentValues()}}),400);function c(){l()}function d(){l()}function u(){!function(){for(var e=0;e<r.length;e++)r[e].remove();r=[]}()}function p(e){a.setEffectForSelectedLockup(e.id).done()}return o.setCoreWrapper=function(e){a=e,s.listOfEffects.setCoreWrapper(e),a.events.subscribe("forma-selected",c),a.events.subscribe("text-forma-selected",c)},o.el.className+=" post-sidebar-text-effects",s.listOfEffects=new i({parent:o}),s.listOfEffects.events.subscribe("item-selected",p),o.events.subscribe("shown",d),o.events.subscribe("hidden",u),o}}.apply(t,a))||(e.exports=i)},jq9e:function(e,t,n){var a,i;a=[n("xeH2"),n("YLtl"),n("2Fsf"),n("TW0n"),n("3xm6")],void 0===(i=function(e,t,n,a,i){return function(t){var o=new n(t=t||{}),s={};s.spinner=new n({parent:o,height:78,width:68,top:10,class:"masonry-spinner",hidden:!0}),s.noResultsContainer=new n({parent:o,id:"noResultsMessage",template:"<span>g11n.imagepicker-search-no-results</span><span>g11n.imagepicker-search-no-results-desc</span>",hidden:!0,height:50}),s.errorContainer=new n({parent:o,id:"errorMessage",template:"<span>We weren't able to get images. Please try again later.</span>",hidden:!0,height:50});var r,l,c=o.show,d=o.hide,u=[],p=3,h=[0,0,0],f=!1,g=!1;function m(e){var t=e.data.files[0].preview,n=t.width/t.height,a=(r-10*(p-1))/p,i=a/n,o=b(),s=o*a+10*o,l=h[o];h[o]+=10+i,e.update({height:i,width:a,top:l,left:s})}function b(){for(var e=h[0],t=0,n=1;n<h.length;n++)h[n]<e&&(t=n,e=h[n]);return t}function v(){for(var e=h[0],t=0,n=1;n<h.length;n++)h[n]>e&&(t=n,e=h[n]);return t}function y(){o.events.publish("load-more-images")}function S(){s.spinner.hide()}function k(e){var t;f||g||(e?(s.spinner.$el.addClass("center-vertically"),t="50%"):(s.spinner.$el.removeClass("center-vertically"),t=h[v()]+10),s.spinner.update({top:t}),s.spinner.show())}function w(){if(r!==(r=o.$el.width())){(p=Math.floor((r+10)/210)).length!==p&&(h=[]);for(var e=0;e<p;e++)h[e]=0;u.forEach((function(e){m(e)})),o.loadMoreImagesIfNecessary(),g&&L()}}function C(){o.$el.removeClass("no-results"),s.noResultsContainer.hide()}function x(){g=!1,o.$el.removeClass("no-results"),s.errorContainer.hide()}function L(){C(),g=!0,S(),u.length?(s.errorContainer.update({top:h[v()]+10}),s.errorContainer.$el.removeClass("center-vertically")):(o.$el.addClass("no-results"),s.errorContainer.update({top:"50%"}),s.errorContainer.$el.addClass("center-vertically")),s.errorContainer.show()}function P(e,t){var n=T(t);if(n)if(n.$el.hasClass("selected"))n.$el.removeClass("selected"),o.events.publish("remove-image",n.data);else{if(l>=16)return void o.events.publish("show-error-dialog");n.$el.addClass("selected"),o.events.publish("add-image",n.data)}}function T(e){for(var t=0;t<u.length;t++)if(u[t].data===e)return u[t];return null}return o.updateImageCount=function(e){l=e},o.addImageTile=function(e){C(),x(),S(),r||(r=o.$el.width());var t=e.info.source.name;t=t.charAt(0).toUpperCase()+t.slice(1);var n=e.info.title||i.translate("pages.StartFromScratch.kDefaultAltText"),s='<img src="'+e.files[0].preview.link+'" alt="'+n+'"></img><span class="attribution-badge">'+t+'</span><div class="selected-check-box"></div>',l=new a({parent:o,class:"image-tile",template:s,onClick:P,tag:"span"});l.data=e,u.push(l),m(l)},o.clearImages=function(){u.forEach((function(e){e.remove()})),u=[];for(var e=0;e<h.length;e++)h[e]=0;k(!0)},o.loadMoreImagesIfNecessary=function(){if(!f&&!g){var e=b();h[e]<o.$el.height()&&y(),k()}},o.setLastPageReached=function(e){f=e,e&&S(),0===u.length&&(S(),x(),o.$el.addClass("no-results"),s.noResultsContainer.show())},o.deselectImage=function(e){var t=T(e);t&&t.$el.removeClass("selected")},o.handleError=function(){L()},o.clearStatuses=function(){f=!1,g=!1,x(),C()},o.show=function(){c(),e(window).on("resize",w),u.length&&w()},o.hide=function(){d(),e(window).off("resize",w)},o.el.className+=" masonry-layout",o.$el.scroll((function(){if(!f&&!g){var e=o.el.scrollHeight-88;o.$el.scrollTop()+o.$el.innerHeight()>=e&&y()}})),o}}.apply(t,a))||(e.exports=i)},mTyn:function(e,t,n){var a,i;a=[n("xeH2"),n("YLtl"),n("NgGw"),n("TSRB")],void 0===(i=function(e,t,n,a){return function(e){var t=new n(e=e||{}),i=t.update,o={};function s(){}return t.setCoreWrapper=function(e){e,o.align.setCoreWrapper(e)},t.update=function(e){i(e=e||{}),e.attributes&&o.align.update(e)},t.el.className+=" post-sidebar-multiselect",o.align=new a({parent:t,hidden:!0,visibilityGroup:"multiselect-sidebar",alignmentTypes:e.alignmentTypes,distributeTypes:e.distributeTypes}),t.registerSidebarTabWithId(o.align,"multiple"),t.events.subscribe("shown",s),t}}.apply(t,a))||(e.exports=i)},on2X:function(e,t,n){var a,i;a=[n("YLtl"),n("UzQk"),n("BG/d"),n("2AzE"),n("pEL3"),n("8DU0"),n("GSfz")],void 0===(i=function(e,t,n,a,i,o,s){const r=o.default;var l=[{id:0,coreID:t.LockupBacking.None,name:"none",type:"non-svg"},{id:2,coreID:t.LockupBacking.Rows,name:"row",type:"non-svg"},{id:9,coreID:t.LockupBacking.BannerHorizontal,name:"banner",type:"non-svg"},{id:11,coreID:t.LockupBacking.Knockout,name:"knockout",type:"non-svg"}];return function(e){(e=e||{}).renderOvershoot=400;var o,c={id:"BASIC",label:"i18n.panels.textstyles.kBackingShape",labelHeight:37,maxTileWidth:100,tileMargin:40,horizontalPadding:38,verticalPadding:15},d=new a(e),u=s.keys.V2_SHAPE_COACHMARK;function p(){r.getSetting(u).then((function(e){e||(o||(o=new i({parent:d,message:"i18n.components.coachmarks.shapes.kMessage",title:"i18n.components.coachmarks.shapes.kTitle",hidden:!0,priority:6,offsetY:15,offsetX:0,userSettingFlag:u,anchorElement:d})),o&&o.show())}))}function h(e){var t;const a=window.THEO_BUNDLE_PATH;return t=e.type&&"non-svg"===e.type?`${a}/images/images/shapes/icon/backing_icon_${e.name}.png`:`${a}/images/images/shapes/icon/${e.id}.svg`,n({group:"shapes",data:e,selected:!1,reselectable:!1,showShuffleOverlay:!1,shuffleLabel:"i18n.common.kShuffle",hidden:!0,template:"<div class='shapes-list-icon' style='-webkit-mask-image:url("+t+"); mask-image:url("+t+");'></div>"})}function f(e,n,a){!function(e,n,a){for(var i=[],o=0;o<l.length;o++){var s="banner"===l[o].name,r="knockout"===l[o].name;a&&!t.ShapeLibrary.isBackingShapeStyleCompatible(a,l[o].coreID)||(e&&(s||r&&!n)||i.push(h(l[o])))}d.addSection(c),d.addItems(i,"BASIC")}(e,n,a),function(e,n){for(var a=t.ShapeLibrary.displayOrderForCategories(),i=0;i<a.length;i++){var o=a[i];if(!e||"SOCIAL"!==o){for(var s=n?n.layout:t.LockupLayout.Standard,r=n&&n.pathID,l=t.ShapeLibrary.displayOrderForCompatibleShapeIDs(o,s,r,e,!0),c=[],u=0;u<l.length;u++){var p={id:l[u],name:l[u]};c.push(h(p))}d.addItems(c,"BASIC")}}}(e,a)}return d.updateShapes=function(e,t,n){d.removeAllSections(),f(e,t,n),d.update()},d.el.className+=" post-shapes-list",f(),d.events.subscribe("shown",p),d}}.apply(t,a))||(e.exports=i)},qaWM:function(e,t,n){var a,i;a=[n("xeH2"),n("YLtl"),n("bBG2"),n("2Fsf"),n("Avqh"),n("KFmL"),n("WPh2"),n("nOD7"),n("Ujsg")],void 0===(i=function(e,t,n,a,i,o,s,r,l){const c=n.default;var d=["Square","InstagramStory","Facebook","YouTubeThumbnail","Poster","3:2"];return function(t){var n,u,p=new a(t=t||{}),h=p.update,f=p.show,g=p.hide,m=t.newSizes||[],b=t.newSizesFlag,v={},y=!0;function S(e){var t;e&&("popular"===e?t=v.popularContainer:"socialPost"===e?t=v.socialPostContainer:"print"===e?t=v.printContainer:"socialProfile"===e?t=v.socialProfileContainer:"standard"===e?t=v.standardContainer:"custom"===e&&(t=v.customContainer),t&&(c.publish("sfs:sizeCategorySelected",{shapeCategory:e}),function(e,t){e.show(),"custom"===t&&(v.sizeForm.setDefaults(n),v.sizeForm.clearErrorStates())}(t,e)))}function k(){u=e(window).height(),v.container.update({top:Math.max(120,(u-460)/2)})}function w(e){if(y=e.isValid,"Custom"!==e.id||e.isValid)if(v.nextButton.enable(),"Custom"===e.id&&"Custom"!==n.id){var t=function(e,t){if("custom"===t)return null;if("popular"===t)return v.popularContainer.findTile(e);if("socialProfile"===t)return v.socialProfileContainer.findTile(e);if("print"===t)return v.printContainer.findTile(e);if("socialPost"===t)return v.socialPostContainer.findTile(e);if("standard"===t)return v.standardContainer.findTile(e);return null}(n.id,n.category.id);t&&t.deselect(),n=e}else n=e;else v.nextButton.disable()}function C(){e(window).on("resize",k)}return v.container=new a({parent:p,height:460}),v.heading=new i({class:"heading",parent:v.container,template:"<h1>i18n.pages.StartFromScratch.kSelectSize</h1>"}),v.tabSection=new a({parent:v.container,class:"size-tab-button-group",top:110,height:22}),v.popularButton=new s({parent:v.tabSection,id:"popular-button",class:"size-category-button",onClick:function(){S("popular")},label:"i18n.components.buttons.kPOPULAR",group:"size-group-tabs",defaultSelected:!1}),v.socialPostButton=new s({parent:v.tabSection,id:"social-post-button",class:"size-category-button",onClick:function(){S("socialPost")},label:"i18n.components.buttons.kSOCIALPOST",group:"size-group-tabs",defaultSelected:!1}),v.printButton=new s({parent:v.tabSection,id:"print-button",class:"size-category-button",onClick:function(){S("print")},label:"i18n.components.buttons.kPRINT",group:"size-group-tabs",defaultSelected:!1}),v.socialProfileButton=new s({parent:v.tabSection,id:"social-profile-button",class:"size-category-button",onClick:function(){S("socialProfile")},label:"i18n.components.buttons.kSOCIALPROFILE",group:"size-group-tabs",defaultSelected:!1}),v.standardButton=new s({parent:v.tabSection,id:"standard-button",class:"size-category-button",onClick:function(){S("standard")},label:"i18n.components.buttons.kSTANDARD",group:"size-group-tabs",defaultSelected:!1}),v.customButton=new s({parent:v.tabSection,id:"custom-button",class:"size-category-button",onClick:function(){S("custom")},label:"i18n.components.buttons.kCUSTOM",group:"size-group-tabs",defaultSelected:!1}),v.popularContainer=new l({parent:v.container,id:"popularContainer",top:150,left:0,height:220,hidden:!1,category:"popular",newSizes:m,newSizesFlag:b,popularSizes:d,defaultSelectedId:"Square",visibilityGroup:"size-containers"}),v.socialPostContainer=new l({parent:v.container,id:"socialPostContainer",top:150,left:0,height:220,hidden:!0,category:"socialPost",newSizes:m,newSizesFlag:b,popularSizes:d,visibilityGroup:"size-containers"}),v.printContainer=new l({parent:v.container,id:"printContainer",top:150,left:0,height:220,hidden:!0,category:"print",newSizes:m,newSizesFlag:b,popularSizes:d,visibilityGroup:"size-containers"}),v.socialProfileContainer=new l({parent:v.container,id:"socialProfileContainer",top:150,left:0,height:220,hidden:!0,category:"socialProfile",newSizes:m,newSizesFlag:b,popularSizes:d,visibilityGroup:"size-containers"}),v.standardContainer=new l({parent:v.container,id:"standardContainer",top:150,left:0,height:220,hidden:!0,category:"standard",newSizes:m,newSizesFlag:b,popularSizes:d,visibilityGroup:"size-containers"}),v.customContainer=new a({parent:v.container,id:"customContainer",class:"size-container",top:150,left:0,height:220,hidden:!0,visibilityGroup:"size-containers"}),v.sizeForm=new r({parent:v.customContainer}),v.nextButton=new o({parent:v.container,id:"nextButton",class:"post-button pill",onClick:function(){("Custom"!==n.id||"Custom"===n.id&&y)&&p.events.publish("next-button-clicked",n)},label:"i18n.common.kNext"}),p.updatePopularSizes=function(e){e&&Array.isArray(e)?v.popularContainer.updateItems(e):v.popularContainer.updateItems(d)},p.reset=function(){v.popularContainer.selectShapeTile(d[0],"popular");var e=v.popularContainer.findTile(d[0]);e&&(n=e.data),v.popularButton.select(),S("popular"),k(),v.popularContainer.reset(),v.socialPostContainer.reset(),v.printContainer.reset(),v.socialProfileContainer.reset(),v.standardContainer.reset()},p.show=function(){C(),k(),f(),c.publish("sfs:sizePageShown")},p.hide=function(){e(window).off("resize",k),g()},p.update=function(e){e.sizePrompt&&v.heading.update({template:"<h1>"+e.sizePrompt+"</h1>"}),e.sizeCategory&&(S(e.sizeCategory),function(e){if(e){var t=v[e+"Button"];t&&t.select()}}(e.sizeCategory)),h()},p.el.className+=" sfs-size-page",v.popularContainer.addTiles(b),v.socialPostContainer.addTiles(b),v.printContainer.addTiles(b),v.socialProfileContainer.addTiles(b),v.standardContainer.addTiles(b),C(),k(),v.popularContainer.events.subscribe("item-selected",w),v.socialPostContainer.events.subscribe("item-selected",w),v.printContainer.events.subscribe("item-selected",w),v.socialProfileContainer.events.subscribe("item-selected",w),v.standardContainer.events.subscribe("item-selected",w),v.sizeForm.events.subscribe("custom-size-selected",w),p}}.apply(t,a))||(e.exports=i)},raE7:function(e,t,n){var a,i;function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}a=[n("xeH2"),n("YLtl"),n("tY4j"),n("Na8G"),n("BG/d"),n("2AzE"),n("TW0n"),n("2Fsf"),n("+VG/"),n("MGCh"),n("bBG2"),n("3xm6"),n("9SnX"),n("UzQk")],void 0===(i=function(e,t,n,a,i,r,l,c,d,u,p,h,f,g){const m=p.default;var b=u.channel("list-of-themes"),v=0,y=!1;function S(e){const t={};return t.imgUrl=e.imgUrl,t.assetId=e.assetId,t.manifestPromise=function(){let t=1;return n(k,{maxAttempts:3,logger:{info:function(){t++}}})(e.manifestUrl).then((function(n){return b.debug("Fetched theme manifest",{status:n.status,url:e.manifestUrl,attempts:t}),n.json()})).catch(n=>{let a;return a=n instanceof Error?{message:n.message}:"object"==typeof n?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n):{error:n},a.url=e.manifestUrl,a.attempts=t,Promise.reject(a)})},t}function k(e){return fetch(e).then(e=>e.ok?e:Promise.reject({status:e.status,statusText:e.statusText}))}return function(n){(n=n||{}).renderOvershoot=800,n.scrollCallback=function(e){const t=s.el.clientHeight;if(e>0&&t>0&&y){const n=(t-e)/t*100;n<=60&&(m.publish("designVariationsPanelScrolled",{contextualData1:n}),b.info("design variations panel scrolled: "+n),y=!1)}},n.sections=[{id:"suggested",tileAspect:1.4,maxTileWidth:300,horizontalPadding:30,tileMargin:30,label:"i18n.panels.design.kVariations",labelHeight:37,class:"post-panel-divider-above"}];var o,s=new r(n),d=new c({parent:s,id:"themesSpinner",template:"<div class='postspinner' style='height:100%;width:100%;background-size:contain;background-repeat:no-repeat;background-position:center'></div>",class:"post-list-of-themes-spinner"}),u=[];return s.setDesigns=function(a){y=!0;const o=t.pick(a.metadata.documentMetadata.retargetDocumentData,["gifs-count","num-images","num-moveable","num-shapes"]);if(a.aspectRatio!==n.aspectRatio||!function(e,t){if(!(e instanceof Array&&t instanceof Array))return!1;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(a.wordCount,n.wordCount)||a.imageCount!==n.imageCount||a.iconCount!==n.iconCount||a.isInitialLoad||!t.isEqual(n.metadata,o)){n.aspectRatio=a.aspectRatio,n.wordCount=a.wordCount,n.imageCount=a.imageCount,n.iconCount=a.iconCount,n.metadata=o;var r=[],l=g.Host.resourceUtils.makeGUID();a.size=25,s.setItems([d],"suggested");var c=performance.now();s.update({sections:[{id:"suggested",tileAspect:n.tileAspect}]}),f.getVariations(a,l).catch((function(e){b.error("Cannot set design themes: "+e)})).done((function(t){(t.items||t).forEach((function(t){r.push(function(t){var n=t.thumbnail.replace("{format}","jpg").replace("{dimension}","width").replace("{size}",250),a=new i({group:"designs",class:"outline-selection",data:new S({imgUrl:n,manifestUrl:t.manifestUrl,assetId:t.assetId}),selected:!1,reselectable:!0,showShuffleOverlay:!0,shuffleLabel:"i18n.common.kShuffle",hidden:!0});return a.hasImageBeenSet=!1,a.events.subscribe("shown",(function(){if(!1===a.hasImageBeenSet){a.hasImageBeenSet=!0;var i=t.width/t.height,o=Math.min(220,Math.sqrt(27225*i)),s=o/i;s>170&&(o=(s=170)*i);var r=e('<div class="frame"></div>');a.$el.html(r);var l=e('<div class="overlay shuffle-overlay"></div>');a.$el.append(l);var c=new Image,d=h.translate("panels.design.kDesignFilterLabelTemplate",{number:++v});c.setAttribute("alt",d),c.src=n,a.$el.append(c),a.$el.css({width:Math.round(o)+"px",height:Math.round(s)+"px","margin-left":Math.round((220-o)/2)+"px","margin-top":Math.round((220/1.4-s)/2)+"px"})}})),a}(t))})),s.setItems(r,"suggested"),b.info("Design Variations rendered in: "+(performance.now()-c)),s.update({sections:[{id:"suggested",tileAspect:n.tileAspect}]}),s.events.publish("designs-set")}))}},s.setBrandKitThemes=function(e){o=e,s.removeBrandkitSections(),s.getSectionByIndex(0).$el.addClass("post-panel-divider-above"),u=[];var t=function(e){var t=new i({group:"designs",class:"brandify-button-tile",data:{},selectable:!1,reselectable:!1,hidden:!0}),o=e&&e.activated,r=new l({parent:t,template:o?'<div class="brandify-button-wrapper brandify-button-activated"><div class="brandify-button-inner"><div class="overlay shuffle-overlay"><div class="tile-overlay-button tile-shuffle-button post-button post-icon-button"><i></i><div class="post-panel post-hover-label post-hover-label-above"><p>i18n.common.kShuffle</p><p class="pointer pointer-down"></p></div></div></div><span class="brandify-logo"><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="-293 385 23.98 23" style="enable-background:new -293 385 23.98 23;" xml:space="preserve"><title>Asset 6</title><g id="Layer_2">\t<g id="Layer_1-2">\t<path class="st0" d="M-272.57,388L-272.57,388c-2.198-0.436-4.305-1.244-6.23-2.39c-1.362-0.811-3.058-0.811-4.42,0\tc-1.925,1.146-4.032,1.954-6.23,2.39c-2.067,0.387-3.562,2.197-3.55,4.3v8.4c-0.012,2.103,1.483,3.913,3.55,4.3\t\tc2.2,0.448,4.307,1.27,6.23,2.43c1.361,0.813,3.059,0.813,4.42,0c1.921-1.163,4.029-1.985,6.23-2.43\t\tc2.075-0.378,3.58-2.191,3.57-4.3v-8.4C-268.99,390.191-270.495,388.378-272.57,388z M-270,392.3v8.4\t\t\tc0.006,1.622-1.154,3.014-2.75,3.3c-2.314,0.471-4.53,1.337-6.55,2.56c-1.053,0.63-2.367,0.63-3.42,0\t\t\tc-2.023-1.224-4.242-2.09-6.56-2.56c-1.584-0.299-2.729-1.688-2.72-3.3v-8.4c-0.009-1.612,1.136-3.001,2.72-3.3\t\t\tc2.318-0.47,4.537-1.336,6.56-2.56c1.054-0.626,2.366-0.626,3.42,0c2.02,1.223,4.236,2.089,6.55,2.56\t\t\tC-271.154,389.286-269.994,390.678-270,392.3z"/>\t\t<g>\t\t\t<circle class="st0" cx="-275" cy="396.49" r="1"/>\t\t\t<circle class="st0" cx="-283.44" cy="396.49" r="1"/>\t\t\t<path class="st0" d="M-272.91,389.9c-2.421-0.487-4.738-1.39-6.85-2.67c-0.772-0.453-1.728-0.453-2.5,0\t\t\t\tc-2.112,1.28-4.429,2.183-6.85,2.67c-1.156,0.216-1.996,1.224-2,2.4v8.4c-0.001,1.18,0.84,2.193,2,2.41\t\t\t\tc2.422,0.482,4.74,1.386,6.85,2.67c0.775,0.44,1.725,0.44,2.5,0c2.109-1.284,4.428-2.188,6.85-2.67c1.16-0.217,2.001-1.23,2-2.41\t\t\t\tv-8.4C-270.914,391.124-271.754,390.116-272.91,389.9z M-285.84,398.13c0,0,0,0.08-0.07,0.08h-2.85c0,0-0.08,0-0.08-0.08v-0.51\t\t\t\tc0,0,0-0.08,0.08-0.08h0.4v-2.08h-0.4c-0.06,0-0.08,0-0.08-0.08v-0.51c0-0.06,0-0.08,0.08-0.08h1.52c0,0,0.08,0,0.08,0.08v0.51\t\t\t\tc0,0,0,0.08-0.08,0.08h-0.44v2.08h1.18l0.18-0.81c0,0,0-0.07,0.1-0.07h0.29c0.07,0,0.09,0,0.09,0.08V398.13z M-283.244,398.271\t\t\t\tc-0.065,0.004-0.131,0.003-0.196-0.001c-0.926,0.062-1.727-0.638-1.789-1.564c-0.005-0.069-0.005-0.138-0.001-0.206\t\t\t\tc-0.052-0.926,0.657-1.719,1.584-1.771c0.069-0.004,0.138-0.003,0.206,0.001c0.926-0.057,1.723,0.648,1.779,1.574\t\t\t\tc0.004,0.065,0.004,0.131,0.001,0.196C-281.609,397.426-282.318,398.219-283.244,398.271z M-277.38,398.26l-0.62-0.05l-0.15-0.37\t\t\t\tc-0.316,0.304-0.741,0.47-1.18,0.46c-0.894,0.031-1.645-0.668-1.676-1.562c-0.002-0.069,0-0.139,0.006-0.208\t\t\t\tc-0.05-0.943,0.674-1.748,1.617-1.798c0.041-0.002,0.082-0.003,0.123-0.002c0.4-0.012,0.786,0.149,1.06,0.44v-0.31\t\t\t\tc0,0,0-0.07,0.06-0.07h0.4c0.03,0,0.055,0.021,0.06,0.05v1.07c0,0.05,0,0.07-0.06,0.07l-0.48,0.07c0,0-0.05,0-0.07,0\t\t\tc-0.201-0.359-0.589-0.572-1-0.55c-0.583-0.057-1.101,0.37-1.158,0.952c-0.057,0.583,0.37,1.101,0.952,1.158\t\t\t\tc0.068,0.007,0.137,0.007,0.206,0c0.412,0.027,0.802-0.188,1-0.55h-1c-0.06,0-0.08,0-0.08-0.09v-0.48c0-0.06,0-0.08,0.07-0.08\t\t\t\th1.68c0,0,0.06,0,0.06,0.05v0.33c0.013,0.042,0.013,0.088,0,0.13c-0.063,0.098-0.134,0.192-0.21,0.28l0.39,1\t\t\t\tC-277.38,398.2-277.38,398.2-277.38,398.26z M-274.804,398.271c-0.065,0.004-0.131,0.003-0.196-0.001\t\t\t\tc-0.932,0.056-1.733-0.653-1.789-1.585c-0.004-0.062-0.004-0.123-0.001-0.185c-0.046-0.932,0.673-1.725,1.605-1.771\t\t\t\tc0.062-0.003,0.123-0.003,0.185,0.001c0.926-0.057,1.723,0.648,1.779,1.574c0.004,0.065,0.004,0.131,0.001,0.196\t\t\t\tC-273.169,397.426-273.878,398.219-274.804,398.271z"/></g></g></g></svg></span><span class="brandify-color"></span><span class="brandify-font"><span class="bf-left">A</span><span class="bf-right">g</span></span></div></div>':'<div class="brandify-button-wrapper brandify-button-unactivated"><div class="brandify-button-inner"></div></div>',onClick:function(){m.publish("editor:brandifyPressed"),n.showMerchPopup?a.showMerchPopover({$element:r.$el,position:"bottom",positionOffset:35,touchpointName:"postBrandifyButton"}):s.events.publish("brandify-button-pressed",{$element:r.$el})}});return t}(e);!function(e){var t=e.$el,n=o;if(n&&n.activated){var a="#dce0e3",i="#dce0e3",s="#82919a",r="#82919a",l=function(e,t){if(e&&"string"==typeof e)for(var n=0;n<t.length;n++){var a=t[n];if(a.acRoles&&a.acRoles.indexOf(e)>-1)return a.family}}("headline-font",n.fonts),c=l;if(n.colors&&n.colors.length)for(var d=0;d<n.colors.length;d++){var u=n.colors[d];u.isBaseColor&&(a=u.hex),u.acRoles.indexOf("shade-2")>-1?i=u.hex:u.acRoles.indexOf("shade-3")>-1?s=u.hex:u.acRoles.indexOf("shade-4")>-1&&(r=u.hex)}t.find(".brandify-logo .st0").css("fill",s),t.find(".brandify-color").css("background-color",a),t.find(".bf-right").css({color:r,"font-family":c}),t.find(".bf-left").css({color:i,"font-family":l})}}(t);var r=[t],c={id:"brandkit-themes",label:"i18n.panels.design.kBrandify",labelHeight:43,maxTileWidth:300,tileAspect:2.75,tileMargin:15,verticalPadding:21,bottomPadding:42};u.push(c),s.addSection(c,0),s.setItems(r,c.sectionId),s.handleScroll()},s.selectThemeWithid=function(e,t){for(var n,a=s.getAllItems(),i=0;i<a.length&&!n;i++)!function(i){a[i].data&&a[i].data.manifestPromise&&a[i].data.manifestPromise().then((function(o){o.id===e&&(a[i].select(t),n=!0)})).catch((function(e){b.error("could not retrieve manifest for theme",e)}))}(i);n||s.deselectSelected()},s.removeBrandkitSections=function(){u.forEach((function(e){s.removeSection(e.sectionId)})),s.getSectionByIndex(0).$el.removeClass("post-panel-divider-above")},s.setCoreWrapper=function(e){e},s.el.className+=" post-sidebar-theme",s}}.apply(t,a))||(e.exports=i)},sBXC:function(e,t,n){var a,i;a=[n("xeH2"),n("YLtl"),n("UzQk"),n("I1W0"),n("2AzE"),n("rPfa"),n("xHqy")],void 0===(i=function(e,t,n,a,i,o,s){var r={},l=[{id:0,name:"none",label:"i18n.common.kNone",tileHeightDelta:0},{id:7,name:"shadow",label:"i18n.panels.textstyles.kShadow",tileHeightDelta:120},{id:4,name:"outline",label:"i18n.panels.textstyles.kOutline",tileHeightDelta:120},{id:1,name:"knockout",label:"i18n.panels.textstyles.kCutout",tileHeightDelta:0},{id:8,name:"shadowAndOutline",label:"i18n.panels.textstyles.kShadowOutline",tileHeightDelta:172},{id:2,name:"cutoutAndOutline",label:"i18n.panels.textstyles.kCutoutOutline",tileHeightDelta:70},{id:9,name:"cutoutAndShadow",label:"i18n.panels.textstyles.kCutoutShadow",tileHeightDelta:120}];return function(e){(e=e||{}).renderOvershoot=400;var t,n={id:"BASIC",label:"i18n.panels.textstyles.kTextEffects",labelHeight:48,maxTileWidth:300,tileAspect:2.875,tileMargin:16,horizontalPadding:25,verticalPadding:30},c=new i(e);function d(e){const t=`${window.THEO_BUNDLE_PATH}/images/images/text-effects/${e.name}.svg`;return new a({group:"text-effects",id:e.name+"Tile",data:e,selected:!1,reselectable:!1,showShuffleOverlay:!1,shuffleLabel:"i18n.common.kShuffle",hidden:!0,previewTemplate:"<div style='background-image:url("+t+");'></div><label>"+e.label+"</label>",tileHeight:90,tileHeightDelta:e.tileHeightDelta})}function u(e,a){!function(e,a){for(var i=[],u=0;u<l.length;u++){var y=l[u],S="knockout"===y.name;if(!e||!S||a){var k=d(y);i.push(k),r[y.name]=k}}c.addSection(n),c.addItems(i,"BASIC"),function(){r.shadow&&(r.shadowOffsetSlider=new o({parent:r.shadow.drawer(),onSlide:m,onSlideStart:b,onSlideEnd:v,top:38,left:14,sliderWidth:203,minValue:1,maxValue:100,roundValues:!0,label:"i18n.components.slider.kDistance",labelClass:"label-above",showValueTooltip:!0,computeTooltipValue:function(e){return e}}),r.shadowAngleSlider=new o({parent:r.shadow.drawer(),onSlide:p,onSlideStart:h,onSlideEnd:v,top:90,left:14,sliderWidth:203,minValue:-179,maxValue:180,roundValues:!0,label:"i18n.components.slider.kDirection",labelClass:"label-above",snapTicks:[-179,-135,-45,45,135,180],showValueTooltip:!0,computeTooltipValue:function(e){return e+""}}));r.outline&&(r.outlineWeightSlider=new o({parent:r.outline.drawer(),onSlide:f,onSlideStart:g,onSlideEnd:v,top:38,left:14,sliderWidth:203,minValue:1,maxValue:100,roundValues:!0,label:"i18n.components.slider.kLineThickness",labelClass:"label-above",showValueTooltip:!0,computeTooltipValue:function(e){return e}}),r.outlineTransparentCheckbox=new s({parent:r.outline.drawer(),checked:!1,top:76,left:16,label:"i18n.panels.textstyles.kTransparentText",handleChange:function(e){var n=e.target.checked;t.toggleFillOfSelectedLockup(n).done()}}));r.knockout;r.shadowAndOutline&&(r.shadowAndOutlineOffsetSlider=new o({parent:r.shadowAndOutline.drawer(),onSlide:m,onSlideStart:b,onSlideEnd:v,top:38,left:14,sliderWidth:203,minValue:1,maxValue:100,roundValues:!0,label:"i18n.components.slider.kDistance",labelClass:"label-above",showValueTooltip:!0,computeTooltipValue:function(e){return e}}),r.shadowAndOutlineAngleSlider=new o({parent:r.shadowAndOutline.drawer(),onSlide:p,onSlideStart:h,onSlideEnd:v,top:90,left:14,sliderWidth:203,minValue:-179,maxValue:180,roundValues:!0,label:"i18n.components.slider.kDirection",labelClass:"label-above",snapTicks:[-179,-135,-45,45,135,180],showValueTooltip:!0,computeTooltipValue:function(e){return e+""}}),r.shadowAndOutlineWeightSlider=new o({parent:r.shadowAndOutline.drawer(),onSlide:f,onSlideStart:g,onSlideEnd:v,top:142,left:14,sliderWidth:203,minValue:1,maxValue:100,roundValues:!0,label:"i18n.components.slider.kLineThickness",labelClass:"label-above",showValueTooltip:!0,computeTooltipValue:function(e){return e}}));r.cutoutAndOutline&&(r.cutoutAndOutlineWeightSlider=new o({parent:r.cutoutAndOutline.drawer(),onSlide:f,onSlideStart:g,onSlideEnd:v,top:38,left:14,sliderWidth:203,minValue:1,maxValue:100,roundValues:!0,label:"i18n.components.slider.kLineThickness",labelClass:"label-above",showValueTooltip:!0,computeTooltipValue:function(e){return e}}));r.cutoutAndShadow&&(r.cutoutAndShadowOffsetSlider=new o({parent:r.cutoutAndShadow.drawer(),onSlide:m,onSlideStart:b,onSlideEnd:v,top:38,left:14,sliderWidth:203,minValue:1,maxValue:100,roundValues:!0,label:"i18n.components.slider.kDistance",labelClass:"label-above",showValueTooltip:!0,computeTooltipValue:function(e){return e}}),r.cutoutAndShadowAngleSlider=new o({parent:r.cutoutAndShadow.drawer(),onSlide:p,onSlideStart:h,onSlideEnd:v,top:90,left:14,sliderWidth:203,minValue:-179,maxValue:180,roundValues:!0,label:"i18n.components.slider.kDirection",labelClass:"label-above",snapTicks:[-179,-135,-45,45,135,180],showValueTooltip:!0,computeTooltipValue:function(e){return e+""}}))}()}(e,a)}function p(e){t.setShadowAngleOfSelectedLockup(e.value).done()}function h(){t.beginGesture()}function f(e){t.setStrokeWeightSelectedLockup(e.value).done()}function g(){t.beginGesture()}function m(e){t.setShadowOffsetOfSelectedLockup(e.value).done()}function b(){t.beginGesture()}function v(){t.endGesture(!0)}return c.updateAllEffects=function(e,t){c.removeAllSections(),u(e,t),c.update()},c.updateToolsWithCurrentValues=function(){var e=c.getSelected();if(e)switch(e.item.data.name){case"shadow":r.shadowOffsetSlider.setValue(t.getShadowOffsetOfSelectedLockupForUI()),r.shadowAngleSlider.setValue(t.getShadowAngleOfSelectedLockup());break;case"outline":r.outlineWeightSlider.setValue(t.getStrokeWeightOfSelectedLockupForUI()),r.outlineTransparentCheckbox.setChecked(t.isLockupOutlineOnly());break;case"knockout":break;case"shadowAndOutline":r.shadowAndOutlineOffsetSlider.setValue(t.getShadowOffsetOfSelectedLockupForUI()),r.shadowAndOutlineAngleSlider.setValue(t.getShadowAngleOfSelectedLockup()),r.shadowAndOutlineWeightSlider.setValue(t.getStrokeWeightOfSelectedLockupForUI());break;case"cutoutAndOutline":r.cutoutAndOutlineWeightSlider.setValue(t.getStrokeWeightOfSelectedLockupForUI());break;case"cutoutAndShadow":r.cutoutAndShadowOffsetSlider.setValue(t.getShadowOffsetOfSelectedLockupForUI()),r.cutoutAndShadowAngleSlider.setValue(t.getShadowAngleOfSelectedLockup())}},c.setCoreWrapper=function(e){t=e},c.el.className+=" post-effects-list",u(),c}}.apply(t,a))||(e.exports=i)},uZvm:function(e,t,n){var a,i;a=[n("xeH2"),n("YLtl"),n("UFvF"),n("bBG2"),n("Avqh"),n("2Fsf"),n("+VG/"),n("KFmL"),n("SgCI")],void 0===(i=function(e,t,n,a,i,o,s,r,l){const c=a.default;return function(e){(e=e||{}).class="post-sidebar-templates";var t,n=new o(e),a={},d=!1,u=!1,p={isShowing:!1,isExpanded:d,containerDims:{}};function h(){g(),a.expanderButton.show(),a.closeButton.show()}function f(){return d=!0,g()}function g(){var e=313;d&&(e=n.getComponentById("PostApp").getWidth()-313-200);d?(a.expanderButton.updateLabel("i18n.panels.TemplatesSearch.kExpandClose"),a.expanderButton.$el.addClass("expanded")):(a.expanderButton.updateLabel(" "),a.expanderButton.$el.removeClass("expanded")),n.update({width:e}),p={containerDims:{width:e,height:n.getHeight()-48},isShowing:!n.isHidden(),isExpanded:d}}function m(){return p}function b(e,t){d=e,g(),a.searchView.handleResize(!n.isHidden(),t)}function v(){a.expanderButton.hide(),a.closeButton.hide()}function y(){S(!d)}function S(e){e!==d&&(d&&a.expanderButton.hideHoverLabel(),b(e))}function k(){a.searchView.handleInitialPosterRenderEnd()}return n.handleParentResize=function(){b(d,!0)},n.setupSessionData=function(e,n,i,o,s){t=e,a.searchView.setupSessionData(t,n,i,o,s)},n.setCoreWrapper=function(e){d=!1,u="templates"===t.startingMenu,g(),a.searchView.setCoreWrapper(e).then((function(e){var t,n,i;!e.cancelled&&u&&(n={},i=!1,"templatesMenuDisplayed"===(t="templatesMenuDisplayed")&&(n.contextualData1="actionType:"+(u?"default":"onclick"),u=!1,i=!0),i&&a.searchView.extendAnalyticsWithSearchInfo(n,t),c.publish(t,n),u=!1)})).done()},n.switchedToLocalTabSet=function(){S(!1),a.expanderButton.hide()},n.returnedToGlobalSidebarState=function(){a.expanderButton.show()},n.events.subscribe("shown",h),n.events.subscribe("hidden",v),n.events.subscribe("buttonpress-templates-expander",y),n.events.subscribe("poster-initial-render-end",k),a.fromScratchLabel=new i({parent:n,tag:"label",height:48,class:"post-templates-panel-title style-scope",template:"i18n.panels.TemplatesSearch.kTitle"}),a.closeButton=new s({parent:n,id:"PostTemplatesClose",class:"asset-rail-close-button",width:13,height:13,onClick:function(){n.hide(),e.onClose()}}),a.searchView=new l({parent:n,id:"PostTemplatesSearchView",hidden:!1,parentConfig:e,getDrawDims:m,getDetailViewDrawInfo:f,setExpanded:S}),a.expanderButton=new r({parent:n,id:"PostTemplatesExpander",hidden:!0,class:"post-button-templates-expander",label:" ",hoverLabel:"i18n.panels.TemplatesSearch.kExpandHoverLabel",hoverLabelPosition:"below",onClick:function(){n.events.publish("buttonpress-templates-expander")}}),n}}.apply(t,a))||(e.exports=i)},vdJz:function(e,t,n){var a,i;a=[n("xeH2"),n("YLtl"),n("2Fsf"),n("W1Jy"),n("+VG/"),n("HTdw"),n("Q7SA"),n("8DU0"),n("GSfz"),n("3xm6"),n("Cho4"),n("+/kw")],void 0===(i=function(e,t,n,a,i,o,s,r,l,c,d,u){const{THEO_PANEL_TITLE_BAR_CLOSE:p}=u.EVENTS;return function(e){(e=e||{}).layout="rows",e.panels=[{id:"PostSidebarResizeContent",size:"auto"}];var t,n,i,o=new a(e),r={};function l(){o.allowAutomaticLayout()&&t.enableAutomaticLayoutMode(),h(),o.selectDocumentSizeWithId(t.getDocumentSizeId(),{silent:!0}),o.$el.on(p,g)}function u(){o.$el.off(p,g)}function h(){if(t){var e,a=t.inVisibleGridLayout();if(!a){var o=t.getOriginalImageSize();o&&(e=o.width/o.height)}a===n&&e===i||(r.listOfSizes.updateTiles({inVisibleGridLayout:a,origImageAspect:e}),n=a,i=e)}}function f(e){o.events.publish("size-item-selected",e)}function g(e){e.stopPropagation(),o.events.publish("resize-panel-title-bar-close")}return o.setCoreWrapper=function(e){t=e,r.listOfSizes.updateTiles({inVisibleGridLayout:t.inVisibleGridLayout()}),t.events.subscribe("forma-added",h),t.events.subscribe("formae-deleted",h)},o.getSelected=function(){return r.listOfSizes.getSelected()},o.deselectSelected=function(){r.listOfSizes.deselectSelected()},o.allowAutomaticLayout=function(){},o.selectDocumentSizeWithId=function(e,t){var n=r.listOfSizes.getSelected();n&&n.item&&n.item.data.id===e||(r.listOfSizes.selectItemWithProperty("id",e,t)||r.listOfSizes.selectItemWithProperty("id","Custom",t))},function(){o.el.className+=" post-sidebar-resize";const e=function(){const e=document.createElement(d.TheoPanelTitleBar.elementName);return e.titleText=c.translate("components.buttons.kResize"),e}();o.$el.prepend(e),r.listOfSizes=new s({parent:"PostSidebarResizeContent",id:"PostResizeList",hidden:!1}),o.events.subscribe("shown",l),o.events.subscribe("hidden",u),r.listOfSizes.events.subscribe("item-selected",f)}(),o}}.apply(t,a))||(e.exports=i)},vs1w:function(e,t,n){var a,i;a=[n("xeH2"),n("YLtl"),n("Na8G"),n("2Fsf"),n("W1Jy"),n("TW0n"),n("+VG/"),n("rPfa"),n("Avqh"),n("07OK"),n("uzEs"),n("bBG2"),n("9KYx"),n("+Ltv"),n("UzQk"),n("pEL3"),n("3xm6")],void 0===(i=function(e,t,n,a,i,o,s,r,l,c,d,u,p,h,f,g,m){const b=u.default,v=p.default;var y=f.LockupAlignment.Left,S=f.LockupAlignment.UNSET;const k={MAGIC:f.LockupLayout.FitJustified,LEFT:f.LockupLayout.LegacyLeft,CENTER:f.LockupLayout.LegacyCenter,RIGHT:f.LockupLayout.LegacyRight,CURVE:f.LockupLayout.Path,GRID:f.LockupLayout.LetterGrid,AUTO:f.LockupLayout.Auto},w=f.TextFacade.getStandardFontSizes(),C=f.TextFacade.getMinimumFontSize(),x=f.TextFacade.getMaximumFontSize();var L=280,P=L;return function(u){var p=0;((u=u||{}).advancedTextLayoutWebEnabled||u.advancedTextLayoutEnabled)&&(L+=48,P+=48,p=48),u.layout="rows",u.panels=[{id:"PostSidebarTextTypeStyleActions",size:L+"px"},{id:"PostSidebarTextTypeOtherActions",class:"post-panel-divider-above",size:"auto"}];var T,A,z=new i(u),O={},I=[],W=t.throttle((function(){if(T){var e=T.getSelectedForma();e&&e.isTypeLockup()&&(!function(){var e=T.getLockupFontOfSelectedLockup();if(e){const{label:t,family:n,postScriptName:a}=e.fontData,i=v.isStandardFontSelectable(a)?t||n||a:m.translate("panels.textstyles.kLegacyFont");O.fontPickerInvoker.$el.find(".dropdown-current").text(i)}}(),B(),E())}}),400);function B(){T.setSessionContainerSizeForSelectedLockup();var t=T.getLayoutOfSelectedLockup();if(!u.advancedTextLayoutWebEnabled&&!u.advancedTextLayoutEnabled)switch(t){case f.LockupLayout.LetterGrid:e("#PostTextLayout-left").removeClass("disabled"),e("#PostTextLayout-center").removeClass("disabled"),e("#PostTextLayout-right").removeClass("disabled"),e("#PostTextLayout-magic").addClass("disabled");break;case f.LockupLayout.Path:case f.LockupLayout.Auto:e("#PostTextLayout-left").addClass("disabled"),e("#PostTextLayout-center").addClass("disabled"),e("#PostTextLayout-right").addClass("disabled"),e("#PostTextLayout-magic").addClass("disabled");break;default:e("#PostTextLayout-left").removeClass("disabled"),e("#PostTextLayout-center").removeClass("disabled"),e("#PostTextLayout-right").removeClass("disabled"),e("#PostTextLayout-magic").removeClass("disabled")}if(t===f.LockupLayout.Standard||!u.advancedTextLayoutWebEnabled&&!u.advancedTextLayoutEnabled&&t===f.LockupLayout.LetterGrid)switch(T.getAlignmentOfSelectedLockup()){case f.LockupAlignment.Center:t=f.LockupLayout.LegacyCenter;break;case f.LockupAlignment.Right:t=f.LockupLayout.LegacyRight;break;default:t=f.LockupLayout.LegacyLeft}for(var n in k){const a="#PostTextLayout-"+n.toLowerCase(),i=k[n];i===t?e(a).addClass("selected"):e(a).removeClass("selected"),i!==f.LockupLayout.Path&&i!==f.LockupLayout.LetterGrid||(u.advancedTextLayoutWebEnabled||u.advancedTextLayoutEnabled?e(a).removeClass("disabled"):e(a).addClass("disabled")),i===f.LockupLayout.Auto&&(u.advancedTextLayoutEnabled?(e(a).removeClass("disabled"),e(a).show()):(e(a).addClass("disabled"),e(a).hide()))}}function E(){if(T.inCharStyleMode)O.alignButtonsWrapper.hide(),O.sizeSlider.hide(),O.fontSizePickerContainer.hide(),O.letterSpacingSlider.hide(),O.spacingSlider.hide(),O.layerSlider.hide();else{O.alignButtonsWrapper.show(),O.layoutButtonsWrapper.show(u.advancedTextLayoutWebEnabled||u.advancedTextLayoutEnabled);const t=T.getUserFontSizeOfSelectedForma(),n=T.getUserFontSizesInDocument(),a=T&&T.getSelectedForma(),i=a&&[a],o=f.TextFacade.getMinimumFontSize(i),s=f.TextFacade.getMaximumFontSize(i);O.sizeSlider.show(),O.sizeSlider.update({minValue:o,maxValue:s}),O.sizeSlider.setValue(t);const r=Math.min(...n,...w,C),l=Math.max(...n,...w,x);if(O.fontSizePickerContainer.show(),O.fontSizePicker.update({currentSize:t,minSize:r,maxSize:l,docSizes:n}),O.letterSpacingSlider.setValue(T.getLetterSpacingSelectedLockup()),O.letterSpacingSlider.show(),T.isSpacingAvailableForSelectedLockup()){var e=T.getSpacingAndPaddingOfSelectedLockup();O.spacingSlider.setValue(e.spacing),O.spacingSlider.show()}else O.spacingSlider.hide();T.getNumLayers()>1?(O.layerSlider.show(),function(){O.layerSlider.update({maxValue:T.getNumLayers()-1});var e=T.getLayerSliderValueOfSelectedForma();O.layerSlider.setValue(e)}()):O.layerSlider.hide()}var t=T.getOpacitySliderValueOfSelectedForma();O.opacitySlider.setValue(t)}function D(){T&&T.inCharStyleMode?(e("#PostSidebarTextTypeOtherActions").removeClass("post-panel-divider-above"),z.update({panels:[{id:"PostSidebarTextTypeStyleActions",size:"96px"}]})):(e("#PostSidebarTextTypeOtherActions").addClass("post-panel-divider-above"),z.update({panels:[{id:"PostSidebarTextTypeStyleActions",size:P+"px"}]}))}function M(){b.publish("editor:text:letterSpacingValueChanged"),T.beginGesture(),T.setCurrentPin(),z.events.publish("size-slide-start")}function F(){T.endGesture(!0),z.events.publish("size-slide-end")}function V(e){T.setLetterSpacingForSelectedLockup(e.value).done()}function H(){b.publish("editor:text:lineSpacingValueChanged"),T.beginGesture(),T.setCurrentPin(),z.events.publish("size-slide-start")}function R(){T.endGesture(!0),z.events.publish("size-slide-end")}function G(e){T.setSpacingForSelectedLockup(e.value).done()}function N(t,n){if(!e(n.currentTarget).hasClass("disabled")){var a=T.getSelectedForma();if(!a||!a.isTypeLockup())return;T.setSessionContainerSizeForSelectedLockup();var i=T.getLayoutOfSelectedLockup(),o=T.getAlignmentOfSelectedLockup(),s=a.style.pathID;i===f.LockupLayout.LetterGrid&&(y=o),i===f.LockupLayout.Auto&&(S=o);var r,l=t,c=f.LockupAlignment.UNSET,d=!1;if(u.advancedTextLayoutWebEnabled||u.advancedTextLayoutEnabled||i!==f.LockupLayout.LetterGrid&&i!==f.LockupLayout.Path&&i!==f.LockupLayout.Auto){switch(t){case f.LockupLayout.LegacyCenter:l=f.LockupLayout.Standard,c=f.LockupAlignment.Center,r=f.AnalyticsConstants.kAnalyticsLayoutCenterType;break;case f.LockupLayout.LegacyRight:l=f.LockupLayout.Standard,c=f.LockupAlignment.Right,r=f.AnalyticsConstants.kAnalyticsLayoutRightType;break;case f.LockupLayout.LegacyLeft:l=f.LockupLayout.Standard,c=f.LockupAlignment.Left,r=f.AnalyticsConstants.kAnalyticsLayoutLeftType;break;case f.LockupLayout.FitJustified:r=f.AnalyticsConstants.kAnalyticsLayoutMagicType}switch(l){case f.LockupLayout.LetterGrid:i===f.LockupLayout.LetterGrid&&(y=T.getNextValidLetterGridAlignmentOfSelectedLockup(y),d=!0),c=y,r=f.AnalyticsConstants.kAnalyticsLayoutGridType;break;case f.LockupLayout.Path:i===f.LockupLayout.Path&&(s=T.getNextValidPathOfSelectedLockup(s),d=!0),s===f.TextPathID.UNSET&&(s=f.TextPathID.Circle),c=f.LockupAlignment.UNSET,r=f.AnalyticsConstants.kAnalyticsLayoutCurvedType;break;case f.LockupLayout.Auto:i===f.LockupLayout.Auto||o===f.LockupAlignment.UNSET?(c=T.getNextValidAutoAlignmentOfSelectedLockup(o),i===f.LockupLayout.Auto&&(d=!0)):c=S===f.LockupAlignment.UNSET?T.getNextValidAutoAlignmentOfSelectedLockup(S):S,S=c,r=f.AnalyticsConstants.kAnalyticsLayoutAutoType}}else if(i===f.LockupLayout.LetterGrid){switch(l=f.LockupLayout.LetterGrid,t){case f.LockupLayout.LegacyCenter:c=f.LockupAlignment.Center;break;case f.LockupLayout.LegacyRight:c=f.LockupAlignment.Right;break;case f.LockupLayout.LegacyLeft:c=f.LockupAlignment.Left}r=f.AnalyticsConstants.kAnalyticsLayoutGridType}else r=i===f.LockupLayout.Path?f.AnalyticsConstants.kAnalyticsLayoutCurvedType:f.AnalyticsConstants.kAnalyticsLayoutAutoType;T.setLayoutAndAlignmentForSelectedLockup(l,c,s).done(B),b.publish(f.AnalyticsConstants.kAnalyticsDataTextLayoutSelected,{contextualData1:"textLayoutType:"+(r||"unknown"),contextualData2:"isShuffle:"+d})}}function $(e){T.setFontSize(e).done()}function U(){T.beginGesture(),T.setCurrentPin(),z.events.publish("size-slide-start")}function _(){T.endGesture(!0),O.fontSizePicker.update({docSizes:T.getUserFontSizesInDocument()}),z.events.publish("size-slide-end")}function K(e){var t=e.value;T.setFontSize(t).done(),O.fontSizePicker.update({currentSize:t})}function Y(){T.beginGesture()}function j(){T.endGesture(!0)}function q(e){T.setLayerForSelectedForma(e.value).done()}function Q(e){T.setOpacityForSelectedFormae(e.value).done()}function J(){b.publish("editor:text:opacityValueChanged"),T.beginGesture()}function X(){T.endGesture(!0)}function Z(){D(),W(),u.entitleBrandKit&&h.inPremiumTemplateOnboardingFlow&&(O.fontPickerInvoker.isHidden()||(A||(A=new g({parent:"PostFontPickerInvokerContainer",id:"PostPremiumFontsCoachmark",message:'<span>i18n.components.coachmarks.premiumFonts.kMessagePartOne</span><span class="em">i18n.components.coachmarks.premiumFonts.kMessageAdobeFonts</span><span>i18n.components.coachmarks.premiumFonts.kMessagePartTwo</span>',title:"i18n.components.coachmarks.premiumFonts.kTitle",hasHeroImage:!0,hidden:!0,priority:2,offsetY:4,offsetX:-23,arrowDirection:"right",anchorElement:O.fontPickerInvoker,removeOnHidden:!1,onCloseClick:function(){h.inPremiumTemplateOnboardingFlow=!1}})),A&&A.show()))}function ee(){!function(){for(var e=0;e<I.length;e++)I[e].remove();I=[]}(),O.fontPicker.hide()}return z.setCoreWrapper=function(e){(T=e).events.subscribe("forma-selected",W),T.events.subscribe("text-forma-selected",W);var t=T.events.subscribe("forma-selected",(function(e){e&&e.forma&&e.forma.isTypeLockup&&e.forma.isTypeLockup()&&(v.loadAllStandardFonts(),t.remove())}));O.fontPicker.setCoreWrapper(e)},z.enterCharStyleMode=function(){var e=T.getLockupFontOfSelectedLockup();e&&[].push(e),E(),D()},z.exitCharStyleMode=function(){E(),D()},z.setBrandkit=function(e){O.fontPicker.update({authoringContext:e})},z.el.className+=" post-sidebar-text-type",O.invokerLabel=new l({parent:"PostSidebarTextTypeStyleActions",id:"PostFontPickerLabel",tag:"h2",template:"i18n.panels.textstyles.kFontFamily"}),O.PostFontPickerInvokerContainer=new a({parent:"PostSidebarTextTypeStyleActions",left:16,top:58,width:248,height:40,id:"PostFontPickerInvokerContainer"}),O.fontPickerInvoker=new o({parent:"PostFontPickerInvokerContainer",left:8,top:0,width:232,height:40,id:"PostFontPickerInvoker",class:"post-font-menu-selection",template:"<p class='dropdown-current'></p><div class='dropdown-button'></div>",killClick:!0,onClick:function(){O.fontPicker.isHidden()?O.fontPicker.show():O.fontPicker.hide()}}),O.fontPicker=new d({id:"fontPicker",right:15,top:58,left:"auto",width:"auto",height:"auto",anchorEl:O.PostFontPickerInvokerContainer.$el,hidden:!0}),O.fontPicker.events.subscribe("shown",(function(){h.inPremiumTemplateOnboardingFlow=!1,z.events.publish("font-picker-opened")})),O.fontPicker.events.subscribe("add-custom-fonts-attempted",(function(){n.showMerchPopover({$element:O.PostFontPickerInvokerContainer.$el,position:"bottom",touchpointName:"postCustomFontsButton"})})),O.styleButtonContainer=new a({id:"PostStyleButtonsContainer",parent:z,top:111,height:"auto",visibilityGroup:"style-tab-submodal"}),O.alignButtonsWrapper=new l({class:"post-button-wrapper",parent:"PostStyleButtonsContainer",template:"<div></div>"}),O.alignLeft=new s({parent:O.alignButtonsWrapper,label:"",id:"PostTextLayout-left",hoverLabel:"i18n.panels.textstyles.kLeftAlign",height:40,width:55,onClick:function(e){N(f.LockupLayout.LegacyLeft,e)}}),O.alignCenter=new s({parent:O.alignButtonsWrapper,label:"",id:"PostTextLayout-center",hoverLabel:"i18n.panels.textstyles.kCenterAlign",class:"divider-left-dark",height:40,width:55,onClick:function(e){N(f.LockupLayout.LegacyCenter,e)}}),O.alignRight=new s({parent:O.alignButtonsWrapper,label:"",id:"PostTextLayout-right",hoverLabel:"i18n.panels.textstyles.kRightAlign",height:40,width:55,onClick:function(e){N(f.LockupLayout.LegacyRight,e)}}),O.alignMagic=new s({parent:O.alignButtonsWrapper,label:"",id:"PostTextLayout-magic",hoverLabel:"i18n.panels.textstyles.kCapitalizeFit",class:"divider-left-dark button-set-separate",height:40,width:55,onClick:function(e){N(f.LockupLayout.FitJustified,e)}}),O.layoutButtonContainer=new a({id:"PostLayoutButtonsContainer",parent:z,top:163,height:"auto",visibilityGroup:"style-tab-submodal"}),O.layoutButtonsWrapper=new l({class:"post-button-wrapper",parent:"PostLayoutButtonsContainer",template:"<div></div>"}),O.textLayoutCurve=new s({parent:O.layoutButtonsWrapper,label:"",id:"PostTextLayout-curve",hoverLabel:"i18n.panels.textstyles.kCurveLayout",height:40,width:55,onClick:function(e){N(f.LockupLayout.Path,e)}}),O.textLayoutGrid=new s({parent:O.layoutButtonsWrapper,label:"",id:"PostTextLayout-grid",hoverLabel:"i18n.panels.textstyles.kGridLayout",class:"divider-left-dark",height:40,width:55,onClick:function(e){N(f.LockupLayout.LetterGrid,e)}}),O.textLayoutAuto=new s({parent:O.layoutButtonsWrapper,label:"",id:"PostTextLayout-auto",hoverLabel:"i18n.panels.textstyles.kAutoLayout",height:40,width:55,onClick:function(e){N(f.LockupLayout.Auto,e)}}),O.fontSizePickerContainer=new a({id:"PostStyleSizeContainer",parent:"PostSidebarTextTypeStyleActions",top:181+p,right:25,left:"auto",height:"auto",width:72}),O.sizeSlider=new r({parent:"PostSidebarTextTypeStyleActions",id:"PostTextTypeSizeSlider",onSlide:K,onSlideStart:U,onSlideEnd:_,top:198+p,left:24,sliderWidth:154,handleHitBuffer:15,sliderHitBuffer:5,minValue:C,maxValue:x,roundValues:!0,label:"i18n.components.slider.kSize",labelClass:"label-above",showValueTooltip:!1}),O.fontSizePicker=new c({parent:"PostStyleSizeContainer",standardSizes:w,docSizes:[],currentSize:w[0],minSize:C,maxSize:x,onSelected:$,formatter:e=>f.Host.locale.formatNumber(e,1)}),O.letterSpacingSlider=new r({parent:"PostSidebarTextTypeStyleActions",id:"PostTextLetterSpacingSlider",onSlideStart:M,onSlideEnd:F,onSlide:V,top:248+p,left:24,sliderWidth:236,handleHitBuffer:15,sliderHitBuffer:20,minValue:0,maxValue:1,roundValues:!1,showValueTooltip:!0,label:"i18n.components.slider.kLetterSpacing",labelClass:"label-above",computeTooltipValue:function(e){return Math.round(100*e)}}),O.spacingSlider=new r({parent:"PostSidebarTextTypeStyleActions",id:"PostTextSpacingSlider",onSlideStart:H,onSlideEnd:R,onSlide:G,top:298+p,left:24,sliderWidth:236,handleHitBuffer:15,sliderHitBuffer:20,minValue:0,maxValue:1,roundValues:!1,showValueTooltip:!0,label:"i18n.components.slider.kLineSpacing",labelClass:"label-above",computeTooltipValue:function(e){return Math.round(100*e)}}),O.opacitySlider=new r({parent:"PostSidebarTextTypeOtherActions",id:"PostSidebarTextOpacitySlider",onSlide:Q,onSlideStart:J,onSlideEnd:X,top:55,left:24,sliderWidth:236,handleHitBuffer:15,sliderHitBuffer:20,minValue:.05,maxValue:1,roundValues:!1,showValueTooltip:!0,label:"i18n.components.slider.kOpacity",labelClass:"label-above",computeTooltipValue:function(e){return m.translate("components.slider.kValueLabel",{sliderValue:Math.round(100*e)})}}),O.layerSlider=new r({parent:"PostSidebarTextTypeOtherActions",id:"PostTextTypeLayerSlider",onSlide:q,onSlideStart:Y,onSlideEnd:j,top:105,left:24,sliderWidth:236,handleHitBuffer:15,sliderHitBuffer:20,minValue:0,maxValue:1,roundValues:!0,label:"i18n.components.slider.kOrder",labelClass:"label-above",showValueTooltip:!0,computeTooltipValue:function(e){return e+1}}),O.spacingSlider.events.subscribe("shown",(function(){P+=52,z.update({panels:[{id:"PostSidebarTextTypeStyleActions",size:P+"px"}]})})),O.spacingSlider.events.subscribe("hidden",(function(){P-=52,z.update({panels:[{id:"PostSidebarTextTypeStyleActions",size:P+"px"}]})})),z.events.subscribe("shown",Z),z.events.subscribe("hidden",ee),z}}.apply(t,a))||(e.exports=i)},wRAw:function(e,t,n){var a,i;a=[n("2Fsf"),n("W1Jy"),n("KGex"),n("3xm6"),n("Cho4"),n("+/kw")],void 0===(i=function(e,t,n,a,i,o){const{THEO_PANEL_TITLE_BAR_CLOSE:s}=o.EVENTS;return function(t){var o=new e(t=t||{}),r=o.hide,l=o.show,c={},d="current";function u(e,t,n){d=e.id,"current"===e.id&&"current"!==d||o.events.publish("item-selected",e,t,n)}function p(e){o.events.publish("eyedropper-changed",e)}function h(e,t){var n,a;a=t,((n=e).color!==a.color||n.id!==a.id||n.roles!==a.roles)&&o.events.publish("update-palette-color",e,t)}function f(e){e.stopPropagation(),o.events.publish("color-panel-title-bar-close")}function g(){o.$el.on(s,f)}function m(){o.$el.off(s,f)}return o.setCurrentPalette=function(e,t){t=t||{updateSelection:"current"===d},c.listOfPalettes.setCurrentPalette(e,t)},o.selectCurrentPalette=function(e,t){c.listOfPalettes.selectCurrentPalette(e,t)},o.selectIndex=function(e,t,n){c.listOfPalettes.selectIndex(e,t,n)},o.setListOfBrandKitPalettes=function(e){c.listOfPalettes.setListOfBrandKitPalettes(e)},o.handleEyeDropperClicked=function(e){c.listOfPalettes.handleEyeDropperClicked(e)},o.handleEyeDropperMoved=function(e,t){c.listOfPalettes.handleEyeDropperMoved(e,t)},o.hide=function(){c.listOfPalettes.hide(),r()},o.show=function(){c.listOfPalettes.show(),l()},o.removeBrandkitSections=function(){c.listOfPalettes.removeBrandkitSections()},o.rebindColorPicker=function(){c.listOfPalettes.rebindColorPicker()},o.unbindColorPicker=function(e){c.listOfPalettes.unbindColorPicker(e||{hidePicker:!0})},function(){o.el.className+=" post-sidebar-palette-panel";const e=function(){const e=document.createElement(i.TheoPanelTitleBar.elementName);return e.titleText=a.translate("components.buttons.kColors"),e}();o.$el.append(e),c.listOfPalettes=new n({parent:o,id:"PostPalettesList",colorPicker:t.colorPicker}),c.listOfPalettes.events.subscribe("item-selected",u),c.listOfPalettes.events.subscribe("eyedropper-changed",p),c.listOfPalettes.events.subscribe("update-palette-color",h),o.events.subscribe("shown",g),o.events.subscribe("hidden",m)}(),o}}.apply(t,a))||(e.exports=i)},wYpX:function(e,t,n){var a,i;a=[n("xeH2"),n("YLtl"),n("TW0n")],void 0===(i=function(e,t,n){return function(t){var a,i,o=new n(t=t||{}),s=o.update,r=t.position,l=t.isLocalFile;function c(){var e=Math.floor(r/4),t=r%4;o.update({top:72*e+10*e,left:72*t+10*t})}return o.update=function(e){"number"==typeof e.position&&(r=e.position,c()),s(e)},o.isLocalFile=function(){return l},o.el.className+=" img-container",o.data=t.data,a=e('<div class="img-preview">').css({"background-image":"url("+t.src+")"}),i=e('<div class="overlay">'),o.$el.append(a).append(i),c(),o}}.apply(t,a))||(e.exports=i)},ynbG:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n("Na8G"),i=n.n(a),o=n("GSfz"),s=n.n(o),r=n("bBG2"),l=n("pEL3"),c=n.n(l),d=n("/nf9"),u=n.n(d),p=n("TW0n"),h=n.n(p),f=n("8DU0");function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m{constructor(e,t,n,a,i,o){this.isWatermarkEnabled=e,this.dismissedWatermarkCoachmark=t,this.parent=n,this.poster=a,this.coreWrapper=i,this.requestSaveMethod=o,g(this,"watermarkButton",void 0),g(this,"watermarkCoachmark",void 0),g(this,"watermarkTooltip",void 0),this.handleWatermarkClick=this.handleWatermarkClick.bind(this),this.handleWatermarkFootprintChanged=this.handleWatermarkFootprintChanged.bind(this),this.handleMerchNotify=this.handleMerchNotify.bind(this),this.handleWatermarkMouseover=this.handleWatermarkMouseover.bind(this),this.handleWatermarkMouseleave=this.handleWatermarkMouseleave.bind(this),this.onHideWatermarkCoachmark=this.onHideWatermarkCoachmark.bind(this),this.watermarkButton=new h.a({id:"PostWatermarkButton",parent:this.parent,onClick:this.handleWatermarkClick,hidden:!this.isWatermarkEnabled}),this.isWatermarkEnabled&&this.createWatermarkDiscoverabilityComponents(),this.poster.events.subscribe("watermark-footprint-changed",this.handleWatermarkFootprintChanged)}createWatermarkDiscoverabilityComponents(){this.watermarkTooltip=new u.a({parent:this.parent,id:"watermarkTooltip",message:"i18n.components.coachmarks.watermark.kTooltip",arrowDirection:"down",width:"auto",height:34,hidden:!0}),this.watermarkCoachmark=new c.a({parent:this.parent,id:"watermarkCoachmark",message:"i18n.components.coachmarks.watermark.kMessage",title:"i18n.components.coachmarks.watermark.kTitle",hidden:!0,arrowDirection:"right-bottom",offsetX:-15,offsetY:-200,priority:0,anchorElement:this.watermarkButton,userSettingFlag:s.a.keys.POST_WATERMARK_COACHMARK_DISMISSED,onHide:this.onHideWatermarkCoachmark}),this.isWatermarkEnabled&&!this.dismissedWatermarkCoachmark&&this.watermarkCoachmark.show(),this.watermarkButton.$el.on("mouseover",this.handleWatermarkMouseover),this.watermarkButton.$el.on("mouseleave",this.handleWatermarkMouseleave)}onHideWatermarkCoachmark(){this.dismissedWatermarkCoachmark=!0}updateWatermarkStatus(e,t=!1){(t||e!==this.isWatermarkEnabled)&&(this.isWatermarkEnabled=e,this.poster.setWatermark(e),this.updateWatermarkAndCoachmarkVisibility(e),this.handleWatermarkFootprintChanged(this.poster.getWatermarkFootprint()),this.updateWatermarkDiscoverabilityComponents())}updateWatermarkVisibility(e){this.watermarkButton.show(e)}updateWatermarkTooltipVisibility(e){this.watermarkTooltip&&this.isWatermarkEnabled&&this.dismissedWatermarkCoachmark&&this.watermarkTooltip.show(e)}updateWatermarkCoachmarkVisibility(e){if(this.dismissedWatermarkCoachmark||!this.watermarkCoachmark)return;const t=e&&!this.watermarkButton.isHidden();this.watermarkCoachmark.reposition(),this.watermarkCoachmark.show(t)}updateWatermarkAndCoachmarkVisibility(e=!0){const t=e&&this.isWatermarkEnabled;this.poster.setWatermark(t),this.updateWatermarkVisibility(t),this.updateWatermarkCoachmarkVisibility(t)}updateWatermarkDiscoverabilityComponents(){if(!this.isWatermarkEnabled)return;const e=this.poster.getWatermarkFootprint(),t=e.left+e.width/2,n=e.top;this.updateWatermarkCoachmarkVisibility(!0),this.watermarkTooltip&&(this.watermarkTooltip.update({left:t-41,top:n-48}),this.watermarkButton.isHidden()&&this.watermarkTooltip.hide())}handleWatermarkFootprintChanged(e){const t=e||this.poster.getWatermarkFootprint();this.watermarkButton.update({height:t.height,width:t.width,left:t.left,top:t.top}),this.updateWatermarkDiscoverabilityComponents()}handleWatermarkClick(){this.watermarkCoachmark&&this.watermarkCoachmark.hide(),this.dismissedWatermarkCoachmark=!0,f.default.setSetting(s.a.keys.POST_WATERMARK_COACHMARK_DISMISSED,!0),r.default.publish("editor:watermarkPressed"),i.a.showMerchPopover({$element:this.watermarkButton.$el,position:"top",touchpointName:"postWatermark",notify:this.handleMerchNotify})}handleWatermarkMouseover(){this.updateWatermarkTooltipVisibility(!0)}handleWatermarkMouseleave(){this.updateWatermarkTooltipVisibility(!1)}handleMerchNotify(e){"secondary"===e?(this.coreWrapper.setWatermarkEnabledForDoc(!1),this.updateWatermarkStatus(!1),this.requestSaveMethod(),r.default.publish("editor:watermarkRemoved")):"no-selection"===e&&r.default.publish("editor:watermarkRemoveCancelled",{payToRemove:!1})}}}}]);
//# sourceMappingURL=theo-web-view_89e74005-f9944436.js.map