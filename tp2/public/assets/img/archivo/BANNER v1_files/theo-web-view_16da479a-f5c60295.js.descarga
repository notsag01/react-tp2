(window.webpackJsonptheoWebApp=window.webpackJsonptheoWebApp||[]).push([[92,71,82],{"/QpO":function(e,t,o){var n,a;n=[o("xeH2"),o("YLtl"),o("W1Jy"),o("2Fsf"),o("tpS0"),o("KFmL"),o("rPfa"),o("bBG2"),o("6G8C"),o("UzQk"),o("3xm6")],void 0===(a=function(e,t,o,n,a,i,l,r,s,d,c){const u=r.default;return function(e){(e=e||{}).layout="rows",e.panels=[{id:"PostSidebarBackgroundColorActions",size:"96px"},{id:"PostSidebarBackgroundColorsList",class:"post-panel-divider-above",size:"auto"}];var n,a,i=new o(e),r=[],p={},h=t.throttle((function(e){if(!i.isHidden()&&n){e=e||{};var o=n.getSelectedForma();o&&(o.controller.moveable?(p.opacitySlider.show(),p.opacitySlider.setValue(n.getOpacitySliderValueOfSelectedForma()),i.update({panels:[{id:"PostSidebarBackgroundColorActions",size:"96px"},{id:"PostSidebarBackgroundColorsList",class:"post-panel-divider-above",size:"auto"}]})):(p.opacitySlider.hide(),i.update({panels:[{id:"PostSidebarBackgroundColorActions",size:"0px"},{id:"PostSidebarBackgroundColorsList",class:"post-panel-divider-above",size:"auto"}]})),e.doFade?(p.listOfBgColors.$el.addClass("fade-out"),t.delay((function(){m(o,e),p.listOfBgColors.update(),p.listOfBgColors.$el.removeClass("fade-out")}),100)):(m(o,e),p.listOfBgColors.update()))}}),400);function g(){var e=n.getSelectedForma();e&&(a=e.formaID),h({doFade:!1,updateSelection:!0}),r.push(n.events.subscribe("forma-selected",(function(e){var t;e.forma&&(e.forma.formaID!==a?(t=e.forma.formaID,a=t,h({doFade:!0,updateSelection:!1}),p.listOfBgColors.closeColorPicker()):(f(e.forma,{updateSelection:!1}),p.listOfBgColors.update()))})))}function b(){!function(){for(var e=0;e<r.length;e++)r[e].remove();r=[]}()}function m(e,o){if(!i.isHidden()&&e){o.includeNoneCategory=function(e){const t=d.ImageFacade.getFrameFormaForForma(e);return t&&t.controller&&t.controller.canHaveNoneFillColor()}(e),o.includeNoneCategory?p.listOfBgColors.setNoneSection():p.listOfBgColors.removeNoneSection(),f(e,o);var n=e.controller.getSuggestableColors(),a=t.map(n,(function(e){return[{red:255*e[0].rgbColor.red,green:255*e[0].rgbColor.green,blue:255*e[0].rgbColor.blue,roles:e[0].sparkRoles,id:e[0].sparkElementID}]}));p.listOfBgColors.setSuggestedColors(a),p.listOfBgColors.setDefaultColors()}}function f(e,t){if(!n)return;if(!(e=e||n.getSelectedForma()))return;const o=[];if(function(e){if(e&&e.isImage()){const t=d.ImageFacade.getFrameFormaForForma(e);return d.ImageFacade.canApplyBackgroundColor(t)}return!0}(e)){const t=n.getFormaBackgroundColor(e);t&&o.push({red:255*t.rgbColor.red,green:255*t.rgbColor.green,blue:255*t.rgbColor.blue,alpha:t.rgbColor.alpha,roles:t.sparkRoles,id:t.sparkElementID})}p.listOfBgColors.setCurrentColors(o,t)}function E(e,t){i.events.publish("bg-color-selected",e,t),e&&e[0]&&e[0].isBKColor&&u.publish("usedBrandKitBGColor"),u.publish("backgroundColorSelected",{backgroundColor:"r:"+e[0].red+" g:"+e[0].green+" b:"+e[0].blue+" a:1"})}function S(){n.beginGesture()}function T(){n.endGesture(!0)}function C(e){n.setOpacityForSelectedFormae(e.value).done()}return i.setCoreWrapper=function(e){n=e},i.setBrandKitColors=function(e){p.listOfBgColors.setBrandKitColors(e)},i.removeBrandkitSections=function(){p.listOfBgColors.removeBrandkitSections()},i.handleEyeDropperClicked=function(e){p.listOfBgColors.handleEyeDropperClicked(e)},i.handleEyeDropperMoved=function(e,t){p.listOfBgColors.handleEyeDropperMoved(e,t)},i.selectCurrentColor=function(e){p.listOfBgColors.selectCurrentColor(e)},i.el.className+=" post-sidebar-background-color",p.opacitySlider=new l({parent:"PostSidebarBackgroundColorActions",id:"PostBannerColorOpacitySlider",onSlide:C,onSlideStart:S,onSlideEnd:T,top:60,left:28,sliderWidth:232,sliderHitBuffer:20,minValue:.05,maxValue:1,roundValues:!1,showValueTooltip:!0,label:"i18n.components.slider.kOpacity",labelClass:"label-above",computeTooltipValue:function(e){return c.translate("components.slider.kValueLabel",{sliderValue:Math.round(100*e)})}}),p.listOfBgColors=new s({elementClassName:"post-bg-colors-list",parent:"PostSidebarBackgroundColorsList",hidden:!1,top:0,bottom:0,colorPicker:e.colorPicker}),i.events.subscribe("shown",g),i.events.subscribe("hidden",b),p.listOfBgColors.events.subscribe("item-selected",E),p.listOfBgColors.events.subscribe("update-color",E),i.republish(p.listOfBgColors.events,"eyedropper-changed"),i}}.apply(t,n))||(e.exports=a)},"0IaF":function(e,t,o){var n,a;n=[o("xeH2"),o("YLtl"),o("BG/d"),o("2AzE")],void 0===(a=function(e,t,o,n){return function(e){(e=e||{}).renderOvershoot=400,e.sections=[{id:"PostBrandPrimaryLogos",maxTileWidth:300,tileMargin:15,tileAspect:2,verticalPadding:15,label:"i18n.panels.logo.kPrimary",labelHeight:30},{id:"PostBrandSecondaryLogos",maxTileWidth:100,tileMargin:15,tileAspect:108/87,verticalPadding:15,label:"i18n.panels.logo.kMore",labelHeight:45}];var t=new n(e),a=[],i=[],l=!1;function r(e){var t=new o({data:null,selected:!1,hidden:!0,reselectable:!0,template:"<div class='postspinner' style='height:100%;width:100%;background-size:contain;background-repeat:no-repeat;background-position:center'></div>"});return e&&e.then((function(e){!function(e,t){e.update({data:t});var o=e.$el.find("div");o.css("background-image","url("+t.fullResUrl+")"),o.removeClass("postspinner")}(t,e)})),t}function s(){0===a.length&&0===i.length?t.events.publish("show-no-logos-panel"):(t.setItems(a,"PostBrandPrimaryLogos"),t.setItems(i,"PostBrandSecondaryLogos"),l&&t.addItems([new o({selectable:!1,hidden:!0,template:"<div class='post-add-logo-tile'></div>",onClick:function(){t.events.publish("upload-new-logo")}})],"PostBrandSecondaryLogos"),t.events.publish("hide-no-logos-panel")),t.handleScroll()}return t.setBrandKitLogos=function(e){if(e){a=[],i=[],l=e.belongsToUser;var t=e.primaryLogoPromise,o=e.secondaryLogoPromises;t&&a.push(r(t)),o&&o.length&&o.forEach((function(e){i.push(r(e))})),s()}},t.el.className+=" post-logos-list",t.events.subscribe("shown",s),t}}.apply(t,n))||(e.exports=a)},"4eTD":function(e,t,o){var n,a;n=[o("xeH2"),o("YLtl"),o("2Fsf"),o("W1Jy"),o("KFmL"),o("+VG/"),o("rPfa"),o("bBG2"),o("UzQk"),o("Pbp+"),o("3xm6")],void 0===(a=function(e,t,o,n,a,i,l,r,s,d,c){const u=r.default;return d.init(),function(e){(e=e||{}).layout="rows",e.panels=[{id:"PostSidebarIconActions",size:"175px"},{id:"PostSidebarIconFlip",class:"post-panel-divider-above",size:"95px"},{id:"PostSidebarIconReplace",class:"post-panel-divider-above",size:"auto"}];var r,s=new n(e),p={},h=t.throttle((function(){s.isHidden()||(r.getSelectedForma()?(r.getNumLayers()>1?(p.layerSlider.enable(),function(){p.layerSlider.update({maxValue:r.getNumLayers()-1});var e=r.getLayerSliderValueOfSelectedForma();p.layerSlider.setValue(e)}()):p.layerSlider.disable(),p.opacitySlider.enable(),p.opacitySlider.setValue(r.getOpacitySliderValueOfSelectedForma())):(p.layerSlider.disable(),p.opacitySlider.disable()))}),400);function g(){h()}function b(e){s.events.publish("buttonpress-replace-icon",e),u.publish("editor:icon:replacedPressed")}function m(){r.beginGesture()}function f(){r.endGesture(!0)}function E(e){r.setLayerForSelectedForma(e.value).done()}function S(){u.publish("editor:icon:opacityValueChanged"),r.beginGesture()}function T(){r.endGesture(!0)}function C(e){r.setOpacityForSelectedFormae(e.value).done()}function _(e){var t=r.getSelectedForma();r.flipForma(e,t)}return s.setCoreWrapper=function(e){(r=e).events.subscribe("forma-added",h),r.events.subscribe("formae-deleted",h),r.events.subscribe("forma-selected",h)},function(){s.el.className+=" post-sidebar-icon-tab",p.iconActionsPanel=new o({parent:"PostSidebarIconActions"}),p.opacitySlider=new l({parent:p.iconActionsPanel,id:"PostIconOpacitySlider",onSlide:C,onSlideStart:S,onSlideEnd:T,top:60,left:28,sliderWidth:232,sliderHitBuffer:20,minValue:.05,maxValue:1,roundValues:!1,showValueTooltip:!0,label:"i18n.components.slider.kOpacity",labelClass:"label-above",computeTooltipValue:function(e){return c.translate("components.slider.kValueLabel",{sliderValue:Math.round(100*e)})}}),p.layerSlider=new l({parent:p.iconActionsPanel,id:"PostIconLayerSlider",onSlide:E,onSlideStart:m,onSlideEnd:f,top:123,left:28,sliderWidth:232,minValue:0,maxValue:1,roundValues:!0,label:"i18n.components.slider.kOrder",labelClass:"label-above",showValueTooltip:!0,computeTooltipValue:function(e){return e+1}}),p.iconFlipPanel=new o({parent:"PostSidebarIconFlip",id:"PostIconFlipPanel"}),p.flipButtonContainer=new o({id:"PostFlipContainer",parent:"PostIconFlipPanel",top:15,left:25,height:75,width:150}),p.flipLabel=new o({parent:"PostFlipContainer",id:"PostFlipLabel",tag:"p",top:0,left:0,height:20,width:36,template:"<p>i18n.panels.images.kFlip</p>"}),p.flipHWrapper=new o({id:"PostFlipHWrapper",parent:"PostFlipContainer",top:20,left:0,height:40,width:55}),p.flipHButton=new i({parent:"PostFlipHWrapper",label:"",id:"PostFlipHButton",hoverLabel:"i18n.components.buttons.flipHorizontal.kHoverLabel",height:40,width:55,onClick:function(){_(!1)}}),p.flipVWrapper=new o({id:"PostFlipVWrapper",parent:"PostFlipContainer",top:20,left:64,height:40,width:55}),p.flipVButton=new i({parent:"PostFlipVWrapper",label:"",id:"PostFlipVButton",hoverLabel:"i18n.components.buttons.flipVertical.kHoverLabel",height:40,width:55,onClick:function(){_(!0)}}),p.iconReplacePanel=new o({parent:"PostSidebarIconReplace"}),p.iconButtonWrapper=new o({parent:p.iconReplacePanel,height:"auto",top:0});var e="i18n.components.buttons.kReplaceIcon";d.run("IconShapeExperiment",{shape_for_icon_label:function(t){e="i18n.components.buttons.kReplaceShape"},control:function(e){}}).then((function(t){p.replaceIconButton=new a({parent:p.iconButtonWrapper,label:e,id:"ReplaceIconButton",class:"post-centered-button",onClick:b})})).done(),s.events.subscribe("shown",g)}(),s}}.apply(t,n))||(e.exports=a)},"7VrH":function(e,t,o){var n,a;n=[o("xeH2"),o("YLtl"),o("NgGw"),o("Dfrx")],void 0===(a=function(e,t,o,n){return function(e){var t=new o(e=e||{}),a=t.update,i={};function l(){}return t.setCoreWrapper=function(e){e,i.group.setCoreWrapper(e)},t.update=function(e){a(e=e||{}),e.attributes&&i.group.update(e)},t.el.className+=" post-sidebar-group",i.group=new n({parent:t,hidden:!0,visibilityGroup:"group-sidebar"}),t.registerSidebarTabWithId(i.group,"group"),t.events.subscribe("shown",l),t}}.apply(t,n))||(e.exports=a)},"7len":function(e,t,o){"use strict";o.r(t),o.d(t,"AnimationOptions",(function(){return s}));var n=o("3xm6"),a=o.n(n);function i(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function l(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class s{constructor(){r(this,"MAX_COLOR_VARIANT",5),r(this,"MAX_STYLE_VARIANT",3),r(this,"translatedText",this._getTranslatedText()),r(this,"categoryNone",{categoryName:"",buttonList:[{name:"None",label:this.translatedText.NAME_NO_STYLE,type:"icon-button"}]})}getInitialAnimationOptions(){return[this.categoryNone]}updateAnimationOptions(e){const t=[];let o=!1,n=!1;const a={categoryName:this.translatedText.TEXT_CATEGORY,buttonList:[]},i={categoryName:this.translatedText.PHOTO_CATEGORY,buttonList:[]},l=e.getColorPalette(),r=e.getDisplayableAnimationStyles();for(let t=0;t<r.length;++t){const s=r[t];if(s){let t=null;t="Color"===s.name||"Fill"===s.name?this._buildDropdown(e,{name:s.name,label:this._getAnimationLabel(e,s),colors:l},!0):s.variantCount>1?this._buildDropdown(e,{name:s.name,label:this._getAnimationLabel(e,s),variantCount:s.variantCount},!1):{name:s.name,type:"icon-button",label:this._getAnimationLabel(e,s)},t&&s.textStyle?(o=!0,a.buttonList.push(t)):t&&s.imageStyle?(n=!0,i.buttonList.push(t)):"None"!==s.name&&console.warn("unkown category animation style: "+s.name)}}return t.push(this.categoryNone),o&&t.push(a),n&&t.push(i),t}_buildDropdown(e,t,o=!1){const{name:n,label:i}=t;return{label:i,type:"theo-sidebar-button-dropdown",name:n+"-dropdown",icon:n.toLowerCase(),dropdownLabel:o?a.a.translate("app.animationStyles.kColorDropdownLabel"):"",dropdownList:o?this._getColorsDropdownList(e,t,n):this._getImageDropdownList(t,n)}}_getImageDropdownList(e,t){const{variantCount:o}=e;let n=[],a=0;"Dynamic"===t&&(a=1);for(let e=0;e<Math.min(o,this.MAX_STYLE_VARIANT);++e){const o={type:"image-button",name:`${t}${e+a}`,options:{imageUrl:`/theo-web/images/modules/component/icons/${`${t}${e}`.toLowerCase()}.gif`}};n=[...n,o]}return n}_getColorsDropdownList(e,t,o){const{colors:n}=t;let a=[];for(let t=0;t<Math.min(n.length,this.MAX_COLOR_VARIANT);++t){const i={type:"color-button",name:`${o}${e.getColorAnimationVariant(n[t].color)}`,options:{colorHex:"#"+n[t].color}};a=[...a,i]}return a}_getAnimationLabel(e,t){const o=e.getCoreAnimationStyle();if(o){const e=Object.keys(this.translatedText).filter(e=>t.name===o[e]);return this.translatedText[e]||t.name}return t.name}_buildCategory(){}_getTranslatedText(){return Object.entries({TEXT_CATEGORY:"app.animationStyles.kTextCategoryName",PHOTO_CATEGORY:"app.animationStyles.kPhotoCategoryName",NAME_NO_STYLE:"app.animationStyles.kNoStyle",NAME_TYPE:"app.animationStyles.kTypewriter",NAME_DYNAMIC:"app.animationStyles.kDynamic",NAME_FLICKER:"app.animationStyles.kFlicker",NAME_COLORSWAP:"app.animationStyles.kColorShuffle",NAME_FADE:"app.animationStyles.kFade",NAME_SLIDE:"app.animationStyles.kSlide",NAME_GROW:"app.animationStyles.kGrow",NAME_ZOOM:"app.animationStyles.kZoom",NAME_PAN:"app.animationStyles.kPan",NAME_GRAYSCALE:"app.animationStyles.kGrey",NAME_BLUR:"app.animationStyles.kBlur",NAME_COLOR:"app.animationStyles.kColor",NAME_FILL:"app.animationStyles.kFade"}).reduce((e,[t,o])=>l(l({},e),{},{[t]:a.a.translate(o)}),{})}}t.default=s},"8t++":function(e,t,o){var n,a;n=[o("YLtl"),o("BG/d"),o("2AzE"),o("UzQk"),o("3xm6")],void 0===(a=function(e,t,o,n,a){return function(i){(i=i||{}).sections=[{id:"custom",maxTileWidth:100,tileMargin:40,horizontalPadding:38,verticalPadding:30,label:"i18n.panels.crop.kStandard",labelHeight:37,class:"post-panel-divider-above"},{id:"standard",maxTileWidth:100,tileMargin:40,horizontalPadding:38,verticalPadding:15,label:"i18n.panels.crop.kRatios",labelHeight:37},{id:"shapes",labelHeight:37,maxTileWidth:100,tileMargin:40,horizontalPadding:38,verticalPadding:15,label:"i18n.panels.crop.kShapes"}];const l=new o(i);function r(e){const o=e.aspectRatio||1,n=Math.sqrt(5625/o),i=o*n,l=!!e.reselectable,r=e.label||"",s=r&&"i18n.panels.crop."+a.toLocaleKey(r);let d="";e.secondaryLabel&&(d=`<div class="overlay-label">i18n.panels.crop.${a.toLocaleKey(e.secondaryLabel)}</div>`),"string"!=typeof e.iconId&&(e.iconId="");const c=`<div data-i18n="[aria-label]panels.badges.kNewlabel" class="aspect" style="${`margin-left:-${Math.round(i/2)}px;margin-top:-${Math.round(n/2)}px;width:${Math.round(i)}px;height:${Math.round(n)}px;`}">\n                                <div class="overlay">\n                                  <div class="overlay-aspect-icon crop-icon-${e.iconId.toLowerCase()}"></div>\n                                  ${d}\n                                </div>\n                                <div class="label">${s}</div>\n                            </div>`;return new t({data:e,reselectable:l,group:"crops",class:"",selected:!1,hidden:!0,template:c})}function s(e){const o=`${window.THEO_BUNDLE_PATH}/images/images/shapes/svg/${e.id}.svg`;return e.shapeId=e.id,new t({data:e,reselectable:!1,group:"crops",class:"vector-shape-crops",selected:!1,showShuffleOverlay:!1,shuffleLabel:"i18n.common.kShuffle",hidden:!0,template:`<div class='crop-shape' style='-webkit-mask-image: url(${o});mask-image: url(${o});'></div>`})}return l.selectSection=function(t){e.delay((function(){"crop"===t.section?l.scrollToSection("custom"):"shape"===t.section&&l.scrollToSection("shapes")}),50)},l.updateTiles=function(e){const t=(e=e||{}).forma,o=n.ImageFacade.getMaskForForma(t),a=o&&o.id,i=n.ImageFacade.getCropRatioId(t);let d=i,c=!1;l.setItems([r(n.CropRatioPresetLibrary.FREECROP_PRESET)],"custom");const u=n.CropRatioPresetLibrary.getListOfRatios(),p=n.CropRatioPresetLibrary.ORIGINAL_SIZE_PRESET,h=n.ImageFacade.getImageFormaForForma(t);h&&(p.aspectRatio=h.bounds.aspectRatio);const g=[r(p)];for(let e=0;e<u.length;e++)g.push(r(u[e])),u[e].id===i&&(d=u[e].id,c=!1);l.setItems(g,"standard");const b=n.CropAssetLibrary.getListOfShapes(),m=[];for(let e=0;e<b.length;e++)m.push(s(b[e])),b[e].id===a&&(d=b[e].id,c=!0);return l.setItems(m,"shapes"),null!==d&&l.selectItemWithProperty("id",d,{silent:!0}),l.update(),{selectionId:d,selectedShape:c}},l.$el.addClass("post-crops-list"),l}}.apply(t,n))||(e.exports=a)},Af0U:function(e,t,o){var n,a;n=[o("xeH2"),o("UFvF"),o("YLtl"),o("BG/d"),o("2AzE")],void 0===(a=function(e,t,o,n,a){var i,l,r;return function(s){var d={id:"Suggested",tileAspect:2.5,maxTileWidth:100,columns:2,verticalPadding:30,tileMargin:10,label:"i18n.panels.layout.kSuggested",labelHeight:37},c={id:"Grid",tileAspect:2.5,maxTileWidth:100,columns:2,verticalPadding:30,tileMargin:10,label:"i18n.panels.layout.kGrid",labelHeight:37},u={id:"Simple",tileAspect:2.5,maxTileWidth:300,verticalPadding:30,tileMargin:10,label:"i18n.panels.layout.kSimple",labelHeight:37},p={id:"Banner",tileAspect:2.5,maxTileWidth:100,columns:2,verticalPadding:30,tileMargin:10,label:"i18n.panels.layout.kBanner",labelHeight:37};(s=s||{}).sections=[];var h=new a(s);function g(t,o,a,i){i=i||1;var s=l/r,d=Math.min(l,220/i),c=d/s,u=t.numBackgroundCells>1,p='<div class="aspect" style="left:50%;top:50%;margin-left:-'+Math.round(d/2)+"px;margin-top:-"+Math.round(c/2)+"px;width:"+Math.round(d)+"px;height:"+Math.round(c)+'px;"></div>',h=new n({group:"grids",data:o,selected:a,reselectable:u,showShuffleOverlay:u,shuffleLabel:"i18n.common.kShuffle",hidden:!0,template:p});return h.$el.find(".aspect").prepend(function(t,o,n){var a,i=e('<div class="grid-thumbnail"></div>').css({width:"100%",height:"100%"}),l=t.overlappingCells();return t.gridCells.forEach((function(t){a=e("<div></div>");var r=l.indexOf(t)>-1,s=t.bounds.minY*n,d=t.bounds.minX*o,c=(t.bounds.maxX-t.bounds.minX)*o,u=(t.bounds.maxY-t.bounds.minY)*n;0===t.bounds.minY&&(s+=4,u-=4),1===t.bounds.maxY&&(u-=4),0===t.bounds.minX&&(d+=4,c-=4),1===t.bounds.maxX&&(c-=4),r||(0!==t.bounds.minY&&(s+=2,u-=2),1!==t.bounds.maxY&&(u-=2),0!==t.bounds.minX&&(d+=2,c-=2),1!==t.bounds.maxX&&(c-=2)),a.css({top:s+"px",left:d+"px",width:c+"px",height:u+"px"}).addClass("grid-cell"),r&&a.addClass("foreground-grid-cell"),i.append(a)})),i}(t,d,c)),h}function b(){var e=i.getPageAspectRatio();"original"===e?(r=Math.sqrt(7500),l=4/3*r):(r=Math.sqrt(1e4/e),l=e*r,e>1&&l>220&&(l=220,r=Math.max(44,Math.round(r*(1/e)))),e<1&&r>140&&(r=140,l=Math.max(28,e*r))),h.updateSections({tileHeight:r+20}),h.updateTiles()}function m(e,t){if(h.removeSection(t.id),e.length){h.addSection(o.defaults({},t));for(var n=[],a=0;a<e.length;a++){var i={name:e[a].name,gridStyle:e[a],silent:!0};n.push(g(e[a],i,!1,t.columns))}h.setItems(n,t.id)}}return h.updateTilesAfterImageLoad=function(){if(i){var e=i.hostImages(),n=[];o.each(e,(function(e){e.loaded()||n.push(e.getImageLoadedPromise())})),0===n.count?h.updateTiles():t.all(n).then((function(){h.updateTiles()}))}},h.updateTiles=function(){i&&i.getAllGridStyles().then((function(e){var t=[],o=[],n=[],a=[];e.forEach((function(e){"Suggested"===e.category?o.push(e):"Banner"===e.category||e.overlappingCells().length?n.push(e):"Simple"===e.category?t.push(e):a.push(e)})),m(o,d),m(t,u),m(n,p),m(a,c),h.updateSections({tileHeight:r+20}),h.update()}))},h.selectLayout=function(e){var t=h.getSelected();if(!t||t.item.data.name!==e.name){var o=h.getItemWithProperty("name",e.name);o&&o.item.select({silent:!0})}},h.setCoreWrapper=function(e){i=e,b(),e.events.subscribe("formae-deleted",h.updateTiles),e.events.subscribe("forma-added",h.updateTilesAfterImageLoad),e.events.subscribe("document-size-changed",b)},h.el.className+=" post-grids-list",h}}.apply(t,n))||(e.exports=a)},Dfrx:function(e,t,o){var n,a;n=[o("xeH2"),o("YLtl"),o("2Fsf"),o("W1Jy"),o("KFmL"),o("+VG/"),o("rPfa"),o("8DU0"),o("GSfz"),o("UzQk"),o("3xm6")],void 0===(a=function(e,t,o,n,a,i,l,r,s,d,c){const u=r.default;return function(e){(e=e||{}).layout="rows",e.panels=[{id:"PostSidebarGroupActions",size:"175px"},{id:"PostSidebarUngroup",class:"post-panel-divider-above",size:"95px"}];var a,r=s.keys.POST_SEEN_UNGROUP_MENU,d=new n(e),p={},h=t.throttle((function(){d.isHidden()||(a.getSelectedForma()?(a.getNumLayers()>1?(p.layerSlider.enable(),function(){p.layerSlider.update({maxValue:a.getNumLayers()-1});var e=a.getLayerSliderValueOfSelectedForma();p.layerSlider.setValue(e)}()):p.layerSlider.disable(),p.opacitySlider.enable(),p.opacitySlider.setValue(a.getOpacitySliderValueOfSelectedForma()),p.ungroupButton.enable()):(p.layerSlider.disable(),p.opacitySlider.disable(),p.ungroupButton.disable()))}),400);function g(){h()}function b(){a.beginGesture()}function m(){a.endGesture(!0)}function f(e){a.setLayerForSelectedForma(e.value).done()}function E(){a.beginGesture()}function S(){a.endGesture(!0)}function T(e){a.setOpacityForSelectedFormae(e.value).done()}function C(){u.setSetting(r,!0);const e=a.getAllSelectedFormas();a.ungroupItems(e,!0,"button")}return d.setCoreWrapper=function(e){(a=e).events.subscribe("forma-added",h),a.events.subscribe("formae-deleted",h),a.events.subscribe("forma-selected",h)},d.el.className+=" post-sidebar-group-tab",p.groupActionsPanel=new o({parent:"PostSidebarGroupActions"}),p.opacitySlider=new l({parent:p.groupActionsPanel,id:"PostGroupOpacitySlider",onSlide:T,onSlideStart:E,onSlideEnd:S,top:60,left:28,sliderWidth:232,sliderHitBuffer:20,minValue:.05,maxValue:1,roundValues:!1,showValueTooltip:!0,label:"i18n.components.slider.kOpacity",labelClass:"label-above",computeTooltipValue:function(e){return c.translate("components.slider.kValueLabel",{sliderValue:Math.round(100*e)})}}),p.layerSlider=new l({parent:p.groupActionsPanel,id:"PostGroupLayerSlider",onSlide:f,onSlideStart:b,onSlideEnd:m,top:123,left:28,sliderWidth:232,minValue:0,maxValue:1,roundValues:!0,label:"i18n.components.slider.kOrder",labelClass:"label-above",showValueTooltip:!0,computeTooltipValue:function(e){return e+1}}),p.ungroupPanel=new o({parent:"PostSidebarUngroup",id:"PostUngroupPanel"}),p.ungroupButton=new i({parent:p.ungroupPanel,id:"PostUngroupButton",class:"post-centered-button image-sidebar-button",label:"i18n.components.buttons.kUngroup",height:50,width:145,onClick:C}),d.events.subscribe("shown",g),d}}.apply(t,n))||(e.exports=a)},FIWz:function(e,t,o){var n,a;n=[o("xeH2"),o("YLtl"),o("NgGw"),o("/QpO"),o("I9uX"),o("rOUP")],void 0===(a=function(e,t,o,n,a,i){return function(e){var t=new o(e=e||{}),l={};return t.updateFilters=function(e){(e=e||{}).whilePanelVisibleOnly&&l.looks.isHidden()||l.looks.updateFilters(e)},t.setCoreWrapper=function(e){l.looks.setCoreWrapper(e),l.image.setCoreWrapper(e),l.color.setCoreWrapper(e)},t.update=function(e){l.looks.update(e),l.image.update(e),l.color.update(e)},t.setBrandKitColors=function(e){l.color.setBrandKitColors(e)},t.removeBrandkitSections=function(){l.color.removeBrandkitSections()},t.handleEyeDropperClicked=function(e){l.color.handleEyeDropperClicked(e)},t.handleEyeDropperMoved=function(e,t){l.color.handleEyeDropperMoved(e,t)},t.selectCurrentColor=function(e){l.color.selectCurrentColor(e)},t.el.className+=" post-sidebar-background",l.looks=new i({parent:t,hidden:!0,enablePixiRenderer:e.enablePixiRenderer,visibilityGroup:"background-sidebar",class:"post-panel-scrollable"}),l.image=new a({parent:t,hidden:!0,visibilityGroup:"background-sidebar",enableFlip:e.enableFlip,disableImageFrames:e.disableImageFrames,cutoutEnabled:e.cutoutEnabled}),l.color=new n({parent:t,hidden:!0,colorPicker:e.colorPicker,visibilityGroup:"background-sidebar"}),t.registerSidebarTabWithId(l.looks,"looks"),t.registerSidebarTabWithId(l.image,"image"),t.registerSidebarTabWithId(l.color,"color"),t.republish(l.image.events,"buttonpress-change-photo"),t.republish(l.image.events,"buttonpress-set-foreground"),t.republish(l.image.events,"buttonpress-set-background"),t.republish(l.image.events,"buttonpress-crop"),t.republish(l.image.events,"buttonpress-set-cutout-none"),t.republish(l.image.events,"buttonpress-set-cutout-remove-background"),t.republish(l.looks.events,"filter-selected"),t.republish(l.color.events,"bg-color-selected"),t.republish(l.color.events,"image-forma-replace-with-color"),t.republish(l.color.events,"eyedropper-changed"),t.republish(l.image.events,"hidden","hide-image-picker"),t}}.apply(t,n))||(e.exports=a)},"GN+k":function(e,t,o){var n,a;n=[o("xeH2"),o("YLtl"),o("2Fsf"),o("NgGw"),o("KFmL"),o("+VG/"),o("+Mhg"),o("rPfa"),o("0IaF")],void 0===(a=function(e,t,o,n,a,i,l,r,s){return function(e){(e=e||{}).layout="rows",e.panels=[{id:"PostSidebarLogoActions",size:"24px"},{id:"PostSidebarLogoContent",size:"auto"}];var t=new n(e),r={};function d(){}function c(e){t.events.publish("item-selected",e)}function u(e){t.events.publish("logo-uploaded",e),r.logoLocalInput.clearValue()}function p(){r.logoLocalInput&&r.logoLocalInput.click(),t.events.publish("buttonpress-uploadNewLogo")}function h(){t.hide(),t.events.publish("buttonpress-closeLogoPanel")}function g(){r.logoActionsPanel.hide(),r.listOfLogos.hide()}function b(){r.logoActionsPanel.show(),r.listOfLogos.show()}return t.setCoreWrapper=function(){},t.el.className+=" post-sidebar-logo",r.closeButton=new i({parent:"PostSidebarLogoActions",class:"close-button",id:"LogoActionsCloseLogo",width:24,height:24,onClick:h}),r.logoActionsPanel=new o({parent:"PostSidebarLogoActions"}),r.logoLocalInput=new l({parent:r.sidebarLogo,type:"image",hidden:!0}),r.noLogosActionPanel=new o({parent:t,id:"PostLogoNoLogosPanel",hidden:!0}),r.noLogosActionContent=new o({parent:r.noLogosActionPanel,top:60}),r.noLogoAddLogo=new a({parent:r.noLogosActionContent,id:"PostNoLogosAddLogoButton",label:"i18n.panels.addNewLogo.kAddNewLogo",class:"pill pill-asset",onClick:p}),r.addLogoMessage=new o({parent:r.noLogosActionContent,id:"PostLogoPanelAddLogoMessage",template:"<p>i18n.panels.addNewLogo.kMessage1</p><p>i18n.panels.addNewLogo.kMessage2</p>",top:75,height:100}),r.listOfLogos=new s({parent:"PostSidebarLogoContent"}),t.events.subscribe("shown",d),r.listOfLogos.events.subscribe("item-selected",c),r.listOfLogos.events.subscribe("upload-new-logo",p),r.listOfLogos.events.subscribe("show-no-logos-panel",r.noLogosActionPanel.show),r.listOfLogos.events.subscribe("hide-no-logos-panel",r.noLogosActionPanel.hide),r.noLogosActionPanel.events.subscribe("shown",g),r.noLogosActionPanel.events.subscribe("hidden",b),r.logoLocalInput.events.subscribe("item-selected",u),t}}.apply(t,n))||(e.exports=a)},HPKp:function(e,t,o){var n,a;n=[o("Avqh"),o("2Fsf"),o("W1Jy"),o("KFmL"),o("+VG/"),o("rPfa"),o("Lo4C"),o("8t++"),o("bBG2"),o("UzQk")],void 0===(a=function(e,t,o,n,a,i,l,r,s,d){const c=s.default;return function(n){(n=n||{}).layout="rows",n.panels=[{id:"CropPickerHeader",size:"255px"},{id:"CropPickerCrops",class:"post-panel-divider-above",size:"auto"}];const s=new o(n),u={};let p,h,g,b,m="none",f="none",E=!1,S=!1,T=!1,C=!1,_=!1;function v(e){const t=h.getSelectedForma();h.flipForma(e,t)}function A(e){const t=!(null!==e.aspectRatio)||!h.getSelectedFormaHasShapeMask(),o=h.getSelectedForma().bounds;!o.equal(b)&&t&&(g=o),e.cropToRatioUsingFrameBounds=g,null!=e.aspectRatio?(m=e.id,f="none",s.events.publish("crop-aspect-ratio-selected",e),C||(c.publish("editImage:cropRatioSelected",{contextualData1:"ratioId:"+e.id}),C=!0)):e.shapeId&&(f=e.id,m="none",s.events.publish("crop-shape-selected",e),_||(c.publish("editImage:cropShapeSelected",{contextualData1:"shapeId:"+e.id}),_=!0)),setTimeout((function(){b=h.getSelectedForma().bounds}),100)}function k(){T=!0,p=d.ImageFacade.getImageFormaForForma(h.getSelectedForma()).placement,h.beginGesture()}function P(){S=!0,p=d.ImageFacade.getImageFormaForForma(h.getSelectedForma()).placement,h.beginGesture()}function I(e){h.rotateSelectedForma(e.delta,p).done()}function y(e){h.scaleSelectedForma(e.value,p).done()}function O(){h.endGesture(!0),w()}function w(){let e=h.getSelectedFormaRotation()%360;e>180&&(e=e-180-180);const t=h.getSelectedFormaScale();u.rotationSlider.setValue(e),u.scaleSlider.setValue(t)}function N(){w();const e=h.getSelectedForma();g=e.bounds,b=g,u.listOfCrops.show(!0);const t=u.listOfCrops.updateTiles({forma:e});t.selectedShape?(f=t.selectionId,m="none"):(m=t.selectionId,f="none"),S=!1,T=!1,E=!1}function F(){if(S||T){let e="<>";S&&T?e="<rotate,scale>":T?e="<rotate>":S&&(e="<scale>"),c.publish("editImage:cropImageAdjusted",{contextualData1:"adjustTransforms:"+e})}c.publish("editImage:cropCompleted",{contextualData1:"ratioId:"+m,contextualData2:"shapeId:"+f,contextualData3:"resizeHandleUsed:"+E})}function L(){s.events.publish("close-crop-picker"),s.hide(),u.closeCropTooltip.hide()}return s.recordFormaResize=function(){E=!0},s.setCoreWrapper=function(e){h=e},s.moveToSection=function(e){u.listOfCrops.selectSection(e)},s.el.className+=" post-crop-picker",u.headerLabel=new e({parent:"CropPickerHeader",tag:"h1",template:"i18n.panels.crop.kCrop"}),u.closeButton=new a({id:"PostCloseCropButton",parent:"CropPickerHeader",class:"check-button",width:24,height:24,onClick:L}),u.closeCropTooltip=new l({parent:u.closeButton,message:"i18n.panels.crop.kCloseCropTooltip",hoverLabelPosition:"below"}),u.scaleSlider=new i({parent:"CropPickerHeader",hidden:!1,onSlideStart:P,onSlideEnd:O,onSlide:y,top:100,left:25,sliderWidth:232,sliderHeight:2,handleHeight:16,minValue:.05,maxValue:5,roundValues:!1,label:"i18n.panels.crop.kScaleImage",labelClass:"label-above",showValueTooltip:!0,computeTooltipValue:e=>e.toFixed(2)}),u.rotationSlider=new i({parent:"CropPickerHeader",hidden:!1,onSlide:I,onSlideStart:k,onSlideEnd:O,top:150,left:25,sliderWidth:226,sliderHeight:2,handleHeight:16,minValue:-179,maxValue:180,roundValues:!0,label:"i18n.panels.crop.kRotateImage",labelClass:"label-above",snapToTickEnable:!0,snapTicks:[-179,-135,-90,-45,0,45,90,135,180],snapSensitivity:5,showValueTooltip:!0,computeTooltipValue:e=>Math.round(e)+"&deg"}),u.flipButtonContainer=new t({id:"PostFlipContainer",parent:"CropPickerHeader",top:177,left:25,height:75,width:150}),u.flipLabel=new t({parent:"PostFlipContainer",id:"PostFlipLabel",tag:"p",top:0,left:0,height:20,width:36,template:"i18n.panels.images.kFlip"}),u.flipHWrapper=new t({id:"PostFlipHWrapper",parent:"PostFlipContainer",top:20,left:0,height:40,width:55}),u.flipHButton=new a({parent:"PostFlipHWrapper",label:"",id:"PostFlipHButton",hoverLabel:"i18n.components.buttons.flipHorizontal.kHoverLabel",height:40,width:55,onClick(){v(!1)}}),u.flipVWrapper=new t({id:"PostFlipVWrapper",parent:"PostFlipContainer",top:20,left:64,height:40,width:55}),u.flipVButton=new a({parent:"PostFlipVWrapper",label:"",id:"PostFlipVButton",hoverLabel:"i18n.components.buttons.flipVertical.kHoverLabel",height:40,width:55,onClick(){v(!0)}}),u.listOfCrops=new r({parent:"CropPickerCrops"}),s.events.subscribe("shown",N),s.events.subscribe("hidden",F),u.listOfCrops.events.subscribe("item-selected",A),s}}.apply(t,n))||(e.exports=a)},I9uX:function(e,t,o){var n,a;n=[o("xeH2"),o("YLtl"),o("2Fsf"),o("W1Jy"),o("KFmL"),o("+VG/"),o("rPfa"),o("GSfz"),o("UzQk"),o("3xm6"),o("bBG2")],void 0===(a=function(e,t,o,n,a,i,l,r,s,d,c){const u=c.default;return function(e){(e=e||{}).layout="rows";e.panels=[{id:"PostSidebarPhotoActions",size:"350px"},{id:"PostSidebarPhotoReplace",class:"post-panel-divider-above",size:"auto"}],e.cutoutEnabled&&e.panels.splice(1,0,{id:"PostSidebarCutoutModes",class:"post-panel-divider-above",size:"83px"});var t,a,r,c=new n(e),p={},h=e.disableImageFrames||!1;function g(){c.updateForCurrentSelection()}function b(){var e=t.getSelectedFormaRotation()%360;e>180&&(e=e-180-180);var o=t.getSelectedFormaScale();p.rotationSlider.setValue(e),p.scaleSlider.setValue(o)}function m(e){if(e.isBackgroundImage()){p.scaleSlider.show(),p.rotationSlider.show(),p.opacitySlider.hide(),p.layerSlider.hide();var o=t.getSelectedFormaScaleRange(),n=o.min,a=o.max;p.scaleSlider.update({minValue:n,maxValue:a}),b(),r=t.getSelectedFormaPlacement()}else p.opacitySlider.show(),p.layerSlider.show(),p.scaleSlider.hide(),p.rotationSlider.hide(),t.getNumLayers()>1?(p.layerSlider.enable(),function(){p.layerSlider.update({maxValue:t.getNumLayers()-1});var e=t.getLayerSliderValueOfSelectedForma();p.layerSlider.setValue(e)}()):p.layerSlider.disable(),i=t.getOpacitySliderValueOfSelectedForma(),p.opacitySlider.setValue(i);var i}function f(e){t.rotateSelectedForma(e.delta,r.placement).done()}function E(e){t.scaleSelectedForma(e.value,r.placement).done()}function S(){u.publish("editor:image:backgroundScaleValueChanged"),a=t.getSelectedForma(),t.beginGesture(),r.id!=t.getSelectedFormaPlacement().id&&m(a)}function T(){u.publish("editor:image:backgroundRotateValueChanged"),a=t.getSelectedForma(),t.beginGesture()}function C(){t.endGesture(!0),b()}function _(){t.beginGesture()}function v(){t.endGesture(!0)}function A(e){t.setOpacityForSelectedFormae(e.value).done()}function k(){t.beginGesture()}function P(){t.endGesture(!0)}function I(e){t.setLayerForSelectedForma(e.value).done()}function y(e){var o=t.getSelectedForma();t.flipForma(e,o),e?u.publish("editor:image:verticalFlipPressed"):u.publish("editor:image:horizontalFlipPressed")}return c.updateForCurrentSelection=function(){if(c.isHidden())return;var o=t.getSelectedForma();if(!o||!o.isImage()&&!o.isShape())return;var n=t.allowSetForeground(o),a=o.controller.userGroupMember,i=e.cutoutEnabled&&s.ImageFacade.canApplyCutout(o);if(e.cutoutEnabled&&p.cutoutBetaTooltip.show(!1),o.isImage()&&(m(o),p.setBackgroundButton.show(!n&&!a&&!o.isSticker()),p.setForegroundButton.show(n&&!a),p.cropButtonContainer.show(t.allowCrop(o)),e.cutoutEnabled)){var l=s.ImageFacade.getCutoutModeForForma(o);p.setCutoutNoneButton.show(i&&!(l===s.CutoutMode.Off)),p.setCutoutRemoveBackgroundButton.show(i&&!(l===s.CutoutMode.BackgroundRemoval)),p.cutoutBetaTooltip.show(i)}var r=t.backgroundImageFormas().length>0,d=r?"i18n.components.buttons.addToCollage.kButtonLabel":"i18n.components.buttons.setBackground.kButtonLabel",u=r?150:190;r?p.setBackgroundButton.$el.addClass("add-to-collage ").removeClass("pin-to-background"):p.setBackgroundButton.$el.addClass("pin-to-background").removeClass("add-to-collage "),p.setBackgroundButton.update({label:d,width:u}),h&&(p.setBackgroundButton.show(!1),p.setForegroundButton.show(!1),p.cropButtonContainer.show(!1));const g=[{id:"PostSidebarPhotoActions",size:(n?280:350)+"px"}];i&&g.push({id:"PostSidebarCutoutModes",size:"83px"}),c.update({panels:g})},c.setCoreWrapper=function(e){(t=e).events.subscribe("forma-added",c.updateForCurrentSelection),t.events.subscribe("formae-deleted",c.updateForCurrentSelection),t.events.subscribe("forma-selected",c.updateForCurrentSelection)},c.el.className+=" post-sidebar-photo",p.scaleSlider=new l({parent:"PostSidebarPhotoActions",hidden:!1,onSlide:E,onSlideStart:S,onSlideEnd:C,top:55,left:25,sliderWidth:226,sliderHeight:2,handleHeight:16,minValue:0,maxValue:1,roundValues:!1,label:"i18n.components.slider.kScale",labelClass:"label-above"}),p.rotationSlider=new l({parent:"PostSidebarPhotoActions",hidden:!1,onSlide:f,onSlideStart:T,onSlideEnd:C,top:107,left:25,sliderWidth:226,sliderHeight:2,handleHeight:16,minValue:-179,maxValue:180,roundValues:!0,label:"i18n.components.slider.kRotate",labelClass:"label-above",snapToTickEnable:!0,snapTicks:[-179,-135,-90,-45,0,45,90,135,180],snapSensitivity:5,showValueTooltip:!0,computeTooltipValue:e=>Math.round(e)+"&deg"}),p.opacitySlider=new l({parent:"PostSidebarPhotoActions",hidden:!0,onSlide:A,onSlideStart:_,onSlideEnd:v,top:55,left:25,sliderWidth:232,sliderHeight:2,handleHeight:16,minValue:.05,maxValue:1,roundValues:!1,label:"i18n.components.slider.kOpacity",labelClass:"label-above",showValueTooltip:!0,computeTooltipValue:function(e){return d.translate("components.slider.kValueLabel",{sliderValue:Math.round(100*e)})}}),p.layerSlider=new l({parent:"PostSidebarPhotoActions",hidden:!0,onSlide:I,onSlideStart:k,onSlideEnd:P,top:107,left:25,sliderWidth:232,sliderHeight:2,handleHeight:16,minValue:0,maxValue:1,roundValues:!0,label:"i18n.components.slider.kOrder",labelClass:"label-above",showValueTooltip:!0,computeTooltipValue:e=>e+1}),p.flipButtonContainer=new o({id:"PostFlipContainer",parent:"PostSidebarPhotoActions",top:137,left:25,height:75,width:150}),p.flipLabel=new o({parent:"PostFlipContainer",id:"PostFlipLabel",tag:"p",top:0,left:0,height:20,width:36,template:"i18n.panels.images.kFlip"}),p.flipHWrapper=new o({id:"PostFlipHWrapper",parent:"PostFlipContainer",top:20,left:0,height:40,width:55}),p.flipHButton=new i({parent:"PostFlipHWrapper",label:"",id:"PostFlipHButton",hoverLabel:"i18n.components.buttons.flipHorizontal.kHoverLabel",height:40,width:55,onClick:function(){y(!1)}}),p.flipVWrapper=new o({id:"PostFlipVWrapper",parent:"PostFlipContainer",top:20,left:64,height:40,width:55}),p.flipVButton=new i({parent:"PostFlipVWrapper",label:"",id:"PostFlipVButton",hoverLabel:"i18n.components.buttons.flipVertical.kHoverLabel",height:40,width:55,onClick:function(){y(!0)}}),p.cropButtonContainer=new o({id:"PostCropContainer",parent:"PostSidebarPhotoActions",top:210,left:25,height:75,width:150}),p.cropLabel=new o({parent:"PostCropContainer",id:"PostCropLabel",tag:"p",top:0,left:0,height:20,width:36,template:"i18n.components.buttons.kCrop"}),p.cropShapeLabel=new o({parent:"PostCropContainer",id:"PostCropLabel",tag:"p",top:0,left:60,height:20,width:60,template:"i18n.components.buttons.kShapeCrop"}),p.cropWrapper=new o({id:"PostCropWrapper",parent:"PostCropContainer",top:20,left:0,height:40,width:55}),p.cropButton=new i({parent:"PostCropWrapper",label:"",id:"PostCropButton",height:40,width:55,onClick:function(){c.events.publish("buttonpress-crop",{section:"crop"})}}),p.cropShapeWrapper=new o({id:"PostCropShapeWrapper",parent:"PostCropContainer",top:20,left:64,height:40,width:55}),p.cropShapeButton=new i({parent:"PostCropShapeWrapper",label:"",id:"PostCropShapeButton",height:40,width:55,onClick:function(){c.events.publish("buttonpress-crop",{section:"shape"})}}),p.cropShapeLabel=new o({parent:"PostCropContainer",id:"PostCropLabel",tag:"p",top:0,left:60,height:20,width:60,template:"i18n.components.buttons.kShapeCrop"}),p.setBackgroundButton=new i({parent:"PostSidebarPhotoActions",id:"PostSidebarSetBackgroundButton",class:"post-centered-button image-sidebar-button pin-to-background",label:"i18n.components.buttons.setBackground.kButtonLabel",height:50,width:190,onClick:function(){c.events.publish("buttonpress-set-background")}}),p.setForegroundButton=new i({parent:"PostSidebarPhotoActions",id:"PostSidebarSetForegroundButton",class:"post-centered-button image-sidebar-button",label:"i18n.components.buttons.setForeground.kButtonLabel",height:50,width:148,onClick:function(){c.events.publish("buttonpress-set-foreground")}}),e.cutoutEnabled&&(p.setCutoutNoneButton=new i({parent:"PostSidebarCutoutModes",id:"PostSidebarSetCutoutNoneButton",class:"post-centered-button image-sidebar-button",label:"i18n.components.buttons.setCutoutNone.kButtonLabel",height:50,width:200,onClick:function(){c.events.publish("buttonpress-set-cutout-none")}}),p.setCutoutRemoveBackgroundButton=new i({parent:"PostSidebarCutoutModes",id:"PostSidebarSetCutoutRemoveBackgroundButton",class:"post-centered-button image-sidebar-button",label:"i18n.components.buttons.setCutoutRemoveBackground.kButtonLabel",height:50,width:220,onClick:function(){c.events.publish("buttonpress-set-cutout-remove-background")}}),p.cutoutBetaTooltip=new o({parent:"PostSidebarCutoutModes",id:"PostBetaBadge",top:10,left:215,height:20,width:"auto",tag:"p",template:"i18n.panels.badges.kBetaLabel"})),p.replaceButton=new i({parent:"PostSidebarPhotoReplace",id:"PostSidebarReplaceButton",class:"post-centered-button image-sidebar-button",label:"i18n.components.buttons.kReplace",height:50,width:148,onClick:function(){c.events.publish("buttonpress-change-photo")}}),c.events.subscribe("shown",g),c}}.apply(t,n))||(e.exports=a)},QuSD:function(e,t,o){var n,a;n=[o("xeH2"),o("YLtl"),o("UFvF"),o("BG/d"),o("2AzE"),o("HTdw"),o("UzQk"),o("wHG3"),o("yBTN")],void 0===(a=function(e,t,o,n,a,i,l,r,s){const{PixiJSApp:d,PixiJSRenderer:c}=r,{RawEncoding:u,TargetRenderParameters:p,TargetTransformTypeEnum:h}=d,g=s.default;var b={None:"i18n.common.kNone",Greyscale:"i18n.panels.images.kGrayscale",Darken:"i18n.panels.images.kDarken",Overlay:"i18n.panels.images.kContrast",Blend:"i18n.panels.images.kMatte",Multiply:"i18n.panels.images.kMultiply",DuoTone:"i18n.panels.images.kColorize",Screen:"i18n.panels.images.kLighten"};return function(r){(r=r||{}).sections=[{id:"filters",tileAspect:1,maxTileWidth:100,verticalPadding:30,topPadding:30,bottomPadding:50,tileMargin:30,verticalTileMargin:48,label:"i18n.panels.images.kFilters",labelHeight:42}];const s=new a(r),d=s.update,m={};let f,E,S,T,C="",_=!0,v=null,A=null;const k=t.debounce((function(){if(!f)return;const e=f.placement,{width:t,height:n}=P(E&&E.bounds||S),a=[f.colorThemeKey,f.url,f.styleFilter.name,f.styleFilter.adjustments.asString,e.a,e.b,e.c,e.d,e.tx,e.ty,f.width,f.height,S.width,S.height].join(":");if(C!==a){C=a;const e=f.styleFilter.detachFromDatabase();let i=0;const l=s.getItems();let r=o();for(let o=0;o<l.length;o++){const a=l[o];let s=a.data;s.name===e.name?(i=o,e.colorLibrary=f.forma.page.colorLibrary,s=e,a.data=e):s.adjustments=e.adjustments,a.$el.find(".filter-canvas").css({height:Math.round(n)+"px",width:Math.round(t)+"px",marginLeft:-Math.round((t-96)/2)+"px",marginTop:-Math.round((n-96)/2)+"px"}),r=r.then(y(a))}r.done(),s.selectIndex(i,{silent:!0})}}),300);function P(e){return{width:Math.round(96*e.width/Math.min(e.width,e.height)),height:Math.round(96*e.height/Math.min(e.width,e.height))}}function I(){k()}function y(e){if(!A)return log.error("trying to render a tile before core wrapper has been established"),o.resolve();const t=e.$el.find("canvas")[0],n=E.page.document.beginTransaction("apply_styles_for_filter_thumbnails");E.childAt(0).applyStyle(e.data);const a=E.getGraph(l.PGMExportSettings.STATIC),{width:i,height:r}=P(E.bounds);return n.rollback(),A.render(a,new p(h.FillCentered,i,r,u.AsUint8Array())).then(e=>{t.width=e.width,t.height=e.height;const o=t.getContext("2d"),n=o.createImageData(e.width,e.height);n.data.set(e.data),o.putImageData(n,0,0)})}function O(e){t.delay((function(){if(f)for(var e=f.styleFilter.detachFromDatabase(),t=s.getItems(),o=0;o<t.length;o++){var n=t[o];if(n.data.name===e.name){e.colorLibrary=f.forma.page.colorLibrary,n.data=e;const t=y(n);"function"==typeof t&&t()}}}),100)}function w(e){s.events.publish("filter-checkbox-changed",e.target.checked),s.deselectSelected()}return s.update=function(t){d(t);var o=!1;if(void 0!==(t=t||{}).documentSize&&(S=t.documentSize,s.update({items:T})),t.core&&(v=new c,A=v.imageService.createQueue(new g(t.core))),void 0!==t.forma&&(E=t.forma,o=!0),void 0!==t.items&&(void 0===T||!function(e,t){if(!e||!t)return!1;if(e.length!==t.length)return!1;for(var o=0;o<e.length;o++){var n=e[o],a=t[o];if(n.name!==a.name)return!1}return!0}(t.items,T))){var a=[];if(!0===t.disabled){for(var i in b){var l=new n({group:"filters",data:{},selected:!1,reselectable:!1,hidden:!0});l.$el.append('<div class="frame disabled"></div><div class="overlay"></div><div class="label disabled">'+b[i]+"</div>"),a.push(l)}_=!0}else{f&&(_=!1),T=t.items;const{width:o,height:i}=P(E&&E.bounds||S);for(var r=0;r<t.items.length;r++){var u=t.items[r],p=-1===e.inArray(u.name,["None","Greyscale"]),h=new n({group:"filters",class:"outline-selection",data:u,selected:!1,reselectable:p,showShuffleOverlay:p,shuffleLabel:"i18n.common.kShuffle",hidden:!0}),m=b[u.name]||u.name;h.$el.append(`<div class="frame"></div><div class="label">${m}</div>`);var I=e(`<div class="filter-wrapper"><div class="filter-canvas" style="height:${i}px;width:${o}px;margin-left:${-Math.round((o-96)/2)}px;margin-top:${-Math.round((i-96)/2)}px;"><canvas></canvas></div></div>`);h.$el.append(I),a.push(h)}}s.setItems(a),C=""}if(void 0!==t.styleFilters)for(var y=s.getItems(),O=y.length-1;O>=0;O--){var w=t.styleFilters[O];w&&(y[O].data=w)}void 0!==t.image&&(f=t.image,o=!0),o&&!1===s.isHidden()&&k()},s.isDisabled=function(){return _},s.showCheckBox=function(){s.update({sections:[{id:"filters",topPadding:45}]}),m.applyAllCheckbox.show()},s.hideCheckBox=function(){s.update({sections:[{id:"filters",topPadding:25}]}),m.applyAllCheckbox.hide()},s.el.className+=" post-filters-list",s.events.subscribe("shown",I),s.events.subscribe("item-selected",O),m.applyAllCheckbox=new i({parent:s,id:"applyToAllPhotosCheckbox",label:"i18n.panels.images.kApplyFilterToAllImage",left:24,top:59,handleChange:w,hidden:!0}),s}}.apply(t,n))||(e.exports=a)},Qzxj:function(e,t,o){var n,a;n=[o("xeH2"),o("YLtl"),o("2Fsf"),o("rPfa"),o("6G8C")],void 0===(a=function(e,t,o,n,a){return function(e){var n,i,l=new o(e=e||{}),r=[],s={},d=t.throttle((function(e){if(!l.isHidden()&&n){e=e||{};var o=n.getSelectedForma();e.doFade?(s.listOfIconColors.$el.addClass("fade-out"),t.delay((function(){p(o,e),s.listOfIconColors.$el.removeClass("fade-out")}),100)):p(o,e),s.listOfIconColors.update()}}),400);function c(){var e=n.getSelectedForma();e&&n.isIcon(e)&&(i=e.formaID,d({doFade:!1,updateSelection:!0}),r.push(n.events.subscribe("forma-selected",(function(e){var t;e.forma&&(e.forma.formaID!==i?(t=e.forma.formaID,i=t,d({doFade:!0,updateSelection:!1}),s.listOfIconColors.closeColorPicker()):(h(e.forma,{updateSelection:!1}),s.listOfIconColors.update()))}))))}function u(){!function(){for(var e=0;e<r.length;e++)r[e].remove();r=[]}()}function p(e,o){if(!l.isHidden()&&e){h(e,o);var n=e.controller.getSuggestableColors(),a=t.map(n,(function(e){return[{red:255*e[0].rgbColor.red,green:255*e[0].rgbColor.green,blue:255*e[0].rgbColor.blue,roles:e[0].sparkRoles,id:e[0].sparkElementID}]}));s.listOfIconColors.setSuggestedColors(a),s.listOfIconColors.setDefaultColors(),s.listOfIconColors.update()}}function h(e,t){if(n&&(e=e||n.getSelectedForma())){var o=[],a=n.getShapeFormaTheoColor(e);a&&o.push({red:255*a.rgbColor.red,green:255*a.rgbColor.green,blue:255*a.rgbColor.blue,roles:a.sparkRoles,id:a.sparkElementID}),s.listOfIconColors.setCurrentColors(o,t)}}function g(e,t){l.events.publish("icon-color-selected",e,t)}return l.setCoreWrapper=function(e){n=e},l.setBrandKitColors=function(e){s.listOfIconColors.setBrandKitColors(e)},l.removeBrandkitSections=function(){s.listOfIconColors.removeBrandkitSections()},l.handleEyeDropperClicked=function(e){s.listOfIconColors.handleEyeDropperClicked(e)},l.handleEyeDropperMoved=function(e,t){s.listOfIconColors.handleEyeDropperMoved(e,t)},l.selectCurrentColor=function(e){s.listOfIconColors.selectCurrentColor(e)},l.el.className+=" post-sidebar-icon-color",s.listOfIconColors=new a({elementClassName:"post-icon-colors-list",parent:l,hidden:!1,top:0,bottom:0,colorPicker:e.colorPicker}),l.events.subscribe("shown",c),l.events.subscribe("hidden",u),s.listOfIconColors.events.subscribe("item-selected",g),s.listOfIconColors.events.subscribe("update-color",g),l.republish(s.listOfIconColors.events,"eyedropper-changed"),l}}.apply(t,n))||(e.exports=a)},R81C:function(e,t,o){var n,a;n=[o("xeH2"),o("YLtl"),o("BG/d"),o("2AzE")],void 0===(a=function(e,t,o,n){return function(t){(t=t||{}).sections=[{id:"default",tileAspect:230/90,maxTileWidth:230,horizontalPadding:25,verticalPadding:25,tileMargin:14,label:"i18n.panels.badges.kFromTemplate",labelHeight:37}];var a=new n(t);return a.populate=function(){const n=[],i=t.advancedTextLayoutAllEnabled;e.get("/api/post/v1/badges").done((function(t){t.items.forEach((function(t,a){const l=t.hasOwnProperty("advancedOnly");i===l&&n.push(function(t,n){var a,i,l,r=new o({class:t.premium?"outline-selection premium":"outline-selection",data:(a={imgUrl:t.thumbnail,manifestUrl:t.manifestUrl,assetId:t.assetId,premium:t.premium,index:n},l={},l.imgUrl=a.imgUrl,l.assetId=a.assetId,l.premium=a.premium,l.index=a.index,l.manifestPromise=function(){return i||(i=Q.defer(),e.get(a.manifestUrl,(function(e){i.resolve(e)})).fail((function(e,t,o){i.reject({url:a.manifestUrl,jqXHR:e,textStatus:t,errorThrown:o})}))),i.promise},l),hidden:!0});return r.hasImageBeenSet=!1,r.events.subscribe("shown",(function(){if(!1===r.hasImageBeenSet){r.hasImageBeenSet=!0;var e=t.width/t.height,o=Math.min(230,Math.sqrt(52900*e)),n=o/e;n>90&&(o=(n=90)*e);var a=new Image,i=window.devicePixelRatio>=2?460:230;a.src=`${t.thumbnail}/format/jpg/dimension/width/size/${i}`,r.$el.append(a),r.$el.css({width:Math.round(o)+"px",height:Math.round(n)+"px","margin-left":Math.round((230-o)/2)+"px","margin-top":Math.round((90-n)/2)+"px"}),r.data.premium&&(r.data.getRendition=function(o){var n,i=o.maxWidth,l=o&&o.format||"jpg",r=e||230/90;(n=i/r)>o.maxHeight&&(i=(n=o.maxHeight)*r);var s=i;return window.devicePixelRatio>=2&&(s*=2),{preloadedUrl:a.src,url:`${t.thumbnail}/format/${l}/dimension/width/size/${s}`,width:i,height:n}})}})),r}(t,a))})),a.setItems(n,"default")}))},a.getMerchAnchor=function(e){const t=a.getSectionById("default");if(t){const{item:o}=t.getItemWithProperty("index",e);if(o){const n=1,a=1,i=t.getFirstVisibleIndex(90,a)+n,l=t.getLastVisibleIndex(90,a)-n-i+1,r=e-i<Math.floor(.5*l)?"right":"top";return{element:o.$el,position:r}}}},a.el.className+=" post-badge-list post-panel-divider-above",a.populate(),a}}.apply(t,n))||(e.exports=a)},RvTP:function(e,t,o){"use strict";o.r(t),o.d(t,"bindEvents",(function(){return S})),o.d(t,"unbindEvents",(function(){return E}));var n=o("UzQk"),a=o("bBG2"),i=o("3xm6"),l=o.n(i),r=o("MGCh"),s=o.n(r),d=o("f5T3");const c=s.a.channel("ui");var u;!function(e){e.THEO_RANGE_INPUT_BEGIN_GESTURE="THEO_RANGE_INPUT_BEGIN_GESTURE",e.THEO_RANGE_INPUT_END_GESTURE="THEO_RANGE_INPUT_END_GESTURE",e.setOpacity="set-opacity",e.showColorPicker="show-color-picker",e.deselect="deselect",e.THEO_IMAGE_ENHANCEMENTS_EVENT="THEO_IMAGE_ENHANCEMENTS_EVENT",e.THEO_IMAGE_ENHANCEMENTS_CONTRAST_EVENT="THEO_IMAGE_ENHANCEMENTS_CONTRAST_EVENT",e.THEO_IMAGE_ENHANCEMENTS_BRIGHTNESS_EVENT="THEO_IMAGE_ENHANCEMENTS_BRIGHTNESS_EVENT",e.THEO_IMAGE_ENHANCEMENTS_SATURATION_EVENT="THEO_IMAGE_ENHANCEMENTS_SATURATION_EVENT",e.THEO_IMAGE_ENHANCEMENTS_HIGHLIGHT_EVENT="THEO_IMAGE_ENHANCEMENTS_HIGHLIGHT_EVENT",e.THEO_IMAGE_ENHANCEMENTS_SHADOW_EVENT="THEO_IMAGE_ENHANCEMENTS_SHADOW_EVENT",e.THEO_IMAGE_ENHANCEMENTS_WARMTH_EVENT="THEO_IMAGE_ENHANCEMENTS_WARMTH_EVENT",e.THEO_IMAGE_ENHANCEMENTS_SHARPEN_EVENT="THEO_IMAGE_ENHANCEMENTS_SHARPEN_EVENT",e.THEO_IMAGE_ENHANCEMENTS_BLUR_EVENT="THEO_IMAGE_ENHANCEMENTS_BLUR_EVENT",e.THEO_IMAGE_TOGGLE_BLUR_EVENT="THEO_IMAGE_TOGGLE_BLUR_EVENT",e.THEO_IMAGE_ENHANCEMENTS_RESET_EVENT="THEO_IMAGE_ENHANCEMENTS_RESET_EVENT",e.IMAGE_SET_FILTER="IMAGE_SET_FILTER",e.IMAGE_ADD_TO_BACKGROUND_LAYER="IMAGE_ADD_TO_BACKGROUND_LAYER",e.IMAGE_REMOVE_FROM_BACKGROUND_LAYER="IMAGE_REMOVE_FROM_BACKGROUND_LAYER",e.IMAGE_REPLACE="IMAGE_REPLACE",e.IMAGE_FLIP_HORIZONTAL="IMAGE_FLIP_HORIZONTAL",e.IMAGE_FLIP_VERTICAL="IMAGE_FLIP_VERTICAL",e.IMAGE_ACTIVATE_CROP="IMAGE_ACTIVATE_CROP",e.IMAGE_RESTORE_BACKGROUND="IMAGE_RESTORE_BACKGROUND",e.IMAGE_REMOVE_BACKGROUND="IMAGE_REMOVE_BACKGROUND",e.IMAGE_SET_SCALE="IMAGE_SET_SCALE",e.IMAGE_SET_ROTATION="IMAGE_SET_ROTATION",e.IMAGE_SET_OPACITY="IMAGE_SET_OPACITY",e.CLOSE_IMAGE_PANEL="CLOSE_IMAGE_PANEL",e.CROP_MODE_CANCEL="CROP_MODE_CANCEL",e.CROP_MODE_DONE="CROP_MODE_DONE",e.IMAGE_SET_CROP_SCALE="IMAGE_SET_CROP_SCALE",e.IMAGE_SET_CROP_ROTATION="IMAGE_SET_CROP_ROTATION",e.IMAGE_FLIP_CROP_HORIZONTAL="IMAGE_FLIP_CROP_HORIZONTAL",e.IMAGE_FLIP_CROP_VERTICAL="IMAGE_FLIP_CROP_VERTICAL",e.CROP_ITEM_SELECTED="CROP_ITEM_SELECTED",e.IMAGE_ADD_COLOR="IMAGE_ADD_COLOR",e.IMAGE_REMOVE_COLOR="IMAGE_REMOVE_COLOR",e.setTextMultiStyle="set-text-multi-style",e.setTextAlignment="set-text-alignment",e.showFontPicker="show-font-picker",e.setFontSize="set-font-size",e.editTextColor="edit-text-color",e.THEO_TEXT_EFFECTS_OUTLINE_EVENT="THEO_TEXT_EFFECTS_OUTLINE_EVENT",e.THEO_TEXT_EFFECTS_OUTLINE_ONLY_EVENT="THEO_TEXT_EFFECTS_OUTLINE_ONLY_EVENT",e.THEO_TEXT_EFFECTS_OUTLINE_THICKNESS_INPUT_EVENT="THEO_TEXT_EFFECTS_OUTLINE_THICKNESS_INPUT_EVENT",e.THEO_TEXT_EFFECTS_SHADOW_EVENT="THEO_TEXT_EFFECTS_SHADOW_EVENT",e.THEO_TEXT_EFFECTS_SHADOW_DISTANCE_INPUT_EVENT="THEO_TEXT_EFFECTS_SHADOW_DISTANCE_INPUT_EVENT",e.THEO_TEXT_EFFECTS_SHADOW_DIRECTION_INPUT_EVENT="THEO_TEXT_EFFECTS_SHADOW_DIRECTION_INPUT_EVENT",e.THEO_TEXT_EFFECTS_SHAPE_EVENT="THEO_TEXT_EFFECTS_SHAPE_EVENT",e.THEO_TEXT_EFFECTS_SHAPE_MASK_TEXT_EVENT="THEO_TEXT_EFFECTS_SHAPE_MASK_TEXT_EVENT",e.THEO_TEXT_EFFECTS_SHAPE_PADDING_INPUT_EVENT="THEO_TEXT_EFFECTS_SHAPE_PADDING_INPUT_EVENT",e.THEO_PANEL_TITLE_ANNOTATION_CLICK="THEO_PANEL_TITLE_ANNOTATION_CLICK",e.CLOSE_TEXT_PANEL_EVENT="CLOSE_TEXT_PANEL",e.TEXT_SET_LINE_HEIGHT="TEXT_SET_LINE_HEIGHT",e.TEXT_SET_LETTER_SPACING="TEXT_SET_LETTER_SPACING",e.THEO_TEXT_STYLES_EVENT="THEO_TEXT_SUGGESTIONS_NEXT_STYLE",e.SHAPES_SELECTION_EVENT="SHAPES_SELECTION_EVENT",e.showImagePicker="show-image-picker",e.ungroup="ungroup",e.showIconPicker="show-icon-picker",e.flipVertical="flip-vertical",e.flipHorizontal="flip-horizontal",e.addLogoToCanvas="add-logo-to-canvas",e.addLogoToPanel="add-logo-to-panel",e.setAlignment="set-alignment",e.group="group"}(u||(u={}));const p={ratioID:null,shapeID:null,rotate:!1,scale:!1,horizontalFlip:!1,verticalFlip:!1},h={0:"left",1:"centerX",2:"right",3:"top",4:"centerY",5:"bottom"},g={none:"None",grayscale:"Greyscale",darken:"Darken",contrast:"Overlay",matte:"Blend",multiply:"Multiply",colorize:"DuoTone",lighten:"Screen"};let b=[],m=!1,f=!1;function E(e){b.forEach(t=>{e.removeEventListener(t.event,t.method)}),b=[]}function S(e,t,o){Object.values(u).forEach(i=>{const r={event:i,method(e){!function(e,t,o){var i,r;const s=e,b=(null==s?void 0:s.type)||e.type,E=null==s?void 0:s.detail,S=t.getSelectedFormaType();switch(b){case u.THEO_RANGE_INPUT_BEGIN_GESTURE:t.beginGesture(),m=!1,f=!0;break;case u.THEO_RANGE_INPUT_END_GESTURE:f&&t.endGesture(!0),m=!1,f=!1;break;case u.setOpacity:if(!m){switch(S){case"multiselect":case"group":a.default.publish("editor:group:opacityValueChanged");break;case"logo":a.default.publish("editor:logo:opacityValueChanged");break;case"text":a.default.publish("editor:text:opacityValueChanged");break;case"icon":a.default.publish("editor:icon:opacityValueChanged")}m=!0}t.setOpacityValueOfSelectedFormaAsScalar(E.value).done();break;case u.showColorPicker:switch(S){case"logo":a.default.publish("editor:logo:colorSelected");break;case"icon":a.default.publish("editor:icon:colorSelected");break;case"cell":a.default.publish("editor:solidBackgroundColorSelected")}case u.editTextColor:let e;"text"===E.colorToEdit?(e=l.a.translate("colors.kTextColor"),a.default.publish("editor:text:colorSelected")):"effects"===E.colorToEdit&&(e=l.a.translate("colors.kEffectColor"));const s={label:e,color:E.color,anchor:E.anchor,colorToEdit:E.colorToEdit};o.showColorPicker(s);break;case u.deselect:t.deselect();break;case u.THEO_IMAGE_ENHANCEMENTS_EVENT:if(!E.value){a.default.publish("editor:image:enhancementsDisabled"),t.resetImageAdjustments({contrast:0,brightness:0,saturation:0,highlights:0,shadows:0,warmth:0,sharpness:0}).done();break}a.default.publish("editor:image:enhancementsEnabled");break;case u.THEO_IMAGE_ENHANCEMENTS_CONTRAST_EVENT:m||(a.default.publish("editor:image:enhancementsContrastValueChanged"),m=!0),t.setSelectedFormaImageAdjustmentAsScalar("contrast",parseFloat(E.value)).done();break;case u.THEO_IMAGE_ENHANCEMENTS_BRIGHTNESS_EVENT:m||(a.default.publish("editor:image:enhancementsBrightnessValueChanged"),m=!0),t.setSelectedFormaImageAdjustmentAsScalar("brightness",parseFloat(E.value)).done();break;case u.THEO_IMAGE_ENHANCEMENTS_SATURATION_EVENT:m||(a.default.publish("editor:image:enhancementsSaturationValueChanged"),m=!0),t.setSelectedFormaImageAdjustmentAsScalar("saturation",parseFloat(E.value)).done();break;case u.THEO_IMAGE_ENHANCEMENTS_HIGHLIGHT_EVENT:m||(a.default.publish("editor:image:enhancementsHighlightValueChanged"),m=!0),t.setSelectedFormaImageAdjustmentAsScalar("highlights",parseFloat(E.value)).done();break;case u.THEO_IMAGE_ENHANCEMENTS_SHADOW_EVENT:m||(a.default.publish("editor:image:enhancementsShadowValueChanged"),m=!0),t.setSelectedFormaImageAdjustmentAsScalar("shadows",parseFloat(E.value)).done();break;case u.THEO_IMAGE_ENHANCEMENTS_WARMTH_EVENT:m||(a.default.publish("editor:image:enhancementsWarmthValueChanged"),m=!0),t.setSelectedFormaImageAdjustmentAsScalar("warmth",parseFloat(E.value)).done();break;case u.THEO_IMAGE_ENHANCEMENTS_SHARPEN_EVENT:m||(a.default.publish("editor:image:enhancementsSharpenValueChanged"),m=!0),t.setSelectedFormaImageAdjustmentAsScalar("sharpness",parseFloat(E.value)).done();break;case u.THEO_IMAGE_TOGGLE_BLUR_EVENT:E.value?a.default.publish("editor:image:blurEnabled"):(a.default.publish("editor:image:blurDisabled"),t.setSelectedFormaImageAdjustmentAsScalar("blur",0).done());break;case u.THEO_IMAGE_ENHANCEMENTS_BLUR_EVENT:m||(a.default.publish("editor:image:blurValueChanged"),m=!0),0===parseFloat(E.value)&&a.default.publish("editor:image:blurDisabled"),t.setSelectedFormaImageAdjustmentAsScalar("blur",parseFloat(E.value)).done();break;case u.THEO_IMAGE_ENHANCEMENTS_RESET_EVENT:m||(a.default.publish("editor:image:enhancementsReset"),m=!0),t.resetImageAdjustments({contrast:0,brightness:0,saturation:0,highlights:0,shadows:0,warmth:0,sharpness:0}).done();break;case u.IMAGE_SET_FILTER:const b=["None","Greyscale"],T=g[E.filter];T===g.none?a.default.publish("editor:image:filtersDisabled"):a.default.publish("editor:image:filtersEnabled");const C=t.getImagePreviewData(t.getSelectedForma()).styleFilter;if(T===C.name){if(b.includes(T))return;return a.default.publish("editor:image:filtersShuffled",{contextualData1:"filterName: "+T}),void t.setImageFilterForSelection(C,1,!1).done()}const _=t.getImageFilters().find(e=>e.name===T);a.default.publish("editor:image:filtersApplied",{contextualData1:"filterName: "+_.name}),t.setImageFilterForSelection(_,0,!1).done();break;case u.IMAGE_ADD_TO_BACKGROUND_LAYER:a.default.publish("editor:image:pinToBackgroundEnabled"),t.setImageAsBackground().done();break;case u.IMAGE_REMOVE_FROM_BACKGROUND_LAYER:a.default.publish("editor:image:pinToBackgroundDisabled"),t.setImageAsForeground().then(()=>{const e=t.getSelectedForma();t.deselectAll(),t.selectFormaById({formaId:e.formaID})}).done();break;case u.IMAGE_REPLACE:a.default.publish("editor:image:replacePressed"),o.handleReplaceImageButtonPress();break;case u.IMAGE_FLIP_HORIZONTAL:a.default.publish("editor:image:horizontalFlipPressed"),t.flipForma(!1,t.getSelectedForma());break;case u.IMAGE_FLIP_VERTICAL:a.default.publish("editor:image:verticalFlipPressed"),t.flipForma(!0,t.getSelectedForma());break;case u.IMAGE_ACTIVATE_CROP:o.enterCropMode(),p.scale=p.rotate=p.verticalFlip=p.horizontalFlip=!1;break;case u.IMAGE_RESTORE_BACKGROUND:t.restoreImageBackground().done();break;case u.IMAGE_REMOVE_BACKGROUND:t.removeImageBackground().done();break;case u.IMAGE_SET_SCALE:t.setSelectedFormaScaleAsScalar(E.value).done();break;case u.IMAGE_SET_ROTATION:m||(a.default.publish("editor:image:backgroundRotateValueChanged"),m=!0),t.setSelectedFormaRotationAsScalar(E.value).done();break;case u.IMAGE_SET_OPACITY:m||(a.default.publish("editor:image:opacityValueChanged"),m=!0),t.setOpacityValueOfSelectedFormaAsScalar(E.value).done();break;case u.CLOSE_IMAGE_PANEL:t.deselect();break;case u.CROP_MODE_CANCEL:a.default.publish("editor:image:cropCancelled"),o.exitCropMode(!0);break;case u.CROP_MODE_DONE:o.exitCropMode(!1),a.default.publish("editor:image:cropComplete",{contextualData1:"ratioId:"+p.ratioID,contextualData2:"shapeId: "+p.shapeID,contextualData3:"scaleValue:"+p.scale,contextualData4:"rotateValue:"+p.rotate,contextualData5:"verticalFlip:"+p.verticalFlip,contextualData6:"horizontalFlip:"+p.horizontalFlip});break;case u.IMAGE_SET_CROP_SCALE:p.scale=!0,t.setSelectedFormaScaleAsScalar(E.value).done();break;case u.IMAGE_SET_CROP_ROTATION:p.rotate=!0,t.setSelectedFormaRotationAsScalar(E.value).done();break;case u.IMAGE_FLIP_CROP_HORIZONTAL:p.horizontalFlip=!p.horizontalFlip,t.flipForma(!1,t.getSelectedForma());break;case u.IMAGE_FLIP_CROP_VERTICAL:p.verticalFlip=!p.verticalFlip,t.flipForma(!0,t.getSelectedForma());break;case u.CROP_ITEM_SELECTED:const v=E;v.aspectRatio=p.ratioID=v.aspect,v.shapeId=p.shapeID=v.id,null!=v.aspectRatio?t.applyAspectRatioCropToImage(E).done():v.shapeId&&t.applyShapeMaskToImage(E).done();break;case u.IMAGE_ADD_COLOR:a.default.publish("editor:image:cutoutBackgroundColorEnabled"),t.setColorForSelection([{red:255,green:255,blue:255,id:null,roles:null}]);break;case u.IMAGE_REMOVE_COLOR:a.default.publish("editor:image:cutoutBackgroundColorDisabled"),t.setColorForSelection().done();break;case u.setTextMultiStyle:"main"===E.tab?(E.deleteSecondaryStyle&&t.clearStyleRanges().done(),t.exitCharStyleModeAndSelect()):"secondary"===E.tab&&(a.default.publish("editor:text:multiStyleSelected"),t.enterCharStyleMode());break;case u.setTextAlignment:const A=function(e,t){const o=t.getLockupLayouts(),n=t.getLockupAlignments(),a=t.getTextPathIDs();switch(e){case d.a.center:return{layout:o.Standard,alignment:n.Center,pathID:a.UNSET,analyticsAlignmentType:"center"};case d.a.left:return{layout:o.Standard,alignment:n.Left,pathID:a.UNSET,analyticsAlignmentType:"left"};case d.a.right:return{layout:o.Standard,alignment:n.Right,pathID:a.UNSET,analyticsAlignmentType:"right"};case d.a.capitalizeAndFit:return{layout:o.FitJustified,alignment:n.UNSET,pathID:a.UNSET,analyticsAlignmentType:"fitJustified"};case d.a.circle:return{layout:o.Path,alignment:n.UNSET,pathID:a.Circle,analyticsAlignmentType:"circle"};case d.a.semicircle:return{layout:o.Path,alignment:n.UNSET,pathID:a.SemiCircleUp,analyticsAlignmentType:"semiCircle"};case d.a.semicircleInverted:return{layout:o.Path,alignment:n.UNSET,pathID:a.SemiCircleDown,analyticsAlignmentType:"invertedSemiCircle"};case d.a.gridLeft:return{layout:o.LetterGrid,alignment:n.Left,pathID:a.UNSET,analyticsAlignmentType:"letterGridLeft"};case d.a.gridCenter:return{layout:o.LetterGrid,alignment:n.Center,pathID:a.UNSET,analyticsAlignmentType:"letterGridCenter"};case d.a.gridRight:return{layout:o.LetterGrid,alignment:n.Right,pathID:a.UNSET,analyticsAlignmentType:"letterGridRight"};default:return void c.warn("Unhandled LOCKUP_ALIGNMENT_UI_VALUES value: "+e)}}(E.value,t);A&&function(e,t){const o=t.getSelectedForma();if(!o||!o.isTypeLockup())return;const{analyticsAlignmentType:n,layout:i,alignment:l,pathID:r}=e;a.default.publish("editor:text:alignmentSelected",{contextualData1:"alignmentType: "+n}),t.setSessionContainerSizeForSelectedLockup(),t.setLayoutAndAlignmentForSelectedLockup(i,l,r).done()}(A,t);break;case u.showFontPicker:a.default.publish("editor:text:fontSizePickerPressed");const k=null==E||null===(i=E.anchor)||void 0===i?void 0:i.find("button");k&&o.showFontPicker(k);break;case u.setFontSize:let P=parseFloat(E.value);if(!isNaN(P)){const e=t.getMinFontSize(),o=t.getMaxFontSize();isNaN(e)||(P=Math.max(P,e)),isNaN(o)||(P=Math.min(P,o)),t.setFontSize(P).done()}break;case u.THEO_TEXT_EFFECTS_OUTLINE_EVENT:!function(e,t){var o;e?a.default.publish("editor:text:outlineDisabled"):a.default.publish("editor:text:outlineEnabled");const n=null===(o=t.getSelectedForma())||void 0===o?void 0:o.controller.styleController.targetedTextLook;let i=null;switch(n){case-1:case 0:e||t.toggleFillOfSelectedLockup(!1).done();break;case 1:e||(i=2);break;case 2:e&&(i=1);break;case 3:case 4:case 5:e&&(i=0);break;case 6:e||(i=2);break;case 7:e||(i=8);break;case 8:e&&(i=7)}null!==i&&t.setEffectForSelectedLockup(i).done()}(!E.value,t);break;case u.THEO_TEXT_EFFECTS_OUTLINE_ONLY_EVENT:E.value?a.default.publish("editor:text:outlineOnlyEnabled"):a.default.publish("editor:text:outlineOnlyDisabled");const I=null===(r=t.getSelectedForma())||void 0===r?void 0:r.controller.styleController.targetedTextLook;3!==I&&4!==I&&5!==I||t.toggleFillOfSelectedLockup(E.value).done();break;case u.THEO_TEXT_EFFECTS_OUTLINE_THICKNESS_INPUT_EVENT:m||(a.default.publish("editor:text:outlineThicknessValueChanged"),m=!0),t.setSelectedFormaOutlineThicknessAsScalar(E.value).done();break;case u.THEO_TEXT_EFFECTS_SHADOW_EVENT:!function(e,t){var o;e?a.default.publish("editor:text:shadowDisabled"):a.default.publish("editor:text:shadowEnabled");const n=null===(o=t.getSelectedForma())||void 0===o?void 0:o.controller.styleController.targetedTextLook;let i=null;switch(n){case-1:case 0:e||(i=7);break;case 1:e||(i=9);break;case 2:case 3:break;case 4:case 5:e||(i=8);break;case 6:e||(i=9);break;case 7:e&&(i=0);break;case 8:e&&t.toggleFillOfSelectedLockup(!1).done();break;case 9:e&&(i=7)}null!==i&&t.setEffectForSelectedLockup(i).done()}(!E.value,t);break;case u.THEO_TEXT_EFFECTS_SHADOW_DISTANCE_INPUT_EVENT:t.setSelectedFormaShadowDistanceAsScalar(E.value).done();break;case u.THEO_TEXT_EFFECTS_SHADOW_DIRECTION_INPUT_EVENT:t.setSelectedFormaShadowAngleAsScalar(E.value).done();break;case u.THEO_TEXT_EFFECTS_SHAPE_EVENT:if(E.value){a.default.publish("editor:text:shapeEnabled");n.LockupStyle.isPath(t.getSelectedForma().style.layout)?(t.setShapeForSelectedLockup("square_001").done(),t.setSelectedFormaShapePaddingAsScalar(.33).done()):t.setShapeForSelectedLockup("circle_001").done()}else a.default.publish("editor:text:shapeDisabled"),t.setShapeForSelectedLockup(0).done();break;case u.THEO_TEXT_EFFECTS_SHAPE_MASK_TEXT_EVENT:!function(e,t){var o;e?a.default.publish("editor:text:shapeMaskDisabled"):a.default.publish("editor:text:shapeMaskEnabled");const n=null===(o=t.getSelectedForma())||void 0===o?void 0:o.controller.styleController.targetedTextLook;let i=null;switch(n){case-1:case 0:e||(i=1);break;case 1:e&&(i=0);break;case 2:e&&t.toggleFillOfSelectedLockup(!1).done();break;case 3:break;case 4:case 5:e||(i=2);break;case 6:e&&(i=0);break;case 7:e||(i=9);break;case 8:break;case 9:e&&(i=7)}null!==i&&t.setEffectForSelectedLockup(i).done()}(!E.value,t);break;case u.THEO_TEXT_EFFECTS_SHAPE_PADDING_INPUT_EVENT:m||(a.default.publish("editor:text:shapeSizeValueChanged"),t.setCurrentPin(),m=!0),t.setSelectedFormaShapePaddingAsScalar(E.value).done();break;case u.CLOSE_TEXT_PANEL_EVENT:t.deselect();break;case u.THEO_PANEL_TITLE_ANNOTATION_CLICK:o.handleAnnotationClicked();break;case u.TEXT_SET_LINE_HEIGHT:m||(a.default.publish("editor:text:lineSpacingValueChanged"),m=!0),t.setSelectedFormaLineHeightAsScalar(E.value).done();break;case u.TEXT_SET_LETTER_SPACING:m||(a.default.publish("editor:text:letterSpacingValueChanged"),t.setCurrentPin(),m=!0),t.setSelectedFormaLetterSpacingAsScalar(E.value).done();break;case u.THEO_TEXT_STYLES_EVENT:o.handleShuffleStyleButtonClicked();break;case u.SHAPES_SELECTION_EVENT:a.default.publish("editor:text:shapeSelected");const y=parseInt(E.id,10),O=isNaN(y)?E.id:y;t.setShapeForSelectedLockup(O).done();break;case u.showImagePicker:o.handleReplaceImageButtonPress();break;case u.ungroup:t.ungroupItems(t.getAllSelectedFormas(),!0,"button").done();break;case u.showIconPicker:a.default.publish("editor:iconReplaced",{contextualData1:"method: propertiesPanel"}),o.handleReplaceImageButtonPress();break;case u.flipVertical:t.flipForma(!0,t.getSelectedForma());break;case u.flipHorizontal:t.flipForma(!1,t.getSelectedForma());break;case u.addLogoToCanvas:o.addExistingLogo(E.id);break;case u.addLogoToPanel:o.addNewLogo();break;case u.setAlignment:const w=t.getAlignmentTypes();let N=null;switch(E.value){case 0:N=w.Left;break;case 1:N=w.CenterX;break;case 2:N=w.Right;break;case 3:N=w.Top;break;case 4:N=w.CenterY;break;case 5:N=w.Bottom}null!==N&&(N===w.Left||N===w.CenterX||N===w.Right?a.default.publish("editor:multiselect:horizontalAlignmentSelected",{contextualData1:"alignmentType: "+h[N]}):a.default.publish("editor:multiselect:verticalAlignmentSelected",{contextualData1:"alignmentType: "+h[N]}),t.setAlignmentForSelectedFormae(N).done());break;case u.group:t.groupItems(t.getAllSelectedFormas(),!0,"button").done()}}(e,t,o)}};b.push(r),e.addEventListener(r.event,r.method)})}},W3p6:function(e,t,o){var n,a;n=[o("xeH2"),o("YLtl"),o("NgGw"),o("4eTD"),o("Qzxj")],void 0===(a=function(e,t,o,n,a){return function(e){var t=new o(e=e||{}),i={};function l(){}return t.setCoreWrapper=function(e){e,i.icon.setCoreWrapper(e),i.color.setCoreWrapper(e)},t.setBrandKitColors=function(e){i.color.setBrandKitColors(e)},t.removeBrandkitSections=function(){i.color.removeBrandkitSections()},t.handleEyeDropperClicked=function(e){i.color.handleEyeDropperClicked(e)},t.handleEyeDropperMoved=function(e,t){i.color.handleEyeDropperMoved(e,t)},t.selectCurrentColor=function(e){i.color.selectCurrentColor(e)},t.el.className+=" post-sidebar-icon",i.icon=new n({parent:t,hidden:!0,visibilityGroup:"icon-sidebar"}),i.color=new a({parent:t,hidden:!0,colorPicker:e.colorPicker,visibilityGroup:"icon-sidebar"}),t.registerSidebarTabWithId(i.icon,"icon"),t.registerSidebarTabWithId(i.color,"color"),t.republish(i.icon.events,"buttonpress-replace-icon"),t.republish(i.icon.events,"hidden","hide-icon-picker"),t.republish(i.color.events,"icon-color-selected"),t.republish(i.color.events,"eyedropper-changed"),t.events.subscribe("shown",l),t}}.apply(t,n))||(e.exports=a)},efk3:function(e,t,o){var n,a;n=[o("7len"),o("/JSe"),o("+FNJ"),o("Cho4"),o("+/kw"),o("3xm6"),o("2Fsf"),o("bBG2"),o("MGCh"),o("3xm6")],void 0===(a=function(e,t,o,n,a,i,l,r,s){return function(d){const c=r.default,u=s.channel("theo-sidebar-animation");(d=d||{}).tag="DIV";const p=new e.AnimationOptions,h=new l(d),g=h.update,{THEO_ANIMATION_COLLECTION_OPTION_SELEECT_EVENT:b}=o,{THEO_PANEL_TITLE_BAR_CLOSE:m}=a.EVENTS;let f;const E=function(){for(let e=0;e<h.el.children.length;++e)if(h.el.children[e].tagName===t.TheoAnimationCollection.elementName.toUpperCase())return h.el.children[e];return null},S=function(e){if(!f)return void u.assert(f,"missing coreWrapper when select animation style");const t=E();if(!t)return;const o=(e.originalEvent.detail.optionName||"").split(/([0-9]+)/);if(o.length>0){const e=o[0],n=parseInt(o.length>1?o[1]:"",10);h.events.publish("animation-loading-begin"),t.setAttribute("waiting",""),setTimeout(()=>{f.setAnimationStyle(e,n).finally((function(){t.removeAttribute("waiting"),h.events.publish("animation-loading-end")})),c.publish("animationPreviewed")},150)}},T=function(e){e.stopPropagation(),h.events.publish("animation-panel-title-bar-close")},C=function(){h.$el.off(b,S),h.$el.off(m,T)},_=function(){h.$el.on(b,S),h.$el.on(m,T)},v=function(){const e=document.createElement(t.TheoAnimationCollection.elementName);return e.categoryList=p.getInitialAnimationOptions(),e.betaflag=!0,e.placeholderImageUrl="/theo-web/images/modules/component/icons/animation_placeholder.png",e.placeholderTitle=i.translate("app.animationPlaceholder.kTitle"),e.placeholderText=i.translate("app.animationPlaceholder.kText"),e};return h.update=function(e){if(!f)return;const t=E();t&&function(e){const t=(o=f.getCurrentAnimationStyle())?"Color"===o.name||"Fill"===o.name||o.variantCount>1?`${o.name}${o.variant}`:o.name:"None";var o;e.categoryList=p.updateAnimationOptions(f),e.setAttribute("selected-option-name",t)}(t),g(e)},h.setCoreWrapper=function(e){f=e},function(){const e=function(){const e=document.createElement(n.TheoPanelTitleBar.elementName);return e.titleText=i.translate("components.buttons.kAnimation"),e}(),t=v();h.$el.append(e),h.$el.append(t),h.events.subscribe("shown",_),h.events.subscribe("hidden",C),h.isHidden()||_()}(),h}}.apply(t,n))||(e.exports=a)},jo99:function(e,t,o){var n,a;function i(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function l(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}n=[o("Avqh"),o("2Fsf"),o("W1Jy"),o("KFmL"),o("+VG/"),o("R81C")],void 0===(a=function(e,t,o,n,a,i){return function(t){(t=t||{}).layout="rows",t.panels=[{id:"BadgePickerHeader",size:"164px"},{id:"BadgePickerBadges",size:"auto"}];var r=new o(t),s=r.handleParentResize,d={};function c(e,t){const o=d.listOfBadges.getAllItems().length;d.listOfBadges.deselectSelected(),r.events.publish("badge-selected",e,t,o)}function u(){"function"==typeof t.onAddText&&t.onAddText()}function p(){r.hide(),r.events.publish("close-buttonpress"),"function"==typeof t.onClose&&t.onClose()}return r.handleParentResize=function(e){e=l(l({},e||{}),{},{width:t.width,left:t.left}),s(e)},r.el.className+=" post-badge-picker",d.fromScratchLabel=new e({parent:"BadgePickerHeader",tag:"label",class:"panel-title",template:"i18n.panels.badges.kFromScratch"}),d.closeButton=new a({parent:"BadgePickerHeader",class:"asset-rail-close-button",width:13,height:13,onClick:p}),d.addCustomTextButton=new n({parent:"BadgePickerHeader",class:"pill",label:"i18n.panels.badges.kCustom",onClick:u}),d.listOfBadges=new i({parent:"BadgePickerBadges",advancedTextLayoutAllEnabled:t.advancedTextLayoutEnabled}),d.listOfBadges.events.subscribe("item-selected",c),r.getMerchAnchor=function(e){return d.listOfBadges.getMerchAnchor(e)||{element:r.$el,position:"left"}},r}}.apply(t,n))||(e.exports=a)},mYMA:function(e,t,o){var n,a;n=[o("YLtl"),o("2Fsf"),o("W1Jy"),o("+VG/"),o("HTdw"),o("rPfa"),o("bBG2"),o("Af0U"),o("UzQk"),o("8DU0"),o("GSfz"),o("3xm6"),o("Cho4"),o("+/kw")],void 0===(a=function(e,t,o,n,a,i,l,r,s,d,c,u,p,h){const g=l.default;const{THEO_PANEL_TITLE_BAR_CLOSE:b}=h.EVENTS;return function(l){(l=l||{}).layout="rows",l.panels=[{id:"PostSidebarLayoutTitleBar",size:"73px"},{id:"PostSidebarLayoutActions",size:"180px"},{id:"PostSidebarLayoutContent",class:"post-panel-divider-above",size:"auto"}];var s,d,c,h,m=new o(l),f={},E=m.hide,S=m.show,T=!1,C=[];function _(e){m.allowAutomaticLayout()&&s.enableAutomaticLayoutMode(),f.layoutModeCheckbox.show(),P(),(e=void 0===e||e)&&(M(),B(s.getLayoutSpacing()===s.getLayoutMargin()))}function v(){s.prepareForGridLayouts(),_(!0),I(),C.push(s.events.subscribe("design-updated",k)),m.$el.on(b,G)}function A(){e.each(C,(function(e){e.remove()})),C=[],s.disableAutomaticLayoutMode(),m.$el.off(b,G)}function k(){_(!T),I()}function P(){if(s){var e=s.spacingChangesVisible();e?(f.spacingSlider.show(),f.linkButton.show(),f.topLinkLine.show(),f.bottomLinkLine.show()):(f.spacingSlider.hide(),f.linkButton.hide(),f.topLinkLine.hide(),f.bottomLinkLine.hide());var t=e?180:140;m.update({panels:[{id:"PostSidebarLayoutActions",size:t+"px"}]})}}function I(){var e=s.getGridForma(!0),t=e&&e.style&&e.style.name;t&&t!=h&&(f.listOfGrids.selectLayout(e.style),h=t)}function y(e){e.target.checked?s.enableAutomaticLayoutMode():s.disableAutomaticLayoutMode()}function O(e,t){d=!0,e,m.events.publish("grid-item-selected",e,t)}function w(e){L(e.value,-1),F(2*e.value,c?2*e.value:-1)}function N(e){L(-1,e.value),F(c?2*e.value:-1,2*e.value)}function F(e,t){s.setLayoutSpacingAndMargin(e,t).done()}function L(e,t){e>=0?(f.spacingSlider.setValue(Math.round(e)),c&&f.borderSlider.setValue(Math.round(e))):t>=0&&(f.borderSlider.setValue(Math.round(t)),c&&f.spacingSlider.setValue(Math.round(t)))}function M(){f.spacingSlider.setValue(Math.round(s.getLayoutSpacing()/2)),f.borderSlider.setValue(Math.round(s.getLayoutMargin()/2))}function V(){T=!0,s.beginGesture()}function x(){M(),s.endGesture(!0),T=!1}function H(){if(B(!c),c){const e=s.getLayoutSpacing(),t=s.getLayoutMargin(),o=0===e||0===t?Math.max(t,e):Math.min(t,e);F(o,o),M()}}function B(e){c=e,e?(f.linkButton.$el.find("i").addClass("lock-close"),f.linkButton.$el.find("i").removeClass("lock-open")):(f.linkButton.$el.find("i").addClass("lock-open"),f.linkButton.$el.find("i").removeClass("lock-close"))}function G(e){e.stopPropagation(),m.events.publish("layout-panel-title-bar-close")}return m.setCoreWrapper=function(e){s=e,f.listOfGrids.setCoreWrapper(e),P(),m.allowAutomaticLayout()&&s.enableAutomaticLayoutMode()},m.deselectSelected=function(){f.listOfGrids.deselectSelected()},m.allowAutomaticLayout=function(){return f.layoutModeCheckbox.$el.find("input")[0].checked},m.returnFromSelectionState=function(){s.prepareForGridLayouts(),m.allowAutomaticLayout()&&s.enableAutomaticLayoutMode()},m.show=function(){S(),d=!1},m.hide=function(){E(),d&&g.publish("resizeAndGrid")},function(){m.el.className+=" post-sidebar-layout",f.layoutModeTitleBar=new t({parent:"PostSidebarLayoutTitleBar"});const e=function(){const e=document.createElement(p.TheoPanelTitleBar.elementName);return e.titleText=u.translate("components.buttons.kBackground"),e}();f.layoutModeTitleBar.$el.prepend(e),f.layoutModeToolWrapper=new t({parent:"PostSidebarLayoutActions",height:15,bottom:28,left:24,top:"auto"}),f.layoutModeCheckbox=new a({parent:f.layoutModeToolWrapper,id:"disableMagicLayoutCheckbox",label:"i18n.components.input.toggle.kMoveContentWithLayout",height:15,checked:!1,handleChange:y}),f.borderSlider=new i({parent:"PostSidebarLayoutActions",onSlide:N,onSlideStart:V,onSlideEnd:x,top:55,left:24,sliderWidth:210,sliderHeight:2,handleHeight:16,minValue:0,maxValue:100,roundValues:!0,snapSensitivity:5,label:"i18n.components.slider.kBorder",labelClass:"label-above",showValueTooltip:!0}),f.spacingSlider=new i({parent:"PostSidebarLayoutActions",onSlide:w,onSlideStart:V,onSlideEnd:x,top:107,left:24,sliderWidth:210,sliderHeight:2,handleHeight:16,minValue:0,maxValue:100,roundValues:!0,snapSensitivity:5,label:"i18n.components.slider.kCell",labelClass:"label-above",showValueTooltip:!0}),f.linkButton=new n({parent:"PostSidebarLayoutActions",label:"",width:26,height:26,id:"LinkSlidersButton",class:"post-layout-link",onClick:H}),f.topLinkLine=new t({parent:"PostSidebarLayoutActions",top:55,left:251,width:7,height:14,id:"TopLinkLine",class:"top-link-line",hidden:!1}),f.bottomLinkLine=new t({parent:"PostSidebarLayoutActions",top:97,left:251,width:7,height:14,id:"BottomLinkLine",class:"bottom-link-line",hidden:!1}),f.listOfGrids=new r({parent:"PostSidebarLayoutContent",hidden:!1}),m.events.subscribe("shown",v),m.events.subscribe("hidden",A),f.listOfGrids.events.subscribe("item-selected",O)}(),m}}.apply(t,n))||(e.exports=a)},rOUP:function(e,t,o){var n,a;n=[o("xeH2"),o("YLtl"),o("2Fsf"),o("TW0n"),o("W1Jy"),o("KFmL"),o("uXkU"),o("bBG2"),o("QuSD"),o("3xm6")],void 0===(a=function(e,t,o,n,a,i,l,r,s,d){const c=r.default;var u=!1;return function(e){(e=e||{}).layout="rows",e.panels=[{id:"PostSidebarPhotoEnhancements",size:"80px",kind:"fixed",min:"80px",max:"80px"},{id:"PostSidebarPhotoFilters",class:"post-panel-divider-above",size:"650px",kind:"fixed",min:"650px",max:"650px"},{id:"PostSidebarPhotoEffects",class:"post-panel-divider-above",size:"120px",kind:"fixed",min:"120px",max:"120px"}];var t,r=new a(e),p={};function h(t){if(!e.enablePixiRenderer)return t;var o=1+99*(e=>e**3)(t/100);return o=1===o?0:o}function g(e,t){r.events.publish("filter-selected",e,t,u),c.publish("imageFilterSelected",{filterName:e.name})}function b(){if(t){var e=t.backgroundImageFormas().length>1;e?p.listOfFilters.showCheckBox():p.listOfFilters.hideCheckBox();var o=e?666:650;r.update({panels:[{id:"PostSidebarPhotoFilters",size:o+"px",min:o+"px",max:o+"px"}]})}}function m(){r.updateForCurrentSelection()}function f(o){var n=t.getImageAdjustments(o);p.contrastSlider.setValue(n.contrast),p.brightnessSlider.setValue(n.brightness),p.saturationSlider.setValue(n.saturation),p.highlightsSlider.setValue(n.highlights),p.shadowsSlider.setValue(n.shadows),p.warmthSlider.setValue(n.warmth),p.sharpenSlider.setValue(n.sharpness),p.blurSlider.setValue(function(t){if(!e.enablePixiRenderer)return t;var o=0;return t>1&&(o=100*((t-1)/99)**(1/3)),o}(n.blur))}function E(){t.beginGesture()}function S(){t.endGesture(!0)}return r.updateForCurrentSelection=function(){if(!r.isHidden()){var e=t.getSelectedForma();e&&(e.isImage()||e.isShape())&&(b(),e.isImage()&&(f(e),r.updateFilters({items:t.getImageFilters(),image:t.getImagePreviewData(e),forma:e,documentSize:t.getDocumentSize()})))}},r.updateFilters=function(e){return e=e||{items:t.getImageFilters(),image:t.getImagePreviewData(t.getSelectedForma()),forma:t.getSelectedForma(),documentSize:t.getDocumentSize()},p.listOfFilters.update(e)},r.setCoreWrapper=function(e){(t=e).events.subscribe("forma-added",r.updateForCurrentSelection),t.events.subscribe("formae-deleted",r.updateForCurrentSelection),t.events.subscribe("forma-selected",r.updateForCurrentSelection),p.listOfFilters.update({core:e}),b()},r.el.className+=" post-sidebar-photo",p.listOfFilters=new s({enablePixiRenderer:e.enablePixiRenderer,parent:"PostSidebarPhotoFilters",hidden:!1}),p.enhancePhotoDropdownButton=new n({parent:"PostSidebarPhotoEnhancements",id:"EnhancePhotoDropdownButton",template:"<p class='dropdown-label'>i18n.components.buttons.kEnhancePhoto</p><div class='dropdown-button'></div>",height:40,width:232,top:20,left:22,onClick:function(){var e=p.enhancePhotoDropdownButton.$el.find(".dropdown-button");e.hasClass("up-arrow")?(p.contrastSlider.hide(),p.brightnessSlider.hide(),p.saturationSlider.hide(),p.highlightsSlider.hide(),p.shadowsSlider.hide(),p.warmthSlider.hide(),p.sharpenSlider.hide(),p.resetSlidersButton.hide(),r.update({panels:[{id:"PostSidebarPhotoEnhancements",size:"80px",min:"80px",max:"80px"}]})):(p.contrastSlider.show(),p.brightnessSlider.show(),p.saturationSlider.show(),p.highlightsSlider.show(),p.shadowsSlider.show(),p.warmthSlider.show(),p.sharpenSlider.show(),p.resetSlidersButton.show(),r.update({panels:[{id:"PostSidebarPhotoEnhancements",size:"502px"}]})),e.toggleClass("up-arrow")}}),p.contrastSlider=new l({parent:"PostSidebarPhotoEnhancements",onSlide:function(e){t.changeImageAdjustments({contrast:e.value})},onSlideStart:function(){E()},onSlideEnd:S,top:76,left:24,sliderWidth:232,minValue:-100,maxValue:100,stepValue:1,showValueTooltip:!0,label:d.translate("components.slider.kContrast"),hidden:!0,snapTicks:[0],snapSensitivity:5}),p.brightnessSlider=new l({parent:"PostSidebarPhotoEnhancements",onSlide:function(e){t.changeImageAdjustments({brightness:e.value})},onSlideStart:function(){E()},onSlideEnd:S,top:128,left:24,sliderWidth:232,minValue:-100,maxValue:100,stepValue:1,showValueTooltip:!0,label:d.translate("components.slider.kBrightness"),hidden:!0,snapTicks:[0],snapSensitivity:5}),p.saturationSlider=new l({parent:"PostSidebarPhotoEnhancements",onSlide:function(e){t.changeImageAdjustments({saturation:e.value})},onSlideStart:function(){E()},onSlideEnd:S,top:180,left:24,sliderWidth:232,minValue:-100,maxValue:100,stepValue:1,showValueTooltip:!0,label:d.translate("components.slider.kSaturation"),hidden:!0,snapTicks:[0],snapSensitivity:5}),p.highlightsSlider=new l({parent:"PostSidebarPhotoEnhancements",onSlide:function(e){t.changeImageAdjustments({highlights:e.value})},onSlideStart:function(){E()},onSlideEnd:S,top:232,left:24,sliderWidth:232,minValue:-100,maxValue:100,stepValue:1,showValueTooltip:!0,label:d.translate("components.slider.kHighlights"),hidden:!0,snapTicks:[0],snapSensitivity:5}),p.shadowsSlider=new l({parent:"PostSidebarPhotoEnhancements",onSlide:function(e){t.changeImageAdjustments({shadows:e.value})},onSlideStart:function(){E()},onSlideEnd:S,top:284,left:24,sliderWidth:232,minValue:-100,maxValue:100,stepValue:1,showValueTooltip:!0,label:d.translate("components.slider.kShadows"),hidden:!0,snapTicks:[0],snapSensitivity:5}),p.warmthSlider=new l({parent:"PostSidebarPhotoEnhancements",onSlide:function(e){t.changeImageAdjustments({warmth:e.value})},onSlideStart:function(){E()},onSlideEnd:S,top:336,left:24,sliderWidth:232,minValue:-100,maxValue:100,stepValue:1,showValueTooltip:!0,label:d.translate("components.slider.kWarmth"),hidden:!0,snapTicks:[0],snapSensitivity:5}),p.sharpenSlider=new l({parent:"PostSidebarPhotoEnhancements",onSlide:function(e){t.changeImageAdjustments({sharpness:e.value})},onSlideStart:function(){E()},onSlideEnd:S,top:388,left:24,sliderWidth:232,minValue:0,maxValue:100,stepValue:1,showValueTooltip:!0,label:d.translate("components.slider.kSharpen"),hidden:!0}),p.resetSlidersButton=new i({parent:"PostSidebarPhotoEnhancements",class:"reset-sliders-button post-centered-button",label:"i18n.components.buttons.kResetChanges",hidden:!0,onClick:function(){t.resetImageAdjustments({contrast:0,brightness:0,saturation:0,highlights:0,shadows:0,warmth:0,sharpness:0})}}),p.EffectsPanelLabel=new o({parent:"PostSidebarPhotoEffects",template:"<h2>i18n.panels.images.kEffects</h2>",left:24,top:30}),p.blurSlider=new l({parent:"PostSidebarPhotoEffects",onSlide:function(e){t.changeImageAdjustments({blur:h(e.value)})},onSlideStart:function(){E()},onSlideEnd:S,top:69,left:24,sliderWidth:232,minValue:0,maxValue:100,stepValue:1,showValueTooltip:!0,label:d.translate("components.slider.kBlur"),hidden:!1}),r.events.subscribe("shown",m),p.listOfFilters.events.subscribe("item-selected",g),p.listOfFilters.events.subscribe("filter-checkbox-changed",(function(e){u=e})),r}}.apply(t,n))||(e.exports=a)},zeFu:function(e,t,o){var n,a;n=[o("2Fsf"),o("xsG0"),o("nO8B"),o("RvTP")],void 0===(a=function(e,t,o,n){return function(a){(a=a||{}).tag=t.TheoSidebar.elementName;var i=new e(a);o.localizeWebComponents();var l=i.update;function r(){}return n.bindEvents(i.el,a.coreWrapper,a.controller),i.update=function(e){"string"==typeof(e=e||{}).panelName&&("logo"===e.panelName?i.el.setAttribute("panelName","logo-prop"):i.el.setAttribute("panelName",e.panelName)),void 0!==e.state&&(i.el.globalState=e.state),l(e)},i.updateCoreWrapper=function(e){n.unbindEvents(i.el),n.bindEvents(i.el,e,a.controller)},i.el.className+=" post-sidebar-item-properties",i.events.subscribe("shown",r),i}}.apply(t,n))||(e.exports=a)}}]);
//# sourceMappingURL=theo-web-view_16da479a-f5c60295.js.map