(window.webpackJsonptheoWebApp=window.webpackJsonptheoWebApp||[]).push([[12],{"0PP3":function(t,e,i){var n=e,o=i("oAGj");n.IPGMMimicClient=o.defineProtocol("IPGMMimicClient",{bindDocument:"(PGMMimicDocument) -> IPGMMimicDocumentBinding",bindNode:"(PGMMimicNode, PGMMimicGroupNode) -> IPGMMimicNodeBinding"})},"0lVD":function(t,e,i){var n,o,r,s=e,a=i("oAGj"),h=i("fNpk"),u=i("jLWG"),c=i("rKjb"),l=i("dmHI"),d=i("tlHl"),p=i("a/9s"),f=i("n8f2"),m=i("V93b"),P=i("kEiY"),T=i("rtbu"),g=i("FR4n"),_=i("qEGv"),M=i("euLT"),y=i("Ucb9"),v=i("g6aL"),R=i("bAjp");s.PGMMimicConformerOptions=(n=function(t){void 0===t&&(t=!1),this.provideEndConformSummary=t},o={},a.defineClass({name:"PGMMimicConformerOptions",ctor:n,statics:{DEFAULT:{get:function(){return void 0===o.DEFAULT&&(o.DEFAULT=new n),o.DEFAULT}}}}),n),s.PGMMimicConformer=(r=function(t,e,i,n){this.document=t,this.fromState=e,this.state=i,this.options=n},a.defineClass({name:"PGMMimicConformer",ctor:r,statics:{conform:function(t,e,i,n){new r(t,e,i,n).conform()}},props:{conform:function(){var t=this;this.document.beginConform(this.fromState,this.state),a.opt(this.document.root,(function(e){return e.visit((function(e){return e.newConform(t.fromState,t.state,t.options),!1}))})),this.conformRecursive(this.state.graph.rootRef,null,0,this.document.root),this.state.time==this.fromState.time&&this.state.graph===this.fromState.graph||this.document.nodesWithAnimations.forEach((function(e){return e.applyAnimations(t.fromState.time,t.state.time)})),this.document.dirtyLocalCTMNodes.filter((function(t){return!t.hasCTMLocalDirtyAncestor}),this).forEach((function(t){return t.updateCTM()})),a.opt(this.document.root,(function(t){return t.markedBounds})),this.options.provideEndConformSummary&&a.opt(this.document.root,(function(t){return t.endConformSummary(!1)})),this.document.endConform(this.fromState,this.state)},isNodeValidForRef:function(t,e){return e.ref===t||e.ref.child===t.child||e.ref.child.entity==t.child.entity&&e.ref.child.type==t.child.type},conformRecursive:function(t,e,i,n){var o;if(o=n)if(this.isNodeValidForRef(t,o))o.ref===t||(o.ref.child===t.child?(o.ref=t,o.compositing=t.compositing):o.ref.child.entity==t.child.entity?(o.ref=t,this.conformSameEntity(t,o)):h.LegacyCoreAssert.fail("discrepancy in logic between conformRecursive and isNodeValidForRef",void 0,"PGMMimicConformer.conformRecursive","PGMMimicConformer.swift",162));else{var r;if(r=e)for(var s=a.iter(a.range(i+1,r.children.length,!1));!s.done;s.next()){var u=s.value,c=r.children[u];if(this.isNodeValidForRef(t,c))return r.insertChild(i,c),void this.conformRecursive(t,r,i,c)}this.conformMissing(t,e,i)}else this.conformMissing(t,e,i)},conformSameEntity:function(t,e){var i,n;if(i=a.as(t.child,c.PGMComposite))if(n=a.as(e,m.PGMMimicGroupNode)){for(var o=0;o<i.children.length;){var r=o<n.children.length?n.children[o]:null;this.conformRecursive(i.children[o],n,o,r),o+=1}for(h.LegacyCoreAssert.isTrue(n.children.length>=i.children.length,"somehow we failed to create corresponding mimic nodes?",void 0,"PGMMimicConformer.conformSameEntity","PGMMimicConformer.swift",220);n.children.length>i.children.length;){var s=n.children[i.children.length];n.removeChild(s),s.destroy()}}else h.LegacyCoreAssert.fail("how did we end up with a non-group mimic node bound to a composite PGM node?",void 0,"PGMMimicConformer.conformSameEntity","PGMMimicConformer.swift",229);e.importProperties(),e.compositing=t.compositing},conformMissing:function(t,e,i){var n,o,r,s=this;if(o=a.as(t.child,c.PGMComposite)){var C,E;null==(A=this.document.binding.createNode(this.document,t,this.options))||A instanceof m.PGMMimicGroupNode||(h.LegacyCoreAssert.fail("group node required for a composite reference; ignoring",void 0,"PGMMimicConformer.conformMissing","PGMMimicConformer.swift",254),A=null),(E=a.as(A,m.PGMMimicGroupNode))?C=E:t.child instanceof v.PGMSimpleGroup?C=new m.PGMMimicGroupNode(this.document,t,this.options,e):t.child instanceof l.PGMFilter?C=new f.PGMMimicFilterNode(this.document,t,this.options,e):t.child instanceof u.PGMClip?C=new p.PGMMimicClipNode(this.document,t,this.options,e):(h.LegacyCoreAssert.fail("looks like we have a new composite type?",void 0,"PGMMimicConformer.conformMissing","PGMMimicConformer.swift",269),C=new m.PGMMimicGroupNode(this.document,t,this.options,e));var O=0;o.children.forEach((function(t){s.conformMissing(t,C,O),O+=1})),n=C}else{var A;(A=this.document.binding.createNode(this.document,t,this.options))?n=A:t.child instanceof R.PGMText?n=new _.PGMMimicTextNode(this.document,t,this.options,e):t.child instanceof y.PGMShape?n=new g.PGMMimicShapeNode(this.document,t,this.options,e):t.child instanceof d.PGMMedia?n=new P.PGMMimicMediaNode(this.document,t,this.options,e):t.child instanceof M.PGMNullNode?n=new T.PGMNullMimicNode(this.document,t,this.options,e):(h.LegacyCoreAssert.fail("looks like we have a new leaf type?",void 0,"PGMMimicConformer.conformMissing","PGMMimicConformer.swift",293),n=new T.PGMMimicNode(this.document,t,this.options,e))}(r=e)?r.insertChild(i,n):this.document.root=n}}}),r)},"1NAc":function(t,e,i){var n,o,r=e,s=i("oAGj"),a=i("gXiO"),h=i("fNpk"),u=i("oKlP"),c=i("sIWg");r.TheoSize=(n=function(t,e){h.LegacyCoreAssert.isFalse(isNaN(t)||isNaN(e),"TheoSize initialized with NaN values",void 0,"TheoSize.init","TheoSize.swift",19),this.width=t,this.height=e,a.CoreObject.call(this)},o={},s.defineClass({name:"TheoSize",ctor:n,superName:"CoreObject",statics:{Zero:{get:function(){return void 0===o.Zero&&(o.Zero=new n(0,0)),o.Zero}},decodeJson:function(t){return null==t?null:(e=s.as(t,["Array","Double"]))?2!=e.length?(h.LegacyCoreAssert.fail("TheoSize.decodeJson: data is not an array with 2 elements",void 0,"TheoSize.decodeJson","TheoSize.swift",114),null):new n(e[0],e[1]):(i=s.as(t,["Array","Int"]))?2!=i.length?(h.LegacyCoreAssert.fail("TheoSize.decodeJson: data is not an array with 2 elements",void 0,"TheoSize.decodeJson","TheoSize.swift",123),null):new n(s.toDouble(i[0]),s.toDouble(i[1])):(h.LegacyCoreAssert.fail("TheoSize.decodeJson: data is not an array",void 0,"TheoSize.decodeJson","TheoSize.swift",129),null);var e,i},difference:function(t,e){return new n(t.width-e.width,t.height-e.height)}},props:{multiply:function(t){return new n(this.width*t,this.height*t)},hypotenuse:{get:function(){return Math.sqrt(this.width*this.width+this.height*this.height)}},area:{get:function(){return this.width*this.height}},myAspectRatioClosestCorner:function(t){var e=this.width*this.width+this.height*this.height,i=(this.width*t.width+this.height*t.height)/e;return new n(i*this.width,i*this.height)},myAspectRatioMatchArea:function(t){var e=Math.sqrt(t.width*this.width*(t.height/this.height)),i=Math.sqrt(t.height*this.height*(t.width/this.width));return new n(e,i)},myAspectRatioMatchPerimeter:function(t){var e=(t.width+t.height)/(this.width+this.height);return new n(e*this.width,e*this.height)},myAspectRatioFitWithin:function(t){return t.fitAspectRatioWithin(this.aspectRatio)},fitAspectRatioWithin:function(t){return this.aspectRatio<t?new n(this.width,this.width/t):new n(t*this.height,this.height)},myAspectRatioFillWithin:function(t){return t.fillAspectRatioWithin(this.aspectRatio)},fillAspectRatioWithin:function(t){return new n(this.width,this.width/t)},equal:function(t){return this.width==t.width&&this.height==t.height},equalWithAccuracy:function(t,e){return Math.abs(this.width-t.width)<e&&Math.abs(this.height-t.height)<e},aspectRatio:{get:function(){return 0==this.height?1:this.width/this.height}},angle:{get:function(){return Math.atan(this.aspectRatio)/Math.PI}},similarity:function(t){return c.TheoRect.fromSize(this).similarity(c.TheoRect.fromSize(t))},encode:function(){return h.LegacyCoreAssert.fail("TheoSize: Use encodeJson(), not encode()",void 0,"TheoSize.encode","TheoSize.swift",134),[]},encodeJson:function(){return s.as([this.width,this.height],"AnyObject")},print:function(){return this.asString},description:{get:function(){return this.asString}},asString:{get:function(){return s.toString("width: %g height %g",this.width,this.height)}},asPoint:{get:function(){return new u.TheoPoint(this.width,this.height)}}}}),n)},"7hc0":function(t,e,i){var n,o=e,r=i("oAGj"),s=i("fNpk"),a=i("tGKA");o.PGMAnimationUtils=(n=function(){},r.defineClass({name:"PGMAnimationUtils",ctor:n,statics:{interp:function(t,e,i){return t+(e-t)*i},bound01:function(t){return t<=0?0:t>=1?1:t},transformValuesToMatrix:function(t){return t.ordering==a.TransformValuesOrdering.SKRT?a.Matrix2D.Identity.scaleXY(t.xscale,t.yscale).skewTo(t.skew).rotate(t.rotCosine,t.rotSine).translateXY(t.tx,t.ty):a.Matrix2D.Identity.rotate(t.rotCosine,t.rotSine).skewTo(t.skew).scaleXY(t.xscale,t.yscale).translateXY(t.tx,t.ty)},interpolateBetweenXFormedBounds:function(t,e,i){var o;if(i<=0)o=t.placement;else if(i>=1)o=e.placement;else{var r=t.placement.transformValues,h=e.placement.transformValues,u=Math.atan2(r.rotSine,r.rotCosine),c=Math.atan2(h.rotSine,h.rotCosine)-u;c>Math.PI?c-=Math.PI:c<-Math.PI&&(c+=Math.PI);var l=u+i*c;s.LegacyCoreAssert.isTrue(r.ordering==h.ordering,"can't interpolate between different orderings",void 0,"PGMAnimationUtils.interpolateBetweenXFormedBounds","PGMAnimationUtils.swift",80);var d=new a.TransformValues(r.ordering,n.interp(r.xscale,h.xscale,i),n.interp(r.yscale,h.yscale,i),n.interp(r.skew,h.skew,i),Math.cos(l),Math.sin(l),0,0),p=n.transformValuesToMatrix(d),f=t.bounds.interpolate(e.bounds,i),m=t.placement.transformPoint(t.bounds.center),P=e.placement.transformPoint(e.bounds.center),T=p.transformPoint(f.center),g=m.interpolate(P,i);o=p.translate(g.subtract(T))}return o}}}),n)},FR4n:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("fNpk"),a=i("rtbu"),h=i("Ucb9"),u=i("9K9k"),c=i("Zifs"),l=i("hgLm"),d=i("sIWg");o.PGMMimicShapeNode=(n=function(t,e,i,n){var o;(o=r.as(e.child,h.PGMShape))?(this._paths=r.clone(o.paths),this._color=o.color,this._bounds=o.bounds):(s.LegacyCoreAssert.fail("wrong pgm node type",void 0,"PGMMimicShapeNode.init","PGMMimicShapeNode.swift",28),this._paths=[],this._color=c.SolidColor.BLACK,this._bounds=d.TheoRect.Zero),a.PGMMimicNode.call(this,t,e,i,n)},r.defineClass({name:"PGMMimicShapeNode",ctor:n,superName:"PGMMimicNode",statics:{PROP_PATHS:"paths",PROP_COLOR:"color",PROP_BOUNDS:"bounds"},props:{importProperties:function(){var t;this.startPropertyMutation(),(t=r.as(this.ref.child,h.PGMShape))?(this.paths=r.clone(t.paths),this.color=t.color,this.bounds=t.bounds):s.LegacyCoreAssert.fail("wrong pgm node type",void 0,"PGMMimicShapeNode.importProperties","PGMMimicShapeNode.swift",44),this.endPropertyMutation()},applyAnimation:function(t,e){var i;if(a.PGMMimicNode.prototype.applyAnimation.call(this,t,e),i=r.as(t,u.PGMShapeAnimation)){var n=i.interpolate(e);this.color=n.color,this.bounds=n.bounds}},calculateMarkedBounds:function(){return this.bounds},paths:{get:function(){return this._paths},set:function(t){l.TheoPath.arraysEqual(r.clone(this._paths),r.clone(t))||(this._paths=r.clone(t),this.mutateProperty(n.PROP_PATHS))}},bounds:{get:function(){return this._bounds},set:function(t){t.equal(this._bounds)||(this._bounds=t,this.mutateProperty(n.PROP_BOUNDS),this.invalidateMarkedBounds())}},color:{get:function(){return this._color},set:function(t){t!==this._color&&(this._color=t,this.mutateProperty(n.PROP_COLOR))}}}}),n)},MnRR:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("gXiO"),a=i("fNpk"),h=i("oKlP");o.TheoLine=(n=function(t,e){void 0===e&&(e=null),this.p1=t,this.p2=e||t,s.CoreObject.call(this)},r.defineClass({name:"TheoLine",ctor:n,superName:"CoreObject",props:{midpoint:function(){return this.eval(.5)},angleWith:function(t){var e=this.p2.subtract(this.p1),i=t.p2.subtract(t.p1),n=Math.atan2(e.crossProduct(i),e.dotProduct(i));return a.LegacyCoreAssert.isFalse(isNaN(n),"line angle computation returned NaN",void 0,"TheoLine.angleWith","TheoLine.swift",30),n},length:{get:function(){return this.p2.subtract(this.p1).length()}},distanceToPoint:function(t){return this.projectionOffset(t).length()},projectionOffset:function(t){return this.projectedPoint(t).subtract(t)},projectedPoint:function(t){return this.eval(this.locate(t))},transform:function(t){var e=r.clone(t.transformPoints([this.p1,this.p2]));return new n(e[0],e[1])},reverse:function(){return new n(this.p2,this.p1)},projectedPosition:function(t){var e=this.projectedPoint(t);return Math.max((e.x-this.p2.x)/(this.p1.x-this.p2.x+1e-4),(e.y-this.p2.y)/(this.p1.y-this.p2.y+1e-4))},unionWith:function(t){var e=this.locate(t.p1),i=this.locate(t.p2),o=Math.min(0,e,i),r=Math.max(1,e,i);return new n(this.eval(o),this.eval(r))},intersection:function(t){var e=(this.p1.x-this.p2.x)*(t.p1.y-t.p2.y)-(this.p1.y-this.p2.y)*(t.p1.x-t.p2.x);if(0!=e){var i=(this.p1.x*this.p2.y-this.p1.y*this.p2.x)*(t.p1.x-t.p2.x)-(this.p1.x-this.p2.x)*(t.p1.x*t.p2.y-t.p1.y*t.p2.x),n=(this.p1.x*this.p2.y-this.p1.y*this.p2.x)*(t.p1.y-t.p2.y)-(this.p1.y-this.p2.y)*(t.p1.x*t.p2.y-t.p1.y*t.p2.x);return new h.TheoPoint(i/e,n/e)}return null},extendByFactor:function(t){return new n(this.eval(-t),this.eval(1+t))},extendByFixedLength:function(t){var e=t/this.length;return new n(this.eval(-e),this.eval(1+e))},extendRayByFixedLength:function(t){var e=t/this.length;return new n(this.p1,this.eval(1+e))},eval:function(t){return new h.TheoPoint(this.p1.x*(1-t)+this.p2.x*t,this.p1.y*(1-t)+this.p2.y*t)},locate:function(t){var e=this.p2.subtract(this.p1),i=t.subtract(this.p1);return e.dotProduct(i)/e.dotProduct(e)},asString:{get:function(){return r.toString("p1:%g %g, p2:%g %g",this.p1.x,this.p1.y,this.p2.x,this.p2.y)}},description:{get:function(){return r.toString("(%g,%g)..(%g,%g)",this.p1.x,this.p1.y,this.p2.x,this.p2.y)}},equalTo:function(t){return this.p1.equal(t.p1)&&this.p2.equal(t.p2)}}}),n),o._equality_TheoLine_TheoLine=function(t,e){return t.equalTo(e)}},PCN2:function(t,e,i){var n,o=e,r=i("oAGj");o.IPGMMimicNodeBinding=r.defineProtocol("IPGMMimicNodeBinding",{destroy:"(PGMMimicNode) -> Void",insertChild:"(PGMMimicGroupNode, Integer, PGMMimicNode) -> Void",reinsertChild:"(PGMMimicGroupNode, Integer, PGMMimicNode) -> Void",removeChild:"(PGMMimicGroupNode, Integer, PGMMimicNode) -> Void",changeCompositing:"(PGMMimicNode, PGMCompositingParams, PGMCompositingParams) -> Void",changePlacement:"(PGMMimicNode, Matrix2D, Matrix2D) -> Void",changeBlendMode:"(PGMMimicNode, PGMBlendModeEnum, PGMBlendModeEnum) -> Void",changeOpacity:"(PGMMimicNode, Double, Double) -> Void",changeCTM:"(PGMMimicNode, Matrix2D, Matrix2D) -> Void",changeProperties:"(PGMMimicNode, Array<String>) -> Void",endConformSummary:"(PGMMimicNode, Array<String>, Boolean) -> Void"}),o.PGMNullMimicNodeBinding=(n=function(){},r.defineClass({name:"PGMNullMimicNodeBinding",ctor:n,statics:{_implements:function(t){return"IPGMMimicNodeBinding"==t}},props:{destroy:function(t){},insertChild:function(t,e,i){},reinsertChild:function(t,e,i){},removeChild:function(t,e,i){},changeCompositing:function(t,e,i){},changePlacement:function(t,e,i){},changeBlendMode:function(t,e,i){},changeOpacity:function(t,e,i){},changeCTM:function(t,e,i){},changeProperties:function(t,e){},endConformSummary:function(t,e,i){}}}),n)},"Q+4n":function(t,e,i){var n,o,r=e,s=i("oAGj"),a=i("gXiO");r.TheoInsets=(n=function(t,e,i,n){this.top=t,this.left=e,this.bottom=i,this.right=n,a.CoreObject.call(this)},o={},s.defineClass({name:"TheoInsets",ctor:n,superName:"CoreObject",statics:{Zero:{get:function(){return void 0===o.Zero&&(o.Zero=new n(0,0,0,0)),o.Zero}}},props:{equal:function(t){return this.top==t.top&&this.left==t.left&&this.bottom==t.bottom&&this.right==t.right},invert:function(){return new n(-this.top,-this.left,-this.bottom,-this.right)},description:{get:function(){return this.asString}},asString:{get:function(){return s.toString("top: %g left: %g bottom: %g right: %g",this.top,this.left,this.bottom,this.right)}}}}),n),r._negate_TheoInsets=function(t){return t.invert()}},"Q0b+":function(t,e,i){var n,o=e,r=i("oAGj");o.IPGMMimicDocumentBinding=r.defineProtocol("IPGMMimicDocumentBinding",{createNode:"(PGMMimicDocument, PGMReference, PGMMimicConformerOptions) -> PGMMimicNode",beginConform:"(PGMMimicDocument, PGMMimicDisplayState, PGMMimicDisplayState) -> Void",endConform:"(PGMMimicDocument, PGMMimicDisplayState, PGMMimicDisplayState) -> Void",setRoot:"(PGMMimicDocument, PGMMimicNode) -> Void"}),o.PGMNullDocumentMimicBinding=(n=function(){},r.defineClass({name:"PGMNullDocumentMimicBinding",ctor:n,statics:{_implements:function(t){return"IPGMMimicDocumentBinding"==t}},props:{createNode:function(t,e,i){return null},beginConform:function(t,e,i){},endConform:function(t,e,i){},setRoot:function(t,e){}}}),n)},R7T4:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("gXiO"),a=i("0lVD"),h=i("zbBQ"),u=i("sHEF");o.PGMMimicEngine=(n=function(t,e){this._current=u.PGMMimicDisplayState.EMPTY,this._next=u.PGMMimicDisplayState.EMPTY,void 0===e&&(e=a.PGMMimicConformerOptions.DEFAULT),this.client=t,this.document=new h.PGMMimicDocument(t),this.conformOptions=e,s.CoreObject.call(this)},r.defineClass({name:"PGMMimicEngine",ctor:n,superName:"CoreObject",props:{graph:{get:function(){return this._next.graph},set:function(t){this._next=new u.PGMMimicDisplayState(t,this._next.time)}},time:{get:function(){return this._next.time},set:function(t){this._next=new u.PGMMimicDisplayState(this._next.graph,t)}},conform:function(){a.PGMMimicConformer.conform(this.document,this._current,this._next,this.conformOptions),this._current=this._next}}}),n)},RSS6:function(t,e,i){var n,o,r=e,s=i("oAGj"),a=i("ZhwN"),h=i("fNpk"),u=i("tGKA"),c=i("Ird5"),l=i("WjWV"),d=i("jLWG"),p=i("rKjb"),f=i("dmHI"),m=i("9MJV"),P=i("sq5L"),T=i("WGnI"),g=i("jSYS"),_=i("yjxF"),M=i("WUDy"),y=i("Aj79"),v=i("sJQG"),R=i("Ucb9"),C=i("9K9k"),E=i("g6aL"),O=i("bAjp"),A=i("f/aw"),w=i("zW52"),N=i("mj5y"),x=i("hgLm"),S=i("sIWg");r.EntityMap=(n=function(t){this.node=t;var e={};!function t(i){var n;null==e[i.entity]&&(e[i.entity]=i,(n=s.as(i,p.PGMComposite))&&n.children.forEach((function(e){return t(e.child)})))}(t),this.entityMap=s.clone(e)},s.defineClass({name:"EntityMap",ctor:n,props:{findEntity:function(t){return this.entityMap[t]}}}),n),r.PGMGraphDiffer=(o=function(t,e,i,n){void 0===n&&(n=null),this.graphA=t,this.graphB=e,this.duration=i,this.timeFn=n||new g.PGMLinearFunction(new v.PGMRange(0,i),v.PGMRange.UNIT);var o=new r.EntityMap(t.root),a={};!function t(e){var i,n,r;if(n=a[e.entity])i=n;else if(r=o.findEntity(e.entity)){var u;if(r.isEqualTo(e))i=r;else if(u=s.as(e,T.PGMLeaf))i=u.withEntity(u.entity+"-after");else if(f=s.as(e,p.PGMComposite)){for(var c=[],l=s.iter(f.children);!l.done;l.next()){var d=t((g=l.value).child);c.push(g.withChild(d))}i=f.withEntityAndChildren(e.entity+"-after",s.clone(c))}else h.LegacyCoreAssert.fail("not a leaf or composite? huh?",void 0,"PGMGraphDiffer.init","PGMGraphDiffer.swift",110),i=e}else{var f;if(e instanceof T.PGMLeaf)i=e;else if(f=s.as(e,p.PGMComposite)){c=[];for(var m=!1,P=s.iter(f.children);!P.done;P.next()){var g;(d=t((g=P.value).child))===g.child?c.push(g):(m=!0,c.push(g.withChild(d)))}i=m?f.withEntityAndChildren(e.entity,s.clone(c)):e}else h.LegacyCoreAssert.fail("not a leaf or composite, huh?",void 0,"PGMGraphDiffer.init","PGMGraphDiffer.swift",142),i=e}return a[e.entity]=i,i}(e.root),this.safeB=s.clone(a)},s.defineClass({name:"PGMGraphDiffer",ctor:o,props:{getTransitionGraph:function(){var t=this.combineRecursive(new y.PGMReference(this.graphA.root),new y.PGMReference(this.graphB.root));return new P.PGMGraph(t.child,this.graphA.bounds,N.PGMUtils.calculateDuration(t),this.graphA.resources.combine(this.graphB.resources))},combineRecursive:function(t,e){var i,n;if(t.child.entity==e.child.entity)if((i=s.as(t.child,p.PGMComposite))&&(n=s.as(e.child,p.PGMComposite))){var o,r,a,h,u,c,l=null,m=s.clone(this.combineSameEntityCompositeChildren(i,n));if((o=s.as(i,E.PGMSimpleGroup))&&(r=s.as(n,E.PGMSimpleGroup))?l=this.combineSameEntitySimpleGroups(o,r,s.clone(m)):(a=s.as(i,f.PGMFilter))&&(h=s.as(n,f.PGMFilter))?l=this.combineSameEntityFilters(a,h,s.clone(m)):(u=s.as(i,d.PGMClip))&&(c=s.as(n,d.PGMClip))&&(l=this.combineSameEntityClips(u,c,s.clone(m))),null!=l)return this.combineTransforms(t,e,l)}else if(t.child instanceof T.PGMLeaf&&e.child instanceof T.PGMLeaf)return this.combineSameEntityLeaves(t,e);return this.createCrossFade(t,e)},combineSameEntityFilters:function(t,e,i){return t.spec.isEqualTo(e.spec)?null==i?t:t.withEntityAndChildren(t.entity,s.clone(i)):null},combineSameEntityClips:function(t,e,i){return t.isEqualTo(e)||x.TheoPath.arraysEqual(s.clone(t.clipPaths),s.clone(e.clipPaths))?null==i?t:t.withEntityAndChildren(t.entity,s.clone(i)):null},combineSameEntitySimpleGroups:function(t,e,i){return null==i?t:t.withEntityAndChildren(t.entity,s.clone(i))},combineTransforms:function(t,e,i){return t.compositing.equal(e.compositing)?i===t.child?t:t.withChild(i):new y.PGMReference(i,t.compositing,t.animations.append(new w.PGMTransformAnimation(this.timeFn,N.PGMUtils.calcXBoundsForRef(t),N.PGMUtils.calcXBoundsForRef(e))))},combineSameEntityCompositeChildren:function(t,e){for(var i=0,n=0,o=[],r=0;;)if(i<t.children.length&&n<e.children.length){var s=t.children[i],a=e.children[n];if(s.child.entity==a.child.entity){var u=this.combineRecursive(s,a);o.push(u),u===s&&(r+=1),i+=1,n+=1}else{var c=e.indexOfChild(s.child.entity),l=t.indexOfChild(a.child.entity);if(null!=l&&null!=c){var d=l-i,p=c-n;d<0?(o.push(this.createFade(this.safeBRef(a),!1)),n+=1):p<0?(o.push(this.createFade(s,!1)),i+=1):p>d?(o.push(this.createFade(s,!0)),i+=1):(o.push(this.createFade(this.safeBRef(a),!0)),n+=1)}else null==l&&(null!=this.safeB[a.child.entity]?o.push(this.createFade(this.safeBRef(a),!1)):h.LegacyCoreAssert.fail("did not find a safe entity",{entity:a.child.entity},"PGMGraphDiffer.combineSameEntityCompositeChildren","PGMGraphDiffer.swift",418),n+=1),null==c&&(o.push(this.createFade(s,!0)),i+=1)}}else if(i<t.children.length)s=t.children[i],o.push(this.createFade(s,!0)),i+=1;else{if(!(n<e.children.length))break;a=e.children[n],o.push(this.createFade(this.safeBRef(a),!1)),n+=1}return r==o.length?null:o},safeBRef:function(t){var e;return(e=this.safeB[t.child.entity])?e===t.child?t:new y.PGMReference(e,t.compositing):(h.LegacyCoreAssert.fail("should always have a safe reference!",void 0,"PGMGraphDiffer.safeBRef","PGMGraphDiffer.swift",472),t)},combineSameEntityLeaves:function(t,e){var i,n,o,r;if(t.child.isEqualTo(e.child))return this.combineTransforms(t,e,t.child);if((i=s.as(t.child,O.PGMText))&&(n=s.as(e.child,O.PGMText))){if(i.canInterpolate(n))return this.combineTransforms(t,e,i.withAnimations(new c.PGMAnimationList([new A.PGMTextAnimation(this.timeFn,i.bounds,i.style,n.bounds,n.style,i.renderRuns,n.renderRuns)]).merge(i.animations)))}else if((o=s.as(t.child,R.PGMShape))&&(r=s.as(e.child,R.PGMShape))){var a=o.paths.length==r.paths.length;if(a)for(var h=s.iter(s.range(0,o.paths.length,!1));!h.done;h.next()){var u=h.value;if(o.paths[u]!=r.paths[u]){a=!1;break}}if(a)return this.combineTransforms(t,e,o.withAnimations(new c.PGMAnimationList([new C.PGMShapeAnimation(this.timeFn,o.color,o.bounds,r.color,r.bounds)]).merge(o.animations)))}return this.createCrossFade(t,e)},createFade:function(t,e){return new y.PGMReference(t.child,t.compositing,t.animations.append(new M.PGMOpacityAnimation(this.timeFn,e?1:0,e?0:1)))},createCrossFade:function(t,e){var i,n,o=this.safeB[e.child.entity];if(t.child.entity==e.child.entity){var r=N.PGMUtils.calcBounds(t.child,u.Matrix2D.Identity),s=N.PGMUtils.calcBounds(e.child,u.Matrix2D.Identity);function h(t,e,i){if(e.width==t.width&&e.height==t.height)return new w.PGMTransformedBounds(i,e);var n=e.evalXY(0,0),o=u.Matrix2D.scalingXYfromPoint(n,e.width/t.width,e.height/t.height);return new w.PGMTransformedBounds(o.concat(i),S.TheoRect.fromXYWH(n.x,n.y,t.width,t.height))}i=new y.PGMReference(t.child,t.compositing,t.animations.append(new w.PGMTransformAnimation(this.timeFn,N.PGMUtils.calcXBoundsForRef(t),h(r,s,e.compositing.placement)))),n=new y.PGMReference(o,e.compositing,e.animations.append(new w.PGMTransformAnimation(this.timeFn,h(s,r,t.compositing.placement),N.PGMUtils.calcXBoundsForRef(e))))}else i=t,n=e;return new y.PGMReference(new f.PGMFilter("crossfade-"+a.GUIDUtils.makeGUID(),_.PGMNodeMetadata.EMPTY,new c.PGMAnimationList([new m.PGMFilterAnimation(this.timeFn,new l.PGMBlendFilterSpec([1,0]),new l.PGMBlendFilterSpec([0,1]))]),[i,n],new l.PGMBlendFilterSpec([1,0])))}}}),o)},RkYL:function(t,e,i){var n,o,r=e,s=i("oAGj"),a=i("gXiO"),h=i("fNpk");r.TheoTime=(n=function(t,e){this.value=t,h.LegacyCoreAssert.isTrue(0!=e,"TheoTime 0 timescale is invalid!",void 0,"TheoTime.init","TheoTime.swift",26),this.timescale=e,a.CoreObject.call(this)},o={},s.defineClass({name:"TheoTime",ctor:n,superName:"CoreObject",statics:{Zero:{get:function(){return void 0===o.Zero&&(o.Zero=new n(0,30)),o.Zero}},One:{get:function(){return void 0===o.One&&(o.One=new n(1,30)),o.One}},kSecondsEpsilon:.01,fromSecondsAsMs:function(t){return n.fromSeconds(t,1e3)},fromSeconds:function(t,e){return void 0===e&&(e=n.Zero.timescale),new n(s.toInt(t*s.toDouble(e)),e)},fromTimeInTimescale:function(t,e){return t.timescale==e?t.clone():n.fromSeconds(t.seconds,t.timescale)},earlier:function(t,e){return t.earlierThan(e)?t:e},later:function(t,e){return t.laterThan(e)?t:e},decodeJson:function(t){return null==t?null:(e=s.as(t,["Array","Int"]))?2!=e.length?(h.LegacyCoreAssert.fail("TheoTime: data is not an array with 2 elements",void 0,"TheoTime.decodeJson","TheoTime.swift",227),null):new n(e[0],e[1]):(h.LegacyCoreAssert.fail("TheoTime: data is not an array",void 0,"TheoTime.decodeJson","TheoTime.swift",234),null);var e}},props:{clone:function(){return new n(this.value,this.timescale)},seconds:{get:function(){return h.LegacyCoreAssert.isTrue(0!=this.timescale,"TheoTime 0 timescale is invalid when trying to get seconds!",void 0,"TheoTime","TheoTime.swift",65),0==this.timescale?0:s.toDouble(this.value)/s.toDouble(this.timescale)}},isZero:{get:function(){return 0==this.value}},equals:function(t){return this.value==t.value&&this.timescale==t.timescale},secondsEqual:function(t){return this.timescale==t.timescale?this.value==t.value:Math.abs(this.seconds-t.seconds)<n.kSecondsEpsilon},laterThan:function(t){return this.timescale==t.timescale?this.value>t.value:this.seconds-t.seconds>=n.kSecondsEpsilon},laterThanOrEqual:function(t){return this.timescale==t.timescale?this.value>=t.value:this.laterThan(t)||this.secondsEqual(t)},earlierThan:function(t){return this.timescale==t.timescale?this.value<t.value:t.seconds-this.seconds>=n.kSecondsEpsilon},earlierThanOrEqual:function(t){return this.timescale==t.timescale?this.value<=t.value:this.earlierThan(t)||this.secondsEqual(t)},add:function(t){return t.timescale==this.timescale?new n(this.value+t.value,this.timescale):new n(this.value+s.toInt(s.toDouble(this.timescale)*t.seconds),this.timescale)},addSeconds:function(t){return new n(this.value+s.toInt(s.toDouble(this.timescale)*t),this.timescale)},addVal:function(t){return new n(this.value+t,this.timescale)},subtract:function(t){if(t.timescale==this.timescale)return h.LegacyCoreAssert.isTrue(this.value>=t.value,"current time is greater",void 0,"TheoTime.subtract","TheoTime.swift",168),new n(this.value-t.value,this.timescale);var e=s.toInt(s.toDouble(this.timescale)*t.seconds);return h.LegacyCoreAssert.isTrue(this.value>=e,"current time is greater",void 0,"TheoTime.subtract","TheoTime.swift",174),new n(this.value-e,this.timescale)},safeSubtract:function(t){if(t.timescale==this.timescale)return new n(Math.max(this.value-t.value,0),this.timescale);var e=s.toInt(s.toDouble(this.timescale)*t.seconds);return new n(Math.max(this.value-e,0),this.timescale)},unsafeSubtract:function(t){return t.timescale==this.timescale?new n(this.value-t.value,this.timescale):new n(this.value-s.toInt(s.toDouble(this.timescale)*t.seconds),this.timescale)},multiply:function(t){return new n(s.toInt(s.toDouble(this.value)*t),this.timescale)},encodeJson:function(){return s.as([this.value,this.timescale],"AnyObject")}}}),n)},ThKb:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("gXiO"),a=i("iCxV"),h=i("fNpk"),u=i("1NAc");o.TheoMatrix=(n=function(t){if(this.m=r.clone(t),t.length>0){0==t[0].length?(this.cols=0,this.rows=0):(this.cols=t[0].length,this.rows=t.length);for(var e=r.iter(t);!e.done;e.next()){var i=e.value;h.LegacyCoreAssert.isTrue(this.cols==i.length,"row lengths do not match",void 0,"TheoMatrix.init","TheoMatrix.swift",32)}}else this.rows=0,this.cols=0;s.CoreObject.call(this)},r.defineClass({name:"TheoMatrix",ctor:n,superName:"CoreObject",statics:{E_DOUBLE:2.718281828459045,empty:function(){return new n([[]])},zeros:function(t,e){for(var i=[],o=r.iter(r.range(0,t,!1));!o.done;o.next()){for(var s=[],a=r.iter(r.range(0,e,!1));!a.done;a.next())s.push(0);i.push(r.clone(s))}return new n(r.clone(i))},ones:function(t,e){for(var i=[],o=r.iter(r.range(0,t,!1));!o.done;o.next()){for(var s=[],a=r.iter(r.range(0,e,!1));!a.done;a.next())s.push(1);i.push(r.clone(s))}return new n(r.clone(i))},decodeJson:function(t){return null==t?null:(e=r.as(t,["Array","Any"]))?new n(r.clone(e)):null;var e},createMatrixFromList:function(t,e,i){h.LegacyCoreAssert.isTrue(t.length==e*i,"incorrect number of list items to create matrix from",void 0,"TheoMatrix.createMatrixFromList","TheoMatrix.swift",404);for(var o=[],s=r.iter(r.range(0,i,!1));!s.done;s.next()){for(var a=s.value,u=[],c=r.iter(r.range(0,e,!1));!c.done;c.next()){var l=c.value;u.push(t[a*e+l])}o.push(r.clone(u))}return new n(r.clone(o))}},props:{value:function(t,e){return t<this.rows&&e<this.cols?this.m[t][e]:(h.LegacyCoreAssert.fail("out of bounds",void 0,"TheoMatrix.value","TheoMatrix.swift",51),0)},setValue:function(t,e,i){t<this.rows&&e<this.cols?this.m[t][e]=i:h.LegacyCoreAssert.fail("out of bounds",void 0,"TheoMatrix.setValue","TheoMatrix.swift",61)},setRowValue:function(t,e){if(t<this.rows)for(var i=r.iter(r.range(0,this.cols,!1));!i.done;i.next()){var n=i.value;this.m[t][n]=e}else h.LegacyCoreAssert.fail("out of bounds",void 0,"TheoMatrix.setRowValue","TheoMatrix.swift",72)},setColValue:function(t,e){if(t<this.cols)for(var i=r.iter(r.range(0,this.rows,!1));!i.done;i.next()){var n=i.value;this.m[n][t]=e}else h.LegacyCoreAssert.fail("out of bounds",void 0,"TheoMatrix.setColValue","TheoMatrix.swift",82)},sum:function(){return this.isEmpty()?null:this.sumDim(1).sumDim(0).value(0,0)},maxElement:function(){return this.isEmpty()?null:r.max(this.asFlatArray)},minElement:function(){return this.isEmpty()?null:r.min(this.asFlatArray)},sumRows:function(){return this.sumDim(0)},sumColumns:function(){return this.sumDim(1)},size:{get:function(){return new u.TheoSize(r.toDouble(this.cols),r.toDouble(this.rows))}},width:{get:function(){return this.cols}},height:{get:function(){return this.rows}},numElements:{get:function(){return this.cols*this.rows}},sumRegion:function(t){if(!(t.minX>=0&&t.minY>=0&&r.toInt(t.maxX)<=this.cols&&r.toInt(t.maxY)<=this.rows))return r.opt(a.Host.logging,(function(t){return t.warning("out of bounds")})),0;var e=r.toInt(t.minX),i=r.toInt(t.minY),n=r.toInt(t.maxX),o=r.toInt(t.maxY),s=0;if(e>=n||i>=o)return 0;for(var h=r.iter(r.range(e,n,!1));!h.done;h.next())for(var u=h.value,c=r.iter(r.range(i,o,!1));!c.done;c.next()){var l=c.value;s+=this.m[l][u]}return s},sumDim:function(t){if(void 0===t&&(t=null),null==t)return this.sumRows().sumColumns();if(1==t){for(var e=[],i=r.iter(this.m);!i.done;i.next()){var o=i.value;e.push([o.reduce((function(t,e){return t+e}),0)])}return new n(r.clone(e))}if(0==t){e=[];for(var s=r.iter(r.range(0,this.cols,!1));!s.done;s.next()){for(var a=s.value,u=0,c=r.iter(r.range(0,this.rows,!1));!c.done;c.next()){var l=c.value;u+=this.m[l][a]}e.push(u)}return new n([e])}return h.LegacyCoreAssert.fail("Only 2 dimensional matrices are supported at the moment",void 0,"TheoMatrix.sumDim","TheoMatrix.swift",193),n.empty()},isEmpty:function(){return 0==this.rows&&0==this.cols},matrixMultiply:function(t){var e=[];if(this.cols!=t.rows)return h.LegacyCoreAssert.fail("matrices do not have correct dimensions",void 0,"TheoMatrix.matrixMultiply","TheoMatrix.swift",209),n.empty();for(var i=r.iter(r.range(0,this.rows,!1));!i.done;i.next()){for(var o=i.value,s=[],a=r.iter(r.range(0,t.cols,!1));!a.done;a.next()){for(var u=a.value,c=0,l=r.iter(r.range(0,t.rows,!1));!l.done;l.next()){var d=l.value;c+=this.m[o][d]*t.value(d,u)}s.push(c)}e.push(r.clone(s))}var p=new n(r.clone(e));return h.LegacyCoreAssert.isTrue(p.rows==this.rows,"rows do not match",void 0,"TheoMatrix.matrixMultiply","TheoMatrix.swift",228),h.LegacyCoreAssert.isTrue(p.cols==t.cols,"cols do not match",void 0,"TheoMatrix.matrixMultiply","TheoMatrix.swift",229),p},multiply:function(t){for(var e=[],i=r.iter(r.range(0,this.rows,!1));!i.done;i.next()){for(var o=i.value,s=this.m[o].concat(),a=r.iter(r.range(0,this.cols,!1));!a.done;a.next()){var h=a.value;s[h]=s[h]*t.value(1==t.rows?0:o,h)}e.push(r.clone(s))}return new n(r.clone(e))},multiplyConstant:function(t){var e=this,i=this.m.map((function(i){return i.map((function(e){return e*t}),e)}),this);return new n(r.clone(i))},divide:function(t){var e=this,i=t.m.map((function(t){return t.map((function(t){return 1/t}),e)}),this);return this.multiply(new n(r.clone(i)))},exp:function(){var t=this,e=this.m.map((function(e){return e.map((function(t){return Math.pow(n.E_DOUBLE,t)}),t)}),this);return new n(r.clone(e))},squared:function(){var t=this,e=this.m.map((function(e){return e.map((function(t){return t*t}),t)}),this);return new n(r.clone(e))},squareRoot:function(){var t=this,e=this.m.map((function(e){return e.map((function(t){return Math.sqrt(t)}),t)}),this);return new n(r.clone(e))},matrixLog:function(){var t=this,e=this.m.map((function(e){return e.map((function(t){return Math.log(t)}),t)}),this);return new n(r.clone(e))},sigmoid:function(){var t=this,e=this.m.map((function(e){return e.map((function(t){return 1/(1+Math.pow(n.E_DOUBLE,-1*t))}),t)}),this);return new n(r.clone(e))},relu:function(){var t=this,e=this.m.map((function(e){return e.map((function(t){return Math.max(0,t)}),t)}),this);return new n(r.clone(e))},add:function(t){for(var e=[],i=r.iter(r.range(0,this.rows,!1));!i.done;i.next()){for(var o=i.value,s=this.m[o].concat(),a=r.iter(r.range(0,this.cols,!1));!a.done;a.next()){var h=a.value;s[h]+=t.value(1==t.rows?0:o,h)}e.push(r.clone(s))}return new n(r.clone(e))},addConstant:function(t){var e=this,i=this.m.map((function(i){return i.map((function(e){return e+t}),e)}),this);return new n(r.clone(i))},subtract:function(t){return this.add(t.multiplyConstant(-1))},transpose:function(){for(var t=[],e=r.iter(r.range(0,this.cols,!1));!e.done;e.next()){for(var i=e.value,o=[],s=r.iter(r.range(0,this.rows,!1));!s.done;s.next()){var a=s.value;o.push(this.m[a][i])}t.push(r.clone(o))}return new n(r.clone(t))},concatenateRows:function(t){return h.LegacyCoreAssert.fail("not implemented yet",void 0,"TheoMatrix.concatenateRows","TheoMatrix.swift",337),n.empty()},concatenateColumns:function(t){return h.LegacyCoreAssert.fail("not implemented yet",void 0,"TheoMatrix.concatenateColumns","TheoMatrix.swift",342),n.empty()},asArray:{get:function(){return this.m}},asFlatArray:{get:function(){return this.m.reduce((function(t,e){return t.concat(e)}),[])}},encodeJson:function(){return r.as(this.m,"AnyObject")}}}),n)},Ucb9:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("fNpk"),a=i("sq5L"),h=i("WGnI"),u=i("Zifs"),c=i("hgLm");o.PGMShape=(n=function t(e,i,n,o,s,a){this.paths=r.clone(s),this.color=a,h.PGMLeaf.call(this,t.TYPE,e,i,n,o)},r.defineClass({name:"PGMShape",ctor:n,superName:"PGMLeaf",statics:{TYPE:"pgm-shape",PROP_PATHS:"paths",PROP_COLOR:"color",decodeLeaf:function(t,e,i,o,h,l,d){var p,f;if(s.LegacyCoreAssert.isTrue(e==n.TYPE,"can only decode PGM shapes",void 0,"PGMShape.decodeLeaf","PGMShape.swift",90),(p=r.as(t[n.PROP_PATHS],["Array","Any"]))&&(f=u.SolidColor.decodeJson(r.as(t[n.PROP_COLOR],"AnyObject")))){for(var m=[],P=r.iter(p);!P.done;P.next()){var T,g=P.value;(T=c.TheoPath.decodeJson(r.as(g,"AnyObject")))&&m.push(T)}return new n(i,o,h,l,r.clone(m),f)}return d.error(a.PGMError.BAD_SHAPE,"missing required property on shape node"),null}},props:{encode:function(){for(var t=h.PGMLeaf.prototype.encode.call(this),e=[],i=r.iter(this.paths);!i.done;i.next()){var o=i.value;e.push(o.encodeJson())}return t[n.PROP_PATHS]=e,t[n.PROP_COLOR]=this.color.encodeJson(),t},withEntity:function(t){return new n(t,this.meta,this.animations,this.bounds,r.clone(this.paths),this.color)},withAnimations:function(t){return t===this.animations?this:new n(this.entity,this.meta,t,this.bounds,r.clone(this.paths),this.color)}}}),n)},V93b:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("fNpk"),a=i("rtbu");o.PGMMimicGroupNode=(n=function(t,e,i,n){this.children=[],a.PGMMimicNode.call(this,t,e,i,n)},r.defineClass({name:"PGMMimicGroupNode",ctor:n,superName:"PGMMimicNode",props:{insertChild:function(t,e){if(t<0||t>this.children.length)s.LegacyCoreAssert.fail("invalid index for insertChild",void 0,"PGMMimicGroupNode.insertChild","PGMMimicGroupNode.swift",27);else{if(e.parent===this){var i;if(null==(i=r.indexOf(this.children,e)))return void s.LegacyCoreAssert.fail("internal inconsistency",void 0,"PGMMimicGroupNode.insertChild","PGMMimicGroupNode.swift",45);if(i==t)return;this.binding.reinsertChild(this,t,e),this.children.splice(i,1),this.children.splice(t>i?t-1:t,0,e),this.invalidateMarkedBounds()}else e.removeFromTree(),this.binding.insertChild(this,t,e),e.setAsChildOf(this),this.children.splice(t,0,e),this.invalidateMarkedBounds();this.recordMutation(a.PGMMimicMutation.HIERARCHY_CHILDREN)}},removeChild:function(t){var e;null!=(e=r.indexOf(this.children,t))?(this.binding.removeChild(this,e,t),this.children.splice(e,1),t.setAsDetached(),this.invalidateMarkedBounds(),this.recordMutation(a.PGMMimicMutation.HIERARCHY_CHILDREN)):s.LegacyCoreAssert.fail("can't remove a child that isn't a child",void 0,"PGMMimicGroupNode.removeChild","PGMMimicGroupNode.swift",68)},updateCTM:function(){a.PGMMimicNode.prototype.updateCTM.call(this),this.children.forEach((function(t){return t.updateCTM()}))},calculateMarkedBounds:function(){var t=null;return this.children.forEach((function(e){var i;if(i=e.markedBounds){var n=e.compositing.placement.transformRect(i);t=r.opt(t,(function(t){return t.unionWith(n)}))||n}})),t},destroy:function(){for(;this.children.length>0;)this.children[0].destroy();a.PGMMimicNode.prototype.destroy.call(this)},visit:function(t){var e=a.PGMMimicNode.prototype.visit.call(this,t);if(null!=e)return e;for(var i=r.iter(this.children);!i.done;i.next())if(null!=(e=i.value.visit(t)))return e;return null},visitPostOrder:function(t){for(var e=r.iter(this.children);!e.done;e.next()){var i;if(i=e.value.visitPostOrder(t))return i}return t(this)?this:null},endConformSummary:function(t){for(var e=!1,i=r.iter(this.children);!i.done;i.next())i.value.endConformSummary(t)&&(e=!0);return a.PGMMimicNode.prototype.endConformSummary.call(this,e)}}}),n)},W6ub:function(t,e,i){var n,o,r=e,s=i("oAGj"),a=i("qyrT");r.PROPERTY_FILLCOLORS="fill-colors",r.PROPERTY_STROKECOLORS="stroke-colors",r.PGMRenderRuns=(n=function(){},o={},s.defineClass({name:"PGMRenderRuns",ctor:n,superName:"CoreObject",statics:{EMPTY:{get:function(){return void 0===o.EMPTY&&(o.EMPTY=n.init_9b49(a.PGMSolidColorRuns.init_d41d(),a.PGMSolidColorRuns.init_d41d())),o.EMPTY}},decode:function(t){var e;if(e=t){var i=a.PGMSolidColorRuns.decode(s.as(e[r.PROPERTY_FILLCOLORS],["Array","Any"])),o=a.PGMSolidColorRuns.decode(s.as(e[r.PROPERTY_STROKECOLORS],["Array","Any"]));return n.init_9b49(i,o)}return null}},props:{init_9b49:function(t,e){this.fillColors=t,this.strokeColors=e},init_378c:function(t){this.fillColors=a.PGMSolidColorRuns.init_3338(t.fillColors),this.strokeColors=a.PGMSolidColorRuns.init_3338(t.strokeColors)},isEmpty:function(){return 0==this.fillColors.runArrays.length&&0==this.strokeColors.runArrays.length},interpolate:function(t,e){return n.init_9b49(this.fillColors.interpolate(t.fillColors,e),this.strokeColors.interpolate(t.strokeColors,e))},asString:{get:function(){return"Fill:"+this.fillColors.asString+" Stroke:"+this.strokeColors.asString}},encode:function(){var t={};return t[r.PROPERTY_FILLCOLORS]=this.fillColors.encode(),t[r.PROPERTY_STROKECOLORS]=this.strokeColors.encode(),t},isEqualTo:function(t){return this===t||this.asString==t.asString}}}),n)},WGnI:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("xcIW"),a=i("sq5L"),h=i("bauG"),u=i("tlHl"),c=i("hauK"),l=i("Ucb9"),d=i("ZA1K"),p=i("bAjp"),f=i("s3Tu"),m=i("sIWg");r.gvar(o,"ALL_PGM_LEAF_TYPES",(function(){return[h.PGMImage.TYPE,f.PGMVideo.TYPE,s.PGMAudio.TYPE,d.PGMSVG.TYPE,p.PGMText.TYPE,l.PGMShape.TYPE]})),o.PGMLeaf=(n=function(t,e,i,n,o){this.bounds=o,c.PGMNode.call(this,t,e,i,n)},r.defineClass({name:"PGMLeaf",ctor:n,superName:"PGMNode",statics:{PROP_BOUNDS:"bounds",decodeNode:function(t,e,i,s,h,c,d){if(!o.ALL_PGM_LEAF_TYPES.includes(e))return null;var f;if(f=m.TheoRect.decodeJson(r.as(t[n.PROP_BOUNDS],"AnyObject")))switch(e){case"pgm-image":case"pgm-video":case"pgm-audio":case"pgm-svg":return u.PGMMedia.decodeLeaf(t,e,i,s,h,f,d);case"pgm-text":return p.PGMText.decodeLeaf(t,e,i,s,h,f,c,d);case"pgm-shape":return l.PGMShape.decodeLeaf(t,e,i,s,h,f,d);default:return d.error(a.PGMError.UNKNOWN_NODE_TYPE,"internal PGM error: list of types is not exhaustive"),null}return d.error(a.PGMError.BAD_NODE,"missing bounds property for PGMLeaf"),null}},props:{isEqualTo:function(t){return this===t||!!(e=r.as(t,n))&&this.bounds.equal(e.bounds)&&c.PGMNode.prototype.isEqualTo.call(this,t);var e},encode:function(){var t=c.PGMNode.prototype.encode.call(this);return t[n.PROP_BOUNDS]=this.bounds.encodeJson(),t}}}),n)},YFY8:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("fNpk"),a=i("rKjb"),h=i("sq5L");o.PGMGraphEncoder=(n=function(){},r.defineClass({name:"PGMGraphEncoder",ctor:n,statics:{kotlin_workaround:null,encode:function(t){var e={};if(!t.canBeEncoded)return s.LegacyCoreAssert.fail("graph cannot be encoded because it failed entity validation",void 0,"PGMGraphEncoder.encode","PGMGraphEncoder.swift",25),e;var i={},n={},o={};return function t(e){var s,h;if(i[e.entity]=e.encode(),s=r.as(e,a.PGMComposite))for(var u=r.iter(s.children);!u.done;u.next()){var c=u.value;null==i[c.child.entity]&&t(c.child)}if(h=e.getTextStylesReferenced())for(var l=r.iter(h);!l.done;l.next()){var d=l.value;null==o[d.font.postScriptName]&&(o[d.font.postScriptName]=d.font.encode()),null==n[d.key]&&(n[d.key]=d.encode())}}(t.root),e[h.PGMGraph.PROP_VERSION]=h.PGMGraph.CURRENT_VERSION,e[h.PGMGraph.PROP_ROOT_ENTITY]=t.root.entity,e[h.PGMGraph.PROP_ENTITIES]=i,e[h.PGMGraph.PROP_TEXT_STYLES]=n,e[h.PGMGraph.PROP_FONTS]=o,e[h.PGMGraph.PROP_DURATION]=t.duration,e[h.PGMGraph.PROP_BOUNDS]=t.bounds.encodeJson(),e[h.PGMGraph.PROP_RESOURCES]=t.resources.encode(),e}}}),n)},Yspk:function(t,e,i){var n,o,r=e,s=i("oAGj"),a=i("gXiO"),h=i("RkYL");r.TheoTimeRange=(n=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null);var i=t||h.TheoTime.Zero;this.start=i,this.end=e||i,a.CoreObject.call(this)},o={},s.defineClass({name:"TheoTimeRange",ctor:n,superName:"CoreObject",statics:{Empty:{get:function(){return void 0===o.Empty&&(o.Empty=new n),o.Empty}},makeFromSeconds:function(t,e){return new n(h.TheoTime.fromSecondsAsMs(t),h.TheoTime.fromSecondsAsMs(e))},makeFromStartSeconds:function(t){return new n(h.TheoTime.fromSecondsAsMs(t))},makeFromStartAndDuration:function(t,e){return new n(t,t.add(e))},makeFromStartAndDurationSeconds:function(t,e){return n.makeFromSeconds(t,t+e)},makeFromDuration:function(t){return new n(h.TheoTime.Zero,t)},makeFromDurationSeconds:function(t){return n.makeFromDuration(h.TheoTime.fromSecondsAsMs(t))}},props:{isValid:{get:function(){return this.end.laterThan(this.start)||this.isEmpty}},isEmpty:{get:function(){return this.start.secondsEqual(this.end)}},isZero:{get:function(){return this.start.isZero&&this.end.isZero}},duration:{get:function(){return this.end.unsafeSubtract(this.start)}},durationInSeconds:{get:function(){return this.duration.seconds}},equals:function(t){return this.start.secondsEqual(t.start)&&this.end.secondsEqual(t.end)},containsTime:function(t){return t.laterThanOrEqual(this.start)&&t.earlierThanOrEqual(this.end)},overlaps:function(t){return this.containsTime(t.start)||this.containsTime(t.end)||t.containsTime(this.start)||t.containsTime(this.end)},contains:function(t){return this.intersect(t).equals(t)},intersect:function(t){return new n(h.TheoTime.later(this.start,t.start),h.TheoTime.earlier(this.end,t.end))},union:function(t){return new n(h.TheoTime.earlier(this.start,t.start),h.TheoTime.later(this.end,t.end))},offset:function(t){return new n(this.start.addSeconds(t),this.end.addSeconds(t))},padBy:function(t,e){void 0===e&&(e=null);var i,o=new n(this.start.addSeconds(-t),this.end.addSeconds(t));return(i=e)?o.intersect(i):o}}}),n)},ZA1K:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("tlHl");o.PGMSVG=(n=function t(e,i,n,o,r){s.PGMMedia.call(this,t.TYPE,e,i,n,o,r)},r.defineClass({name:"PGMSVG",ctor:n,superName:"PGMMedia",statics:{TYPE:"pgm-svg"},props:{withEntity:function(t){return new n(t,this.meta,this.animations,this.bounds,this.contentID)}}}),n)},Zifs:function(t,e,i){var n,o,r=e,s=i("oAGj"),a=i("gXiO"),h=i("m404"),u=i("dNmX"),c=i("fNpk"),l=i("3DEm"),d=i("b1vF");r.SolidColor=(n=function(t,e,i,n){c.LegacyCoreAssert.isTrue(t>=-.01&&t<=1.01,"red out of range",void 0,"SolidColor.init","SolidColor.swift",36),c.LegacyCoreAssert.isTrue(e>=-.01&&e<=1.01,"green out of range",void 0,"SolidColor.init","SolidColor.swift",37),c.LegacyCoreAssert.isTrue(i>=-.01&&i<=1.01,"blue out of range",void 0,"SolidColor.init","SolidColor.swift",38),c.LegacyCoreAssert.isTrue(n>=0&&n<=1,"alpha out of range",void 0,"SolidColor.init","SolidColor.swift",39),this.red=t,this.green=e,this.blue=i,this.alpha=n,a.CoreObject.call(this)},o={},s.defineClass({name:"SolidColor",ctor:n,superName:"CoreObject",statics:{ZERO:{get:function(){return void 0===o.ZERO&&(o.ZERO=new n(0,0,0,0)),o.ZERO}},BLACK:{get:function(){return void 0===o.BLACK&&(o.BLACK=new n(0,0,0,1)),o.BLACK}},WHITE:{get:function(){return void 0===o.WHITE&&(o.WHITE=new n(1,1,1,1)),o.WHITE}},fromAlphaOverride:function(t,e){return new n(t.red,t.green,t.blue,e)},decodeJson:function(t){if(null==t)return null;var e=s.as(t,["Dictionary","String","Any"]);if(null==e)return c.LegacyCoreAssert.fail("SolidColor.decodeJson: object passed isn't a dictionary",void 0,"SolidColor.decodeJson","SolidColor.swift",306),null;var i=s.as(e.red,"Double"),o=s.as(e.green,"Double"),r=s.as(e.blue,"Double"),a=s.as(e.alpha,"Double");return null==i||null==o||null==r||null==a?(c.LegacyCoreAssert.fail("SolidColor.decodeJson: object passed is missing one or more red/green/blue/alpha parameters",void 0,"SolidColor.decodeJson","SolidColor.swift",316),null):new n(i,o,r,a)}},props:{blend:function(t,e){return new n(t.red*e+this.red*(1-e),t.green*e+this.green*(1-e),t.blue*e+this.blue*(1-e),this.alpha)},interpolate:function(t,e){return new n(t.red*e+this.red*(1-e),t.green*e+this.green*(1-e),t.blue*e+this.blue*(1-e),t.alpha*e+this.alpha*(1-e))},withAlphaOf:function(t){return t==this.alpha?this:new n(this.red,this.green,this.blue,t)},darkenForTint:function(){var t=this.asLAB;return new u.LABColor(Math.max(5,t.l-25),t.a,t.b,this.alpha).asRGB},lightenForTint:function(){var t=this.asLAB;return new u.LABColor(Math.min(95,t.l+25),t.a,t.b,this.alpha).asRGB},distanceTo:function(t){return this.asLAB.distanceTo(t.asLAB)},rgbDistanceTo:function(t){return l.MathUtils.absDouble(this.red-t.red)+l.MathUtils.absDouble(this.green-t.green)+l.MathUtils.absDouble(this.blue-t.blue)},asLAB:{get:function(){return null==this.lab_&&(this.lab_=u.LABColor.fromRGB(this),null==this.lab_&&(c.LegacyCoreAssert.fail("LABColor.fromRGB returns nil",void 0,"SolidColor","SolidColor.swift",131),this.lab_=u.LABColor.fromRGB(n.BLACK))),this.lab_}},lightness:{get:function(){return this.asLAB.l}},contrasts:function(t,e){void 0===e&&(e=!0);var i=this.lightness;this.alpha<1&&(i=t.blend(this,this.alpha).lightness);var n=40;return e||(n=i<50?20:10),l.MathUtils.absDouble(i-t.lightness)>n},lightnessDifference:function(t){var e=this.lightness;return this.alpha<1&&(e=t.blend(this,this.alpha).lightness),l.MathUtils.absDouble(e-t.lightness)},perceptualDifference:function(t){var e=this;return this.alpha<1&&(e=t.blend(this,this.alpha)),e.distanceTo(t)},contrastWithColor:function(t){var e=t.lightness,i=e<60?95:e-40,n=this.asLAB;return new u.LABColor(i,n.a,n.b,this.alpha).asRGB},contrastWithSelf:function(){var t=this.lightness<55?100:this.lightness-50,e=this.asLAB;return new u.LABColor(t,e.a,e.b,this.alpha).asRGB},asHSB:{get:function(){return null==this.hsb_&&(this.hsb_=h.HSBColor.fromRGB(this)),this.hsb_}},asXYZ:{get:function(){return d.XYZColor.fromRGB(this)}},asArrayPremultipliedAlpha:{get:function(){return[this.red*this.alpha,this.green*this.alpha,this.blue*this.alpha,this.alpha]}},asArray:{get:function(){return[this.red,this.green,this.blue,this.alpha]}},isEqual:function(t){var e;return!!(e=s.as(t,n))&&(l.MathUtils.absDouble(e.red-this.red)<1e-4&&l.MathUtils.absDouble(e.green-this.green)<1e-4&&l.MathUtils.absDouble(e.blue-this.blue)<1e-4&&l.MathUtils.absDouble(e.alpha-this.alpha)<1e-4)},hash:{get:function(){return null==this.hash_&&(this.hash_=s.toInt(255*this.red+.5)+s.toInt(255*this.green+.5)<<8+s.toInt(255*this.blue+.5)<<16+s.toInt(255*this.alpha+.5)<<24),this.hash_}},encode:function(){return c.LegacyCoreAssert.fail("SolidColor: Use encodeJson(), not encode()",void 0,"SolidColor.encode","SolidColor.swift",281),[]},encodeJson:function(t){void 0===t&&(t=!1);var e={};function i(t){return Math.round(1e3*t)/1e3}return e.red=t?i(this.red):this.red,e.green=t?i(this.green):this.green,e.blue=t?i(this.blue):this.blue,e.alpha=t?i(this.alpha):this.alpha,e},print:function(){return s.toString("r: %.3f g %.3f b %.3f a: %.3f",255*this.red,255*this.green,255*this.blue,255*this.alpha)},asString:{get:function(){return this.print()}},hex:{get:function(){return s.toString("%02X%02X%02X%02X",s.toInt(255*this.red),s.toInt(255*this.green),s.toInt(255*this.blue),s.toInt(255*this.alpha))}},rgbHex:{get:function(){return s.toString("%02X%02X%02X",s.toInt(255*this.red),s.toInt(255*this.green),s.toInt(255*this.blue))}},rgbAsInt:{get:function(){return s.toInt(255*this.red)<<16|s.toInt(255*this.green)<<8|s.toInt(255*this.blue)}},rgbString:{get:function(){return s.toString("%03d%03d%03d",s.toInt(255*this.red),s.toInt(255*this.green),s.toInt(255*this.blue))}}}}),n),r._equality_SolidColor_SolidColor=function(t,e){return t.isEqual(e)}},"a/9s":function(t,e,i){var n,o=e,r=i("oAGj"),s=i("fNpk"),a=i("jLWG"),h=i("V93b"),u=i("hgLm");o.PGMMimicClipNode=(n=function(t,e,i,n){var o;(o=r.as(e.child,a.PGMClip))?this._paths=r.clone(o.clipPaths):(s.LegacyCoreAssert.fail("wrong pgm node type",void 0,"PGMMimicClipNode.init","PGMMimicClipNode.swift",23),this._paths=[]),h.PGMMimicGroupNode.call(this,t,e,i,n)},r.defineClass({name:"PGMMimicClipNode",ctor:n,superName:"PGMMimicGroupNode",statics:{PROP_PATHS:"paths"},props:{importProperties:function(){var t;this.startPropertyMutation(),(t=r.as(this.ref.child,a.PGMClip))?this.paths=r.clone(t.clipPaths):s.LegacyCoreAssert.fail("wrong pgm node type",void 0,"PGMMimicClipNode.importProperties","PGMMimicClipNode.swift",35),this.endPropertyMutation()},calculateMarkedBounds:function(){var t;if(t=h.PGMMimicGroupNode.prototype.calculateMarkedBounds.call(this)){var e=null;return this._paths.forEach((function(t){var i=t.bounds;e=r.opt(e,(function(t){return t.unionWith(i)}))||i})),null==e?null:t.intersectionWith(e)}return null},paths:{get:function(){return this._paths},set:function(t){u.TheoPath.arraysEqual(r.clone(t),r.clone(this._paths))||(this._paths=r.clone(t),this.mutateProperty(n.PROP_PATHS),this.invalidateMarkedBounds())}}}}),n)},b1vF:function(t,e,i){var n,o,r=e,s=i("oAGj"),a=i("gXiO"),h=i("Zifs");r.XYZColor=(n=function(t,e,i,n){this.x=t,this.y=e,this.z=i,this.alpha=n,a.CoreObject.call(this)},o={},s.defineClass({name:"XYZColor",ctor:n,superName:"CoreObject",statics:{D50XYZ:{get:function(){return void 0===o.D50XYZ&&(o.D50XYZ=new n(.964212,1,.825188,1)),o.D50XYZ}},D65XYZ:{get:function(){return void 0===o.D65XYZ&&(o.D65XYZ=new n(.950429,1,1.0889,1)),o.D65XYZ}},fromRGB:function(t){function e(t){return t<.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}var i=e(t.red),o=e(t.green),r=e(t.blue);return new n(.4124*i+.3576*o+.1805*r,.2126*i+.7152*o+.0722*r,.0193*i+.1192*o+.9505*r,t.alpha)}},props:{asRGB:{get:function(){return null==this.rgb_&&(this.rgb_=this.toRGB()),this.rgb_}},toRGB:function(){function t(t){return t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055}var e=t(3.2406*this.x+-1.5372*this.y+-.4986*this.z),i=t(-.9689*this.x+1.8758*this.y+.0415*this.z),n=t(.0557*this.x+-.204*this.y+1.067*this.z);return new h.SolidColor(Math.min(Math.max(e,0),1),Math.min(Math.max(i,0),1),Math.min(Math.max(n,0),1),this.alpha)}}}),n)},bAjp:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("fNpk"),a=i("sq5L"),h=i("WGnI"),u=i("hauK"),c=i("W6ub");o.PGMText=(n=function t(e,i,n,o,r,s,a){this.text=r,this.style=s,this.renderRuns=a,h.PGMLeaf.call(this,t.TYPE,e,i,n,o)},r.defineClass({name:"PGMText",ctor:n,superName:"PGMLeaf",statics:{TYPE:"pgm-text",PROP_TEXT:"text",PROP_STYLE_KEY:"style-key",PROP_RENDERRUNS:"render-runs",decodeLeaf:function(t,e,i,o,h,u,l,d){var p,f,m;if(s.LegacyCoreAssert.isTrue(e==n.TYPE,"Asked to decode non-text leaf",{type:e},"PGMText.decodeLeaf","PGMText.swift",109),null!=(p=r.as(t[n.PROP_TEXT],"String"))&&null!=(f=r.as(t[n.PROP_STYLE_KEY],"String"))&&(m=l.constructTextStyle(f,d))){var P=c.PGMRenderRuns.decode(r.as(t[n.PROP_RENDERRUNS],["Dictionary","String","Any"]))||c.PGMRenderRuns.EMPTY;return new n(i,o,h,u,p,m,P)}return d.error(a.PGMError.BAD_TEXT,"Didn't get a required input."),null}},props:{getTextStylesReferenced:function(){return[this.style]},isEqualTo:function(t){return t===this||!!(e=r.as(t,n))&&this.text==e.text&&this.style.isEqualTo(e.style)&&this.renderRuns.isEqualTo(e.renderRuns)&&h.PGMLeaf.prototype.isEqualTo.call(this,t);var e},encode:function(){var t=h.PGMLeaf.prototype.encode.call(this);return t[u.PGMNode.PROP_TYPE]=n.TYPE,t[n.PROP_TEXT]=this.text,t[n.PROP_STYLE_KEY]=this.style.key,this.renderRuns.isEmpty()||(t[n.PROP_RENDERRUNS]=this.renderRuns.encode()),t},withEntity:function(t){return new n(t,this.meta,this.animations,this.bounds,this.text,this.style,this.renderRuns)},withAnimations:function(t){return t===this.animations?this:new n(this.entity,this.meta,t,this.bounds,this.text,this.style,this.renderRuns)},canInterpolate:function(t){return this.text==t.text&&this.style.canInterpolate(t.style)}}}),n)},bJhu:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("iCxV"),a=i("sq5L"),h=i("Zifs");o.interp=function(t,e,i){return t+(e-t)*i},o.MAX_STYLE_LRU_SIZE_PER_FONT=10,o.PGMTextStyle=(n=function(t,e,i,n,o){this.key_=null,this.font=t,this.fillColor=e,this.strokeColor=i,this.strokeWidth=n,this.tracking=o},r.defineClass({name:"PGMTextStyle",ctor:n,statics:{PROP_SIZE:"size",PROP_FONT:"font",PROP_FILL_COLOR:"fill-color",PROP_STROKE_COLOR:"stroke-color",PROP_STROKE_WIDTH:"stroke-width",PROP_TRACKING:"tracking",ROUNDED_CORNER_THRESHOLD:.06,cache:{},createCacheable:function(t,e,i,s,a){var u,c,l;if((c=n.cache[t.postScriptName])?u=c:(u=[],n.cache[t.postScriptName]=u),l=u.find((function(t){return r.eq(h._equality_SolidColor_SolidColor,t.fillColor,e)&&r.eq(h._equality_SolidColor_SolidColor,t.strokeColor,i)&&t.strokeWidth==s&&t.tracking==a}),this))return u[0]!==l&&(r.remove(u,l),u.splice(0,0,l)),l;var d=new n(t,e,i,s,a);return u.splice(0,0,d),u.length>o.MAX_STYLE_LRU_SIZE_PER_FONT&&u.pop(),d},decode:function(t,e,i){var o,s,u,c,l;return(u=t)?null!=(c=r.as(u[n.PROP_FONT],"String"))&&(l=e.constructFont(c,i))?new n(l,h.SolidColor.decodeJson(r.as(u[n.PROP_FILL_COLOR],"AnyObject")),h.SolidColor.decodeJson(r.as(u[n.PROP_STROKE_COLOR],"AnyObject")),(o=r.as(u[n.PROP_STROKE_WIDTH],"Double"))||null!=o?o:0,(s=r.as(u[n.PROP_TRACKING],"Double"))||null!=s?s:0):(i.error(a.PGMError.BAD_TEXT_STYLE,"Missing required property or can't find font"),null):null}},props:{key:{get:function(){var t;if(null==this.key_){var e,i,n=[];n.push("font:"+this.font.asString),(e=this.fillColor)&&n.push("fill:"+e.asString),(i=this.strokeColor)&&n.push("stroke:"+i.asString),this.strokeWidth>0&&n.push("stroke-width:"+r.toString(this.strokeWidth)),0!=this.tracking&&n.push("tracking:"+r.toString(this.tracking));var o="PGMTextStyle("+n.join(";")+")";this.key_=(t=r.opt(s.Host.crypto,(function(t){return t.md5(o)})))||null!=t?t:o}return this.key_}},encode:function(){var t={};return t[n.PROP_FONT]=this.font.postScriptName,null!=this.fillColor&&(t[n.PROP_FILL_COLOR]=this.fillColor.encodeJson()),null!=this.strokeColor&&(t[n.PROP_STROKE_COLOR]=this.strokeColor.encodeJson()),this.strokeWidth>0&&(t[n.PROP_STROKE_WIDTH]=this.strokeWidth),0!=this.tracking&&(t[n.PROP_TRACKING]=this.tracking),t},interpOptionalColors:function(t,e,i){return null==t&&null==e?null:null==t?this.interpOptionalColors(new h.SolidColor(0,0,0,0),e,i):null==e?this.interpOptionalColors(t,new h.SolidColor(0,0,0,0),i):t.interpolate(e,i)},interpolate:function(t,e){return new n(e>.5?t.font:this.font,this.interpOptionalColors(this.fillColor,t.fillColor,e),this.interpOptionalColors(this.strokeColor,t.strokeColor,e),o.interp(this.strokeWidth,t.strokeWidth,e),o.interp(this.tracking,t.tracking,e))},canInterpolate:function(t){return this.font.isEqualTo(t.font)},isEqualTo:function(t){return this===t||this.font.isEqualTo(t.font)&&r.eq(h._equality_SolidColor_SolidColor,this.fillColor,t.fillColor)&&r.eq(h._equality_SolidColor_SolidColor,this.strokeColor,t.strokeColor)&&this.strokeWidth==t.strokeWidth&&this.tracking==t.tracking}}}),n)},bauG:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("tlHl");o.PGMImage=(n=function t(e,i,n,o,r){s.PGMMedia.call(this,t.TYPE,e,i,n,o,r)},r.defineClass({name:"PGMImage",ctor:n,superName:"PGMMedia",statics:{TYPE:"pgm-image",decodeMedia:function(t,e,i,o,r,s,a){return new n(e,i,o,r,s)}},props:{withEntity:function(t){return new n(t,this.meta,this.animations,this.bounds,this.contentID)}}}),n)},byfQ:function(t,e,i){var n,o,r,s,a,h=e,u=i("oAGj"),c=i("gXiO"),l=i("ascj"),d=i("ZhwN"),p=i("ezSu"),f=i("hgLm"),m=i("sIWg");h.TheoArtworkRenderer=u.defineProtocol("TheoArtworkRenderer",{beginGroup:"() -> Void",endGroup:"() -> Void",beginClipGroup:"(TheoPath) -> Void",endClipGroup:"() -> Void",fill:"(ColorRole, SolidColor) -> Void",stroke:"(ColorRole, SolidColor, Double) -> Void"}),h.TheoArtworkNode=(n=function(t,e){var i;this.type=e,this.uid=(i=t)||null!=i?i:d.GUIDUtils.makeGUID(),c.CoreObject.call(this)},u.defineClass({name:"TheoArtworkNode",ctor:n,superName:"CoreObject",statics:{PROPERTY_UID:"immutable-id",PROPERTY_TYPE:"type",PROPERTY_PATH:"path",PROPERTY_PATHS:"paths",PROPERTY_FILLCOLORROLE:"fill-color-role",PROPERTY_STROKECOLORROLE:"stroke-color-role",PROPERTY_FILLCOLOR:"fill-color",PROPERTY_STROKECOLOR:"stroke-color",PROPERTY_STROKEWIDTH:"stroke-width",PROPERTY_NODES:"stroke-width",PROPERTY_CHILD_NODES:"nodes",PROPERTY_OVERRIDE_BOUNDS:"override-bounds"},props:{bounds:{get:function(){return null}},render:function(t){},forEachChild:function(t){},getHash:function(){return"getHash(TODO)"},clone:function(){return new n(null,"invalid clone")},applySlicing:function(t,e,i,n,o){return this}}}),n),h.TheoArtworkShape=(o=function(){},u.defineClass({name:"TheoArtworkShape",ctor:o,superName:"TheoArtworkNode",statics:{TYPE:{get:function(){return"shape"}},fromPath:function(t){return o.init_d1d0(null,[t],l.ColorRole.FieldPrimary,l.ColorRole.None)}},props:{init_9312:function(t,e){this.fillColorRole_=l.ColorRole.None,this.strokeColorRole_=l.ColorRole.None,this.fillColor_=null,this.strokeColor_=null,this.strokeWidth_=0,this.overrideBounds_=null,this.paths_=u.clone(e),h.TheoArtworkNode.call(this,t,o.TYPE)},init_d1d0:function(t,e,i,n,r,s,a,c){void 0===r&&(r=null),void 0===s&&(s=null),void 0===a&&(a=0),void 0===c&&(c=null),this.paths_=u.clone(e),this.fillColorRole_=i,this.strokeColorRole_=n,this.fillColor_=r,this.strokeColor_=s,this.strokeWidth_=a,this.overrideBounds_=c,h.TheoArtworkNode.call(this,t,o.TYPE)},fillColorRole:{get:function(){return this.fillColorRole_}},fillColor:{get:function(){return this.fillColor_}},strokeColorRole:{get:function(){return this.strokeColorRole_}},strokeColor:{get:function(){return this.strokeColor_}},strokeWidth:{get:function(){return this.strokeWidth_}},paths:{get:function(){return this.paths_}},overrideBounds:{get:function(){return this.overrideBounds_}},bounds:{get:function(){if(null!=this.overrideBounds_)return this.overrideBounds_;if(0==this.paths_.length)return m.TheoRect.Zero;for(var t=this.paths_[0].bounds,e=u.iter(this.paths_);!e.done;e.next()){var i=e.value;t=t.unionWith(i.bounds)}return t}},applySlicing:function(t,e,i,n,r){var s=[];if(e!=t&&this.paths_.length>0){for(var a=!0,h=this.paths_[0].pathFillType,c=this.paths_[0].pathStrokeWeight,l=this.paths_[0].pathEndcapType,d=this.paths_[0].pathJoinType,m=this.paths_[0].pathMiterLimit,P=u.iter(this.paths_);!P.done;P.next())if((y=P.value).pathFillType!=h||y.pathStrokeWeight!=c||y.pathEndcapType!=l||y.pathJoinType!=d||y.pathMiterLimit!=m){a=!1;break}if(a){for(var T=f.TheoPathBuilder.init_31cf(h,l,d,c*n,m),g=new p.NineSlicingFilter(T,i||t,t,e,n,r),_=u.iter(this.paths_);!_.done;_.next())(y=_.value).render(g);s=[T.simplestForm]}else for(var M=u.iter(this.paths_);!M.done;M.next()){var y=M.value;T=f.TheoPathBuilder.init_31cf(y.pathFillType,y.pathEndcapType,y.pathJoinType,y.pathStrokeWeight*n,y.pathMiterLimit),g=new p.NineSlicingFilter(T,i||t,t,e,n,r),y.render(g),s.push(T.simplestForm)}}return o.init_d1d0(null,u.clone(s),this.fillColorRole_,this.strokeColorRole_,this.fillColor_,this.strokeColor_,this.strokeWidth_,null)},render:function(t){for(var e=u.iter(this.paths_);!e.done;e.next()){var i=e.value;if(i.render(t),i.pathFillType!=f.TheoPath.PATHFILL_NONE)t.fill(this.fillColorRole_!=l.ColorRole.None?this.fillColorRole_:l.ColorRole.FieldPrimary,this.fillColor_);else if(i.pathStrokeWeight>0){var n=null!=this.strokeColor_?this.strokeColor_:this.fillColor_,o=this.strokeColorRole_!=l.ColorRole.None?this.strokeColorRole_:l.ColorRole.FieldPrimary;t.stroke(o,n,i.pathStrokeWeight)}}},cloneWithBounds:function(t){return o.init_d1d0(null,u.clone(this.paths_),this.fillColorRole_,this.strokeColorRole_,this.fillColor_,this.strokeColor_,this.strokeWidth_,t)},clone:function(){return o.init_d1d0(null,u.clone(this.paths_),this.fillColorRole_,this.strokeColorRole_,this.fillColor_,this.strokeColor_,this.strokeWidth_,this.overrideBounds_)}}}),o),h.TheoArtworkGroup=(r=function t(e,i,n){void 0===n&&(n=t.TYPE),this.children_=u.clone(i),h.TheoArtworkNode.call(this,e,n)},u.defineClass({name:"TheoArtworkGroup",ctor:r,superName:"TheoArtworkNode",statics:{TYPE:{get:function(){return"group"}}},props:{childCount:{get:function(){return this.children_.length}},childAt:function(t){return this.children_[t]},applySlicing:function(t,e,i,n,o){var s=this.children_.map((function(r){return r.applySlicing(t,e,i,n,o)}),this);return new r(null,u.clone(s))},forEachChild:function(t){for(var e=u.iter(this.children_);!e.done;e.next())t(e.value)},children:{get:function(){return this.children_}},bounds:{get:function(){if(null==this.bounds_)for(var t=u.iter(this.children_);!t.done;t.next()){var e;(e=t.value.bounds)&&(this.bounds_=null==this.bounds_?e:this.bounds_.unionWith(e))}return this.bounds_}},render:function(t){t.beginGroup();for(var e=u.iter(this.children_);!e.done;e.next())e.value.render(t);t.endGroup()},clone:function(){var t=this.children_.map((function(t){return t.clone()}),this);return new r(null,u.clone(t))}}}),r),h.TheoArtworkClipGroup=(s=function t(e,i,n){this.path_=n,h.TheoArtworkGroup.call(this,e,u.clone(i),t.TYPE)},u.defineClass({name:"TheoArtworkClipGroup",ctor:s,superName:"TheoArtworkGroup",statics:{TYPE:{get:function(){return"clip-group"}}},props:{path:{get:function(){return this.path_}},applySlicing:function(t,e,i,n,o){if(e!=t){var r=f.TheoPathBuilder.init_d41d(),a=new p.NineSlicingFilter(r,i||t,t,e,n,o);this.path_.render(a);var h=this.children.map((function(r){return r.applySlicing(t,e,i,n,o)}),this);return new s(null,u.clone(h),r.simplestForm)}return h=this.children.map((function(r){return r.applySlicing(t,e,i,n,o)}),this),new s(null,u.clone(h),this.path_)},bounds:{get:function(){return this.path_.bounds}},render:function(t){t.beginClipGroup(this.path_),this.forEachChild((function(e){return e.render(t)})),t.endClipGroup()},clone:function(){var t=this.children.map((function(t){return t.clone()}),this);return new s(null,u.clone(t),this.path_)}}}),s),h.TheoArtworkGroupBuilder=(a=function(){this.children_=[]},u.defineClass({name:"TheoArtworkGroupBuilder",ctor:a,superName:"CoreObject",props:{init_d41d:function(){this.path_=f.TheoPath.emptyPath(),c.CoreObject.call(this)},init_d6fe:function(t){this.path_=t,c.CoreObject.call(this)},appendChild:function(t){this.children_.push(t)},insertChild:function(t,e){this.children_.splice(e,0,t)},removeChild:function(t){u.remove(this.children_,t)},clear:function(){this.children_.splice(0)},group:{get:function(){return new h.TheoArtworkGroup(null,this.children_.concat())}},clipGroup:{get:function(){return new h.TheoArtworkClipGroup(null,this.children_.concat(),this.path_)}}}}),a)},"djS+":function(t,e,i){var n,o,r=e,s=i("oAGj"),a=i("djwB"),h=i("sq5L"),u=i("WGnI"),c=i("hauK"),l=i("b94u"),d=i("bJhu"),p=i("sIWg");r.PGMGraphDecoderNodeEntry=(n=function(){this.constructing=!1,this.node=null},s.defineClass({name:"PGMGraphDecoderNodeEntry",ctor:n}),n),r.PGMGraphDecoder=(o=function(t){var e,i,n,o,r,a,c,d;this.dummy=null,this.constructedNodes={},this.constructedTextStyles={},this.constructedFonts={},this.dict=t,this.rootEntity=(e=s.as(t[h.PGMGraph.PROP_ROOT_ENTITY],"String"))||null!=e?e:"",(o=s.as(t[h.PGMGraph.PROP_ENTITIES],["Dictionary","String","Any"]))?this.entityMap=o:this.entityMap={},(r=s.as(t[h.PGMGraph.PROP_TEXT_STYLES],["Dictionary","String","Any"]))?this.styleMap=r:this.styleMap={},(a=s.as(t[h.PGMGraph.PROP_FONTS],["Dictionary","String","Any"]))?this.fontMap=a:this.fontMap={},(c=p.TheoRect.decodeJson(s.as(t[u.PGMLeaf.PROP_BOUNDS],"AnyObject")))?this.bounds=c:this.bounds=p.TheoRect.Zero,(d=s.as(t[h.PGMGraph.PROP_RESOURCES],["Dictionary","String","Any"]))?this.resources=l.PGMResourceProviderList.decode(d):this.resources=new l.PGMResourceProviderList({}),this.duration=(i=s.as(t[h.PGMGraph.PROP_DURATION],"Double"))||null!=i?i:0,this.version=(n=s.as(t[h.PGMGraph.PROP_VERSION],"Int"))||null!=n?n:0},s.defineClass({name:"PGMGraphDecoder",ctor:o,statics:{_implements:function(t){return"IPGMDecoderFactory"==t}},props:{decode:function(t){var e,i=null,n=Math.floor(s.toDouble(this.version)/1e3),o=Math.floor(s.toDouble(h.PGMGraph.CURRENT_VERSION)/1e3);return 0==n?t.error(h.PGMError.NO_VERSION,"No version property found in graph."):n>o?t.error(h.PGMError.BREAKING_VERSION,"Graph was written by a newer major version of the code; can't decode."):s.isEmpty(this.rootEntity)?t.error(h.PGMError.NO_ROOT_ENTITY,"No root entity found in dictionary."):(e=this.constructNode(this.rootEntity,t))&&(i=new h.PGMGraph(e,this.bounds,this.duration,this.resources)),i},constructNode:function(t,e){var i,n;if(i=this.constructedNodes[t])return i.constructing?(e.error(h.PGMError.CYCLIC_GRAPH,"This graph has a cycle at entity "+t),null):i.node;if(n=s.as(this.entityMap[t],["Dictionary","String","Any"])){var o=new r.PGMGraphDecoderNodeEntry;return this.constructedNodes[t]=o,o.constructing=!0,o.node=c.PGMNode.decode(n,this,e),o.constructing=!1,o.node}return e.error(h.PGMError.MISSING_ENTITY,"Entity "+t+" is referenced but does not exist"),null},constructTextStyle:function(t,e){var i,n,o;return(n=this.constructedTextStyles[t])?i=n:(o=s.as(this.styleMap[t],["Dictionary","String","Any"]))?(i=d.PGMTextStyle.decode(o,this,e),this.constructedTextStyles[t]=i):(e.error(h.PGMError.MISSING_TEXT_STYLE,"Text style with hash "+t+" is referenced but does not exist"),i=null),i},constructFont:function(t,e){var i,n,o;return(n=this.constructedFonts[t])?i=n:(o=s.as(this.fontMap[t],["Dictionary","String","Any"]))?(i=a.PGMFont.decode(o,e),this.constructedFonts[t]=i):(e.error(h.PGMError.MISSING_FONT,"Font with key "+t+" is referenced but does not exist"),i=null),i}}}),o)},djwB:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("sq5L");o.PGMFont=(n=function(t,e,i,n,o,r,s,a){this.postScriptName=t,this.cssName=e,this.style=i,this.weight=n,this.family=o,this.capRatio=r,this.ascentRatio=s,this.descentRatio=a},r.defineClass({name:"PGMFont",ctor:n,statics:{library:{},PROP_CSS_NAME:"cssName",PROP_POSTSCRIPT_NAME:"postScriptName",PROP_STYLE:"style",PROP_WEIGHT:"weight",PROP_FAMILY:"family",PROP_CAP_RATIO:"capRatio",PROP_ASCENT_RATIO:"ascent-ratio",PROP_DESCENT_RATIO:"descent-ratio",PROP_CONTENT_ID:"content-id",fromDescriptor:function(t){var e;return(e=n.library[t.postScriptName])?e:n.getOrCreate(t.postScriptName,t.cssName,t.style,t.weight,t.resolveFamily(),t.capRatio,t.ascentRatio,t.descentRatio)},getOrCreate:function(t,e,i,o,r,s,a,h){var u;if(u=n.library[t])return u;var c=new n(t,e,i,o,r,s,a,h);return n.library[t]=c,c},decode:function(t,e){var i,o,a,h,u,c,l,d,p;return(i=t)?null!=(o=r.as(i[n.PROP_POSTSCRIPT_NAME],"String"))&&null!=(a=r.as(i[n.PROP_CSS_NAME],"String"))&&null!=(h=r.as(i[n.PROP_STYLE],"String"))&&null!=(u=r.as(i[n.PROP_WEIGHT],"Int"))&&null!=(c=r.as(i[n.PROP_FAMILY],"String"))&&null!=(l=r.as(i[n.PROP_CAP_RATIO],"Double"))&&null!=(d=r.as(i[n.PROP_ASCENT_RATIO],"Double"))&&null!=(p=r.as(i[n.PROP_DESCENT_RATIO],"Double"))?n.getOrCreate(o,a,h,u,c,l,d,p):(e.error(s.PGMError.BAD_FONT,"Missing required parameter"),null):null}},props:{encode:function(){var t={};return t[n.PROP_POSTSCRIPT_NAME]=this.postScriptName,t[n.PROP_CSS_NAME]=this.cssName,t[n.PROP_STYLE]=this.style,t[n.PROP_WEIGHT]=this.weight,t[n.PROP_FAMILY]=this.family,t[n.PROP_CAP_RATIO]=this.capRatio,t[n.PROP_ASCENT_RATIO]=this.ascentRatio,t[n.PROP_DESCENT_RATIO]=this.descentRatio,t[n.PROP_CONTENT_ID]="font:"+this.postScriptName,t},asString:{get:function(){return"PGMFont(postScriptName:"+this.postScriptName+"cssName:"+this.cssName+"style:"+this.style+"weight:"+r.toString(this.weight)+";family:"+this.family+";capRatio:"+r.toString(this.capRatio)+";ascentRatio:"+r.toString(this.ascentRatio)+";descentRatio:"+r.toString(this.descentRatio)+")"}},isEqualTo:function(t){return this.postScriptName==t.postScriptName&&this.cssName==t.cssName&&this.style==t.style&&this.weight==t.weight&&this.family==t.family&&this.capRatio==t.capRatio&&this.ascentRatio==t.ascentRatio&&this.descentRatio==t.descentRatio}}}),n)},euLT:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("Ird5"),a=i("WGnI"),h=i("yjxF"),u=i("sIWg");o.PGMNullNode=(n=function t(e){a.PGMLeaf.call(this,t.TYPE,e,h.PGMNodeMetadata.EMPTY,s.PGMAnimationList.EMPTY,u.TheoRect.Zero)},r.defineClass({name:"PGMNullNode",ctor:n,superName:"PGMLeaf",statics:{TYPE:"null"},props:{withEntity:function(t){return new n(t)}}}),n)},ezSu:function(t,e,i){var n,o,r,s,a,h=e,u=i("oAGj"),c=i("sIWg");h.PathSlicingFilter=(n=function(t){this.sink=t},u.defineClass({name:"PathSlicingFilter",ctor:n,superName:"CoreObject",statics:{_implements:function(t){return"TheoPathRenderer"==t}},props:{transformX:function(t){return t},transformY:function(t){return t},rectangle:function(t,e,i,n){this.sink.rectangle(this.transformX(t),this.transformY(e),this.transformX(i),this.transformY(n))},ellipse:function(t,e,i,n){this.sink.ellipse(this.transformX(t),this.transformY(e),this.transformX(i),this.transformY(n))},newPath:function(t,e,i,n,o){this.sink.newPath(t,e,i,n,o)},moveTo:function(t,e){this.sink.moveTo(this.transformX(t),this.transformY(e))},lineTo:function(t,e){this.sink.lineTo(this.transformX(t),this.transformY(e))},cubicBezier:function(t,e,i,n,o,r){this.sink.cubicBezier(this.transformX(t),this.transformY(e),this.transformX(i),this.transformY(n),this.transformX(o),this.transformY(r))},quadraticBezier:function(t,e,i,n){this.sink.quadraticBezier(this.transformX(t),this.transformY(e),this.transformX(i),this.transformY(n))},closePath:function(){this.sink.closePath()}}}),n),h.DoubleRange=(o=function(t,e){this.lower=t,this.upper=e},u.defineClass({name:"DoubleRange",ctor:o}),o),h.NineSlicingOuterRange=(r=function(t,e){this.range=t,this.prescribedPrescale=e},u.defineClass({name:"NineSlicingOuterRange",ctor:r}),r),h.NineSlicingOuterBounds=(s=function(t,e){this.bounds=t,this.prescribedPrescale=e},u.defineClass({name:"NineSlicingOuterBounds",ctor:s}),s),h.NineSlicingFilter=(a=function(t,e,i,n,o,r){this.guides=e,this.preScale=o,this.forward=r,this.originX=n.minX-i.minX,this.originY=n.minY-i.minY,this.translateX=n.width/o-i.width,this.translateY=n.height/o-i.height,this.ratioX=1+this.translateX/e.width,this.ratioY=1+this.translateY/e.height,h.PathSlicingFilter.call(this,t)},u.defineClass({name:"NineSlicingFilter",ctor:a,superName:"PathSlicingFilter",statics:{requiredPrescaleForMapping:function(t,e,i){return e.lower<=t.lower&&e.upper<=t.lower||e.lower>=t.upper&&e.upper>=t.upper?(i.upper-i.lower)/(e.upper-e.lower):null},calculateOuterRangeForMapping:function(t,e,i,n,o){var r=0,s=0,a=(t.upper-e.upper)*i,u=(e.lower-t.lower)*i;if(n.upper>=e.upper&&(s=o.upper+(t.upper-n.upper)*i),n.lower<=e.lower)r=o.lower-(n.lower-t.lower)*i,n.upper<=e.lower?s=r+u+a:n.upper<e.upper&&(s=r+u+(o.upper-(r+u))*(e.upper-e.lower)/(n.upper-e.lower)+a);else if(n.lower<e.upper)if(n.upper<e.upper){var c=(o.upper-o.lower)/(n.upper-n.lower);r=o.lower-c*(n.lower-e.lower)-u,s=o.upper+c*(e.upper-n.upper)+a}else r=s-a-(s-a-o.lower)*(e.upper-e.lower)/(e.upper-n.lower)-u;else r=s-u-a;return new h.DoubleRange(r,s)},justOutsetTenPercent:!1,calculateOuterBoundsForMapping:function(t,e,i,n,o){var r,s,u;if(a.justOutsetTenPercent)return new h.NineSlicingOuterBounds(new c.TheoRect(o.minX-.1*o.width,o.minY-.1*o.width,o.maxX+.1*o.width,o.maxY+.1*o.width),null);var l=new h.DoubleRange(e.minX,e.maxX),d=new h.DoubleRange(e.minY,e.maxY),p=new h.DoubleRange(n.minX,n.maxX),f=new h.DoubleRange(n.minY,n.maxY),m=new h.DoubleRange(o.minX,o.maxX),P=new h.DoubleRange(o.minY,o.maxY),T=(r=a.requiredPrescaleForMapping(l,p,m))||null!=r?r:a.requiredPrescaleForMapping(d,f,P),g=a.calculateOuterRangeForMapping(new h.DoubleRange(t.minX,t.maxX),l,(s=T)||null!=s?s:i,p,m),_=a.calculateOuterRangeForMapping(new h.DoubleRange(t.minY,t.maxY),d,(u=T)||null!=u?u:i,f,P);return new h.NineSlicingOuterBounds(new c.TheoRect(g.lower,_.lower,g.upper,_.upper),T)},_implements:function(t){return"TheoPathRenderer"==t}},props:{transformX:function(t){if(this.forward){var e=0;return e=t<=this.guides.minX?t:t>=this.guides.maxX?t+this.translateX:this.guides.minX+(t-this.guides.minX)*this.ratioX,this.originX+e*this.preScale}var i=(t-this.originX)/this.preScale;return i<=this.guides.minX?i:i>=this.guides.maxX+this.translateX?i-this.translateX:this.guides.minX+(i-this.guides.minX)/this.ratioX},transformY:function(t){if(this.forward){var e=0;return e=t<=this.guides.minY?t:t>=this.guides.maxY?t+this.translateY:this.guides.minY+(t-this.guides.minY)*this.ratioY,this.originY+e*this.preScale}var i=(t-this.originY)/this.preScale;return i<=this.guides.minY?i:i>=this.guides.maxY+this.translateY?i-this.translateY:this.guides.minY+(i-this.guides.minY)/this.ratioY}}}),a)},h8iP:function(t,e,i){i("oAGj")},hgLm:function(t,e,i){var n,o,r,s,a,h,u,c,l,d,p,f,m,P,T,g,_=e,M=i("oAGj"),y=i("gXiO"),v=i("dJuF"),R=i("iCxV"),C=i("fNpk"),E=i("tGKA"),O=i("oKlP"),A=i("sIWg");_.TheoPathRenderer=M.defineProtocol("TheoPathRenderer",{rectangle:"(Double, Double, Double, Double) -> Void",ellipse:"(Double, Double, Double, Double) -> Void",newPath:"(String, String, String, Double, Double) -> Void",moveTo:"(Double, Double) -> Void",lineTo:"(Double, Double) -> Void",cubicBezier:"(Double, Double, Double, Double, Double, Double) -> Void",quadraticBezier:"(Double, Double, Double, Double) -> Void",closePath:"() -> Void"}),_.PROPERTY_TYPE="type",_.PROPERTY_FILLRULE="fillRule",_.PROPERTY_STROKEWEIGHT="strokeWeight",_.PROPERTY_JOINTYPE="joinType",_.PROPERTY_ENDTYPE="endType",_.PROPERTY_MITERLIMIT="miterLimit",_.PROPERTY_COORDS="coords",_.TheoPath=(n=function t(e,i,n,o,r,s){this.appearanceHash_=null,void 0===i&&(i=t.PATHFILL_DEFAULT),void 0===n&&(n=t.PATHEND_DEFAULT),void 0===o&&(o=t.PATHJOIN_DEFAULT),void 0===r&&(r=t.PATHSTROKE_DEFAULT),void 0===s&&(s=t.PATHMITERLIMIT_DEFFAULT),this.type=e,this.pathFillType=i,this.pathEndcapType=n,this.pathJoinType=o,this.pathStrokeWeight=r,this.pathMiterLimit=s,y.CoreObject.call(this)},o={},M.defineClass({name:"TheoPath",ctor:n,superName:"CoreObject",statics:{emptyPath:function(){return new _.TheoEmptyPath},PATHFILL_NONE:"none",PATHFILL_NONZERO:"nonzero",PATHFILL_EVENODD:"evenodd",PATHEND_BUTT:"butt",PATHEND_ROUND:"round",PATHEND_SQUARE:"square",PATHJOIN_MITER:"miter",PATHJOIN_ROUND:"round",PATHJOIN_BEVEL:"bevel",PATHFILL_DEFAULT:{get:function(){return void 0===o.PATHFILL_DEFAULT&&(o.PATHFILL_DEFAULT=n.PATHFILL_NONZERO),o.PATHFILL_DEFAULT}},PATHEND_DEFAULT:{get:function(){return void 0===o.PATHEND_DEFAULT&&(o.PATHEND_DEFAULT=n.PATHEND_BUTT),o.PATHEND_DEFAULT}},PATHJOIN_DEFAULT:{get:function(){return void 0===o.PATHJOIN_DEFAULT&&(o.PATHJOIN_DEFAULT=n.PATHJOIN_MITER),o.PATHJOIN_DEFAULT}},PATHSTROKE_DEFAULT:0,PATHMITERLIMIT_DEFFAULT:4,decodeJson:function(t){var e,i,o,r,s,a,h;if(null==t);else if(h=M.as(t,["Dictionary","String","Any"])){var u;if(null!=(u=M.as(h[_.PROPERTY_TYPE],"String"))){var c=(e=M.as(h[_.PROPERTY_FILLRULE],"String"))||null!=e?e:n.PATHFILL_DEFAULT,l=(i=M.as(h[_.PROPERTY_ENDTYPE],"String"))||null!=i?i:n.PATHEND_DEFAULT,d=(o=M.as(h[_.PROPERTY_JOINTYPE],"String"))||null!=o?o:n.PATHJOIN_DEFAULT,p=(r=M.as(h[_.PROPERTY_STROKEWEIGHT],"Double"))||null!=r?r:n.PATHSTROKE_DEFAULT,f=(s=M.as(h[_.PROPERTY_MITERLIMIT],"Double"))||null!=s?s:n.PATHMITERLIMIT_DEFFAULT;u==_.TheoEmptyPath.TYPE?a=n.emptyPath():u==_.TheoRectanglePath.TYPE?a=_.TheoRectanglePath.decodeJsonDict(h,c,l,d,p,f):u==_.TheoEllipsePath.TYPE?a=_.TheoEllipsePath.decodeJsonDict(h,c,l,d,p,f):u==_.TheoArbitraryPath.TYPE?a=_.TheoPathBuilder.decodeJsonDict(h,c,l,d,p,f):C.LegacyCoreAssert.fail("Unrecognized type",{type:u},"TheoPath.decodeJson","TheoPath.swift",126)}else C.LegacyCoreAssert.fail("No type field",void 0,"TheoPath.decodeJson","TheoPath.swift",129)}else C.LegacyCoreAssert.fail("Not a dictionary",void 0,"TheoPath.decodeJson","TheoPath.swift",132);return a},arraysEqual:function(t,e){if(t.length!=e.length)return!1;for(var i=M.iter(M.range(0,t.length,!1));!i.done;i.next()){var n=i.value;if(!t[n].isEqualTo(e[n]))return!1}return!0}},props:{bounds:{get:function(){return null}},render:function(t){},encodeJson:function(){var t={};return t[_.PROPERTY_TYPE]=this.type,t[_.PROPERTY_FILLRULE]=this.pathFillType,t[_.PROPERTY_JOINTYPE]=this.pathJoinType,t[_.PROPERTY_ENDTYPE]=this.pathEndcapType,C.LegacyCoreAssert.isFalse(isNaN(this.pathStrokeWeight),"Can't persist NaN pathStrokeWeight value",void 0,"TheoPath.encodeJson","TheoPath.swift",144),t[_.PROPERTY_STROKEWEIGHT]=this.pathStrokeWeight,C.LegacyCoreAssert.isFalse(isNaN(this.pathMiterLimit),"Can't persist NaN pathMiterLimit value",void 0,"TheoPath.encodeJson","TheoPath.swift",147),t[_.PROPERTY_MITERLIMIT]=this.pathMiterLimit,t},appearanceHash:{get:function(){var t;if(null!=(t=this.appearanceHash_))return t;var e=this.calculateAppearanceHash();return this.appearanceHash_=e,e}},calculateAppearanceHash:function(){return C.LegacyCoreAssert.fail("subclass must implement",void 0,"TheoPath.calculateAppearanceHash","TheoPath.swift",167),"not impl"},isEqualTo:function(t){return this===t||this.appearanceHash==t.appearanceHash}}}),n),_.TheoEmptyPath=(r=function t(){_.TheoPath.call(this,t.TYPE)},M.defineClass({name:"TheoEmptyPath",ctor:r,superName:"TheoPath",statics:{TYPE:{get:function(){return"empty"}}},props:{render:function(t){},calculateAppearanceHash:function(){var t;return(t=M.opt(R.Host.crypto,(function(t){return t.md5("(empty)")})))||null!=t?t:"(empty)"}}}),r),_.TheoRectanglePath=(s=function t(e,i,n,o,r,s){void 0===i&&(i=_.TheoPath.PATHFILL_DEFAULT),void 0===n&&(n=_.TheoPath.PATHEND_DEFAULT),void 0===o&&(o=_.TheoPath.PATHJOIN_DEFAULT),void 0===r&&(r=_.TheoPath.PATHSTROKE_DEFAULT),void 0===s&&(s=_.TheoPath.PATHMITERLIMIT_DEFFAULT),this.rect=e,_.TheoPath.call(this,t.TYPE,i,n,o,r,s)},M.defineClass({name:"TheoRectanglePath",ctor:s,superName:"TheoPath",statics:{TYPE:{get:function(){return"rect"}},oneByOne:function(){return new s(A.TheoRect.ONE_BY_ONE)},decodeJsonDict:function(t,e,i,n,o,r){var a;return(a=A.TheoRect.decodeJson(M.as(t[_.PROPERTY_COORDS],"AnyObject")))?new s(a,e,i,n,o,r):null}},props:{bounds:{get:function(){return this.rect}},render:function(t){t.rectangle(this.rect.minX,this.rect.minY,this.rect.maxX,this.rect.maxY)},encodeJson:function(){var t=_.TheoPath.prototype.encodeJson.call(this);return t[_.PROPERTY_COORDS]=this.rect.encodeJson(),t},calculateAppearanceHash:function(){var t,e="(rect:"+this.rect.asString+")";return(t=M.opt(R.Host.crypto,(function(t){return t.md5(e)})))||null!=t?t:e}}}),s),_.TheoEllipsePath=(a=function t(e,i,n,o,r,s){void 0===i&&(i=_.TheoPath.PATHFILL_DEFAULT),void 0===n&&(n=_.TheoPath.PATHEND_DEFAULT),void 0===o&&(o=_.TheoPath.PATHJOIN_DEFAULT),void 0===r&&(r=_.TheoPath.PATHSTROKE_DEFAULT),void 0===s&&(s=_.TheoPath.PATHMITERLIMIT_DEFFAULT),this.rect=e,_.TheoPath.call(this,t.TYPE,i,n,o,r,s)},M.defineClass({name:"TheoEllipsePath",ctor:a,superName:"TheoPath",statics:{TYPE:"ellipse",oneByOne:function(){return new a(A.TheoRect.ONE_BY_ONE)},decodeJsonDict:function(t,e,i,n,o,r){var s;return(s=A.TheoRect.decodeJson(M.as(t[_.PROPERTY_COORDS],"AnyObject")))?new a(s,e,i,n,o,r):null}},props:{bounds:{get:function(){return this.rect}},render:function(t){t.ellipse(this.rect.minX,this.rect.minY,this.rect.maxX,this.rect.maxY)},encodeJson:function(){var t=_.TheoPath.prototype.encodeJson.call(this);return t[_.PROPERTY_COORDS]=this.rect.encodeJson(),t},calculateAppearanceHash:function(){var t,e="(ellipse:"+this.rect.asString+")";return(t=M.opt(R.Host.crypto,(function(t){return t.md5(e)})))||null!=t?t:e}}}),a),_.DecodeState=(h=function(t,e){this.arr=t,this.index=e},M.defineClass({name:"DecodeState",ctor:h}),h),_.TheoPathOperation=(u=function(t){this.type=t},M.defineClass({name:"TheoPathOperation",ctor:u,statics:{decodeFromArray:function(t){return null}},props:{bounds:{get:function(){return null}},boundsFrom:function(t){return this.bounds},trailingPoint:function(){return O.TheoPoint.INVALID},render:function(t){},encodeToArray:function(t){t.push(this.type)},asString:{get:function(){return C.LegacyCoreAssert.fail("unimplemented in subclass",void 0,"TheoPathOperation","TheoPath.swift",350),"subclass, implement me"}}}}),u),_.TheoPathOpMoveTo=(c=function t(e){this.point=e,_.TheoPathOperation.call(this,t.TYPE)},M.defineClass({name:"TheoPathOpMoveTo",ctor:c,superName:"TheoPathOperation",statics:{TYPE:"M",decodeFromArray:function(t){var e=new c(new O.TheoPoint(t.arr[t.index],t.arr[t.index+1]));return t.index+=2,e}},props:{bounds:{get:function(){return A.TheoRect.fromXYWH(this.point.x,this.point.y,0,0)}},trailingPoint:function(){return this.point},render:function(t){t.moveTo(this.point.x,this.point.y)},encodeToArray:function(t){_.TheoPathOperation.prototype.encodeToArray.call(this,t),C.LegacyCoreAssert.isFalse(isNaN(this.point.x),"Can't persist NaN point.x value",void 0,"TheoPathOpMoveTo.encodeToArray","TheoPath.swift",392),C.LegacyCoreAssert.isFalse(isNaN(this.point.y),"Can't persist NaN point.y value",void 0,"TheoPathOpMoveTo.encodeToArray","TheoPath.swift",393),t.push(this.point.x),t.push(this.point.y)},asString:{get:function(){return"M "+this.point.x+" "+this.point.y}}}}),c),_.TheoPathOpLineTo=(l=function t(e){this.point=e,_.TheoPathOperation.call(this,t.TYPE)},M.defineClass({name:"TheoPathOpLineTo",ctor:l,superName:"TheoPathOperation",statics:{TYPE:"L",decodeFromArray:function(t){var e=new l(new O.TheoPoint(t.arr[t.index],t.arr[t.index+1]));return t.index+=2,e}},props:{bounds:{get:function(){return A.TheoRect.fromXYWH(this.point.x,this.point.y,0,0)}},boundsFrom:function(t){return A.TheoRect.boundsOfPoints([t,this.point])},trailingPoint:function(){return this.point},render:function(t){t.lineTo(this.point.x,this.point.y)},encodeToArray:function(t){_.TheoPathOperation.prototype.encodeToArray.call(this,t),C.LegacyCoreAssert.isFalse(isNaN(this.point.x),"Can't persist NaN point.x value",void 0,"TheoPathOpLineTo.encodeToArray","TheoPath.swift",442),C.LegacyCoreAssert.isFalse(isNaN(this.point.y),"Can't persist NaN point.y value",void 0,"TheoPathOpLineTo.encodeToArray","TheoPath.swift",443),t.push(this.point.x),t.push(this.point.y)},asString:{get:function(){return"L "+this.point.x+" "+this.point.y}}}}),l),_.TheoPathOpCubicBezier=(d=function t(e,i,n){this.pt1=e,this.pt2=i,this.point=n,_.TheoPathOperation.call(this,t.TYPE)},M.defineClass({name:"TheoPathOpCubicBezier",ctor:d,superName:"TheoPathOperation",statics:{TYPE:"C",decodeFromArray:function(t){var e=new d(new O.TheoPoint(t.arr[t.index],t.arr[t.index+1]),new O.TheoPoint(t.arr[t.index+2],t.arr[t.index+3]),new O.TheoPoint(t.arr[t.index+4],t.arr[t.index+5]));return t.index+=6,e}},props:{bounds:{get:function(){return A.TheoRect.boundsOfPoints([this.pt1,this.pt2,this.point])}},boundsFrom:function(t){var e=[t,this.point],i=M.clone(this.CubicCriticalTimes(t,this.pt1,this.pt2,this.point));return M.first(i).x>0&&M.first(i).x<1&&e.push(this.evaluateAtTime(M.first(i).x,t,this.pt1,this.pt2,this.point)),M.first(i).y>0&&M.first(i).y<1&&e.push(this.evaluateAtTime(M.first(i).y,t,this.pt1,this.pt2,this.point)),M.last(i).x>0&&M.last(i).x<1&&e.push(this.evaluateAtTime(M.last(i).x,t,this.pt1,this.pt2,this.point)),M.last(i).y>0&&M.last(i).y<1&&e.push(this.evaluateAtTime(M.last(i).y,t,this.pt1,this.pt2,this.point)),A.TheoRect.boundsOfPoints(M.clone(e))},trailingPoint:function(){return this.point},sqrtPoint:function(t){return new O.TheoPoint(Math.sqrt(t.x),Math.sqrt(t.y))},CubicCriticalTimes:function(t,e,i,n){var o=O._minus_TheoPoint_TheoPoint(e,t),r=O._minus_TheoPoint_TheoPoint(i,e),s=O._minus_TheoPoint_TheoPoint(n,i),a=O._minus_TheoPoint_TheoPoint(r,o),h=O._minus_TheoPoint_TheoPoint(s,r),u=O._minus_TheoPoint_TheoPoint(h,a),c=O._minus_TheoPoint_TheoPoint(a.multiplyPoint(a),o.multiplyPoint(u));function l(t){return Math.abs(t)<=1e-6?0:t}c=new O.TheoPoint(l(c.x),l(c.y)),a=new O.TheoPoint(l(a.x),l(a.y)),u=new O.TheoPoint(l(u.x),l(u.y));var d=this.sqrtPoint(c),p=[O._plus_TheoPoint_TheoPoint(O._negate_TheoPoint(a),d).dividePoint(u),O._minus_TheoPoint_TheoPoint(O._negate_TheoPoint(a),d).dividePoint(u)],f=O._negate_TheoPoint(o.dividePoint(a).divide(2));return 0==u.x&&0!=a.x&&(a.x>0?p[0]=new O.TheoPoint(f.x,M.first(p).y):p[1]=new O.TheoPoint(f.x,M.last(p).y)),0==u.y&&0!=a.y&&(a.y>0?p[0]=new O.TheoPoint(M.first(p).x,f.y):p[1]=new O.TheoPoint(M.last(p).x,f.y)),p},evaluateAtTime:function(t,e,i,n,o){return O._plus_TheoPoint_TheoPoint(O._plus_TheoPoint_TheoPoint(O._plus_TheoPoint_TheoPoint(e.multiply((1-t)*(1-t)*(1-t)),i.multiply(3*t*(1-t)*(1-t))),n.multiply(3*t*t*(1-t))),o.multiply(t*t*t))},render:function(t){t.cubicBezier(this.pt1.x,this.pt1.y,this.pt2.x,this.pt2.y,this.point.x,this.point.y)},encodeToArray:function(t){_.TheoPathOperation.prototype.encodeToArray.call(this,t),C.LegacyCoreAssert.isFalse(isNaN(this.pt1.x),"Can't persist NaN pt1.x value",void 0,"TheoPathOpCubicBezier.encodeToArray","TheoPath.swift",587),C.LegacyCoreAssert.isFalse(isNaN(this.pt1.y),"Can't persist NaN pt1.y value",void 0,"TheoPathOpCubicBezier.encodeToArray","TheoPath.swift",588),C.LegacyCoreAssert.isFalse(isNaN(this.pt2.x),"Can't persist NaN pt2.x value",void 0,"TheoPathOpCubicBezier.encodeToArray","TheoPath.swift",589),C.LegacyCoreAssert.isFalse(isNaN(this.pt2.y),"Can't persist NaN pt2.y value",void 0,"TheoPathOpCubicBezier.encodeToArray","TheoPath.swift",590),C.LegacyCoreAssert.isFalse(isNaN(this.point.x),"Can't persist NaN point.x value",void 0,"TheoPathOpCubicBezier.encodeToArray","TheoPath.swift",591),C.LegacyCoreAssert.isFalse(isNaN(this.point.y),"Can't persist NaN point.y value",void 0,"TheoPathOpCubicBezier.encodeToArray","TheoPath.swift",592),t.push(this.pt1.x),t.push(this.pt1.y),t.push(this.pt2.x),t.push(this.pt2.y),t.push(this.point.x),t.push(this.point.y)},asString:{get:function(){return"C "+M.toString(this.pt1.x)+" "+M.toString(this.pt1.y)+" "+M.toString(this.pt2.x)+" "+M.toString(this.pt2.y)+" "+M.toString(this.point.x)+" "+M.toString(this.point.y)}}}}),d),_.TheoPathOpQuadraticBezier=(p=function t(e,i){this.pt1=e,this.point=i,_.TheoPathOperation.call(this,t.TYPE)},M.defineClass({name:"TheoPathOpQuadraticBezier",ctor:p,superName:"TheoPathOperation",statics:{TYPE:"Q",decodeFromArray:function(t){var e=new p(new O.TheoPoint(t.arr[t.index],t.arr[t.index+1]),new O.TheoPoint(t.arr[t.index+2],t.arr[t.index+3]));return t.index+=4,e}},props:{bounds:{get:function(){return A.TheoRect.boundsOfPoints([this.pt1,this.point])}},boundsFrom:function(t){var e=[t,this.point],i=this.QuadraticCriticalTime(t,this.pt1,this.point);return i.x>0&&i.x<1&&e.push(this.evaluateAtTime(i.x,t,this.pt1,this.point)),i.y>0&&i.y<1&&e.push(this.evaluateAtTime(i.y,t,this.pt1,this.point)),A.TheoRect.boundsOfPoints(M.clone(e))},trailingPoint:function(){return this.point},QuadraticCriticalTime:function(t,e,i){var n=O._minus_TheoPoint_TheoPoint(e,t),o=O._minus_TheoPoint_TheoPoint(i,e),r=O._minus_TheoPoint_TheoPoint(o,n);return O._negate_TheoPoint(n.dividePoint(r))},evaluateAtTime:function(t,e,i,n){return O._plus_TheoPoint_TheoPoint(O._plus_TheoPoint_TheoPoint(e.multiply((1-t)*(1-t)),i.multiply(2*t*(1-t))),n.multiply(t*t))},render:function(t){t.quadraticBezier(this.pt1.x,this.pt1.y,this.point.x,this.point.y)},encodeToArray:function(t){_.TheoPathOperation.prototype.encodeToArray.call(this,t),C.LegacyCoreAssert.isFalse(isNaN(this.pt1.x),"Can't persist NaN pt1.x value",void 0,"TheoPathOpQuadraticBezier.encodeToArray","TheoPath.swift",702),C.LegacyCoreAssert.isFalse(isNaN(this.pt1.y),"Can't persist NaN pt1.y value",void 0,"TheoPathOpQuadraticBezier.encodeToArray","TheoPath.swift",703),C.LegacyCoreAssert.isFalse(isNaN(this.point.x),"Can't persist NaN point.x value",void 0,"TheoPathOpQuadraticBezier.encodeToArray","TheoPath.swift",704),C.LegacyCoreAssert.isFalse(isNaN(this.point.y),"Can't persist NaN point.y value",void 0,"TheoPathOpQuadraticBezier.encodeToArray","TheoPath.swift",705),t.push(this.pt1.x),t.push(this.pt1.y),t.push(this.point.x),t.push(this.point.y)},asString:{get:function(){return"Q "+M.toString(this.pt1.x)+" "+M.toString(this.pt1.y)+" "+M.toString(this.point.x)+" "+M.toString(this.point.y)}}}}),p),_.TheoPathOpRectangle=(f=function t(e){this.rect=e,_.TheoPathOperation.call(this,t.TYPE)},M.defineClass({name:"TheoPathOpRectangle",ctor:f,superName:"TheoPathOperation",statics:{TYPE:"R",decodeFromArray:function(t){if(t.arr.length>=t.index+4){var e=M.as(t.arr[t.index],"Double"),i=M.as(t.arr[t.index+1],"Double"),n=M.as(t.arr[t.index+2],"Double"),o=M.as(t.arr[t.index+3],"Double");return t.index+=4,null==e&&(e=0),null==n&&(n=100),null==i&&(i=0),null==o&&(o=100),new f(new A.TheoRect(e,i,n,o))}return null}},props:{bounds:{get:function(){return this.rect}},render:function(t){t.rectangle(this.rect.minX,this.rect.minY,this.rect.maxX,this.rect.maxY)},encodeToArray:function(t){_.TheoPathOperation.prototype.encodeToArray.call(this,t),C.LegacyCoreAssert.isFalse(isNaN(this.rect.minX),"Can't persist NaN rect.minX value",void 0,"TheoPathOpRectangle.encodeToArray","TheoPath.swift",777),C.LegacyCoreAssert.isFalse(isNaN(this.rect.minY),"Can't persist NaN rect.minY value",void 0,"TheoPathOpRectangle.encodeToArray","TheoPath.swift",778),C.LegacyCoreAssert.isFalse(isNaN(this.rect.maxX),"Can't persist NaN rect.maxX value",void 0,"TheoPathOpRectangle.encodeToArray","TheoPath.swift",779),C.LegacyCoreAssert.isFalse(isNaN(this.rect.maxY),"Can't persist NaN rect.maxY value",void 0,"TheoPathOpRectangle.encodeToArray","TheoPath.swift",780),t.push(this.rect.minX),t.push(this.rect.minY),t.push(this.rect.maxX),t.push(this.rect.maxY)},asString:{get:function(){return"R "+M.toString(this.rect.minX)+" "+M.toString(this.rect.minY)+" "+M.toString(this.rect.maxX)+" "+M.toString(this.rect.maxY)}}}}),f),_.TheoPathOpEllipse=(m=function t(e){this.rect=e,_.TheoPathOperation.call(this,t.TYPE)},M.defineClass({name:"TheoPathOpEllipse",ctor:m,superName:"TheoPathOperation",statics:{TYPE:"E",decodeFromArray:function(t){var e=new m(new A.TheoRect(t.arr[t.index],t.arr[t.index+1],t.arr[t.index+2],t.arr[t.index+3]));return t.index+=4,e}},props:{bounds:{get:function(){return this.rect}},render:function(t){t.ellipse(this.rect.minX,this.rect.minY,this.rect.maxX,this.rect.maxY)},encodeToArray:function(t){_.TheoPathOperation.prototype.encodeToArray.call(this,t),C.LegacyCoreAssert.isFalse(isNaN(this.rect.minX),"Can't persist NaN rect.minX value",void 0,"TheoPathOpEllipse.encodeToArray","TheoPath.swift",830),C.LegacyCoreAssert.isFalse(isNaN(this.rect.minY),"Can't persist NaN rect.minY value",void 0,"TheoPathOpEllipse.encodeToArray","TheoPath.swift",831),C.LegacyCoreAssert.isFalse(isNaN(this.rect.maxX),"Can't persist NaN rect.maxX value",void 0,"TheoPathOpEllipse.encodeToArray","TheoPath.swift",832),C.LegacyCoreAssert.isFalse(isNaN(this.rect.maxY),"Can't persist NaN rect.maxY value",void 0,"TheoPathOpEllipse.encodeToArray","TheoPath.swift",833),t.push(this.rect.minX),t.push(this.rect.minY),t.push(this.rect.maxX),t.push(this.rect.maxY)},asString:{get:function(){return"E "+M.toString(this.rect.minX)+" "+M.toString(this.rect.minY)+" "+M.toString(this.rect.maxX)+" "+M.toString(this.rect.maxY)}}}}),m),_.TheoPathOpClosePath=(P=function t(){_.TheoPathOperation.call(this,t.TYPE)},M.defineClass({name:"TheoPathOpClosePath",ctor:P,superName:"TheoPathOperation",statics:{TYPE:"Z",decodeFromArray:function(t){return new P}},props:{trailingPoint:function(){return O.TheoPoint.INVALID},render:function(t){t.closePath()},asString:{get:function(){return"Z"}}}}),P),_.PROPERTY_OPERATIONS="ops",_.AppendPathRenderer=(T=function(t,e){this.sink=t,this.transform=e},M.defineClass({name:"AppendPathRenderer",ctor:T,superName:"CoreObject",statics:{_implements:function(t){return"TheoPathRenderer"==t}},props:{rectangle:function(t,e,i,n){var o=this.transform.transformPoint(new O.TheoPoint(t,e));this.sink.moveTo(o.x,o.y),o=this.transform.transformPoint(new O.TheoPoint(i,e)),this.sink.lineTo(o.x,o.y),o=this.transform.transformPoint(new O.TheoPoint(i,n)),this.sink.lineTo(o.x,o.y),o=this.transform.transformPoint(new O.TheoPoint(t,n)),this.sink.lineTo(o.x,o.y),this.sink.closePath()},ellipse:function(t,e,i,n){var o=(i-t)/2,r=(n-e)/2,s=new O.TheoPoint((t+i)/2,(e+n)/2);function a(t,e){return new O.TheoPoint(t,e)}var h=4*(Math.sqrt(2)-1)/3,u=[a(1,0),a(1,h),a(h,1),a(0,1),a(-h,1),a(-1,h),a(-1,0),a(-1,-h),a(-h,-1),a(0,-1),a(h,-1),a(1,-h),a(1,0)],c=E.Matrix2D.scalingXY(o,r).translate(s).concat(this.transform);u=M.clone(c.transformPoints(M.clone(u))),this.sink.moveTo(u[0].x,u[0].y);for(var l=M.iter(M.stride(1,13,3));!l.done;l.next()){var d=l.value;this.sink.cubicBezier(u[d+0].x,u[d+0].y,u[d+1].x,u[d+1].y,u[d+2].x,u[d+2].y)}this.sink.closePath()},newPath:function(t,e,i,n,o){this.sink.newPath(t,e,i,n,o)},moveTo:function(t,e){var i=this.transform.transformPoint(new O.TheoPoint(t,e));this.sink.moveTo(i.x,i.y)},lineTo:function(t,e){var i=this.transform.transformPoint(new O.TheoPoint(t,e));this.sink.lineTo(i.x,i.y)},cubicBezier:function(t,e,i,n,o,r){var s=this.transform.transformPoint(new O.TheoPoint(t,e)),a=this.transform.transformPoint(new O.TheoPoint(i,n)),h=this.transform.transformPoint(new O.TheoPoint(o,r));this.sink.cubicBezier(s.x,s.y,a.x,a.y,h.x,h.y)},quadraticBezier:function(t,e,i,n){var o=this.transform.transformPoint(new O.TheoPoint(t,e)),r=this.transform.transformPoint(new O.TheoPoint(i,n));this.sink.quadraticBezier(o.x,o.y,r.x,r.y)},closePath:function(){this.sink.closePath()}}}),T),_.TheoArbitraryPath=(g=function t(e,i,n,o,r,s){this.ops_=M.clone(e),_.TheoPath.call(this,t.TYPE,i,n,o,r,s)},M.defineClass({name:"TheoArbitraryPath",ctor:g,superName:"TheoPath",statics:{TYPE:{get:function(){return"arbitrary"}},ArbitraryPathFromPath:function(t,e){var i=_.TheoPathBuilder.init_31cf(t.pathFillType,t.pathEndcapType,t.pathJoinType,t.pathStrokeWeight,t.pathMiterLimit);return i.addPath(t,e),i.path}},props:{bounds:{get:function(){if(null==this.bounds_){for(var t=O.TheoPoint.INVALID,e=M.iter(this.ops_);!e.done;e.next()){var i,n=e.value;(i=n.boundsFrom(t))&&(this.bounds_=i.unionWith(this.bounds_),t=n.trailingPoint())}if(null!=this.bounds_&&this.pathFillType==_.TheoPath.PATHFILL_NONE&&this.pathStrokeWeight>0){var o=-1*this.pathStrokeWeight/2;this.bounds_=this.bounds_.insetXY(o,o)}}return this.bounds_}},operations:{get:function(){return this.ops_}},isOnlyMoves:function(){for(var t=M.iter(this.ops_);!t.done;t.next())if(t.value.type!=_.TheoPathOpMoveTo.TYPE)return!1;return!0},render:function(t){t.newPath(this.pathFillType,this.pathEndcapType,this.pathJoinType,this.pathStrokeWeight,this.pathMiterLimit),this.ops_.forEach((function(e){return e.render(t)}))},encodeJson:function(){var t=_.TheoPath.prototype.encodeJson.call(this),e=[];t[_.PROPERTY_OPERATIONS]=e;for(var i=M.iter(this.ops_);!i.done;i.next())i.value.encodeToArray(e);return t},calculateAppearanceHash:function(){var t,e="(arb:"+this.ops_.map((function(t){return t.asString}),this).join(";")+")";return(t=M.opt(R.Host.crypto,(function(t){return t.md5(e)})))||null!=t?t:e}}}),g),_.TheoPathBuilder=function(){var t=function(){this.ops_=[]},e={};return M.defineClass({name:"TheoPathBuilder",ctor:t,superName:"CoreObject",statics:{OP_FROM_ARRAY:{get:function(){return void 0===e.OP_FROM_ARRAY&&(e.OP_FROM_ARRAY={M:function(t,e){return[new _.TheoPathOpMoveTo(new O.TheoPoint(t[e+1].doubleValue,t[e+2].doubleValue)),3]},L:function(t,e){return[new _.TheoPathOpLineTo(new O.TheoPoint(t[e+1].doubleValue,t[e+2].doubleValue)),3]},C:function(t,e){return[new _.TheoPathOpCubicBezier(new O.TheoPoint(t[e+1].doubleValue,t[e+2].doubleValue),new O.TheoPoint(t[e+3].doubleValue,t[e+4].doubleValue),new O.TheoPoint(t[e+5].doubleValue,t[e+6].doubleValue)),7]},Q:function(t,e){return[new _.TheoPathOpQuadraticBezier(new O.TheoPoint(t[e+1].doubleValue,t[e+2].doubleValue),new O.TheoPoint(t[e+3].doubleValue,t[e+4].doubleValue)),5]},R:function(t,e){var i,n,o,r;return[new _.TheoPathOpRectangle(new A.TheoRect((i=t[e+1].doubleValue)||null!=i?i:0,(n=t[e+2].doubleValue)||null!=n?n:0,(o=t[e+3].doubleValue)||null!=o?o:100,(r=t[e+4].doubleValue)||null!=r?r:100)),5]},E:function(t,e){return[new _.TheoPathOpEllipse(new A.TheoRect(t[e+1].doubleValue,t[e+2].doubleValue,t[e+3].doubleValue,t[e+4].doubleValue)),5]},Z:function(t,e){return t[e],[new _.TheoPathOpClosePath,1]}}),e.OP_FROM_ARRAY}},OP_TO_ARRAY:{get:function(){return void 0===e.OP_TO_ARRAY&&(e.OP_TO_ARRAY={M:function(t,e,i){var n,o=t,r=e;return(n=M.as(i,_.TheoPathOpMoveTo))?[v.DBProperty.stringProperty(o.append(M.toString(r)),n.type),v.DBProperty.doubleProperty(o.append(M.toString(r+1)),n.point.x),v.DBProperty.doubleProperty(o.append(M.toString(r+2)),n.point.y)]:(C.LegacyCoreAssert.fail("expected a move to operation",void 0,"TheoPathBuilder","TheoPath.swift",1091),[])},L:function(t,e,i){var n,o=t,r=e;return(n=M.as(i,_.TheoPathOpLineTo))?[v.DBProperty.stringProperty(o.append(M.toString(r)),n.type),v.DBProperty.doubleProperty(o.append(M.toString(r+1)),n.point.x),v.DBProperty.doubleProperty(o.append(M.toString(r+2)),n.point.y)]:(C.LegacyCoreAssert.fail("expected a line to operation",void 0,"TheoPathBuilder","TheoPath.swift",1102),[])},C:function(t,e,i){var n,o=t,r=e;return(n=M.as(i,_.TheoPathOpCubicBezier))?[v.DBProperty.stringProperty(o.append(M.toString(r)),n.type),v.DBProperty.doubleProperty(o.append(M.toString(r+1)),n.pt1.x),v.DBProperty.doubleProperty(o.append(M.toString(r+2)),n.pt1.y),v.DBProperty.doubleProperty(o.append(M.toString(r+3)),n.pt2.x),v.DBProperty.doubleProperty(o.append(M.toString(r+4)),n.pt2.y),v.DBProperty.doubleProperty(o.append(M.toString(r+5)),n.point.x),v.DBProperty.doubleProperty(o.append(M.toString(r+6)),n.point.y)]:(C.LegacyCoreAssert.fail("expected a cubic bezier operation",void 0,"TheoPathBuilder","TheoPath.swift",1117),[])},Q:function(t,e,i){var n,o=t,r=e;return(n=M.as(i,_.TheoPathOpQuadraticBezier))?[v.DBProperty.stringProperty(o.append(M.toString(r)),n.type),v.DBProperty.doubleProperty(o.append(M.toString(r+1)),n.pt1.x),v.DBProperty.doubleProperty(o.append(M.toString(r+2)),n.pt1.y),v.DBProperty.doubleProperty(o.append(M.toString(r+3)),n.point.x),v.DBProperty.doubleProperty(o.append(M.toString(r+4)),n.point.y)]:(C.LegacyCoreAssert.fail("expected a quadratic bezier operation",void 0,"TheoPathBuilder","TheoPath.swift",1130),[])},R:function(t,e,i){var n,o=t,r=e;return(n=M.as(i,_.TheoPathOpRectangle))?[v.DBProperty.stringProperty(o.append(M.toString(r)),n.type),v.DBProperty.doubleProperty(o.append(M.toString(r+1)),n.rect.minX),v.DBProperty.doubleProperty(o.append(M.toString(r+2)),n.rect.minY),v.DBProperty.doubleProperty(o.append(M.toString(r+3)),n.rect.maxX),v.DBProperty.doubleProperty(o.append(M.toString(r+4)),n.rect.maxY)]:(C.LegacyCoreAssert.fail("expected a rectangle operation",void 0,"TheoPathBuilder","TheoPath.swift",1143),[])},E:function(t,e,i){var n,o=t,r=e;return(n=M.as(i,_.TheoPathOpEllipse))?[v.DBProperty.stringProperty(o.append(M.toString(r)),n.type),v.DBProperty.doubleProperty(o.append(M.toString(r+1)),n.rect.minX),v.DBProperty.doubleProperty(o.append(M.toString(r+2)),n.rect.minY),v.DBProperty.doubleProperty(o.append(M.toString(r+3)),n.rect.maxX),v.DBProperty.doubleProperty(o.append(M.toString(r+4)),n.rect.maxY)]:(C.LegacyCoreAssert.fail("expected an ellipse operation",void 0,"TheoPathBuilder","TheoPath.swift",1156),[])},Z:function(t,e,i){var n,o=t,r=e;return(n=M.as(i,_.TheoPathOpClosePath))?[v.DBProperty.stringProperty(o.append(M.toString(r)),n.type)]:(C.LegacyCoreAssert.fail("expected a close operation",void 0,"TheoPathBuilder","TheoPath.swift",1165),[])}}),e.OP_TO_ARRAY}},getEncodedOperations:function(e,i){var n=[];return i.operations.forEach((function(i){return M.append(n,M.clone(t.OP_TO_ARRAY[i.type](e,n.length,i)))})),n},decodeJsonDict:function(e,i,n,o,r,s){var a;if(void 0===i&&(i=_.TheoPath.PATHFILL_DEFAULT),void 0===n&&(n=_.TheoPath.PATHEND_DEFAULT),void 0===o&&(o=_.TheoPath.PATHJOIN_DEFAULT),void 0===r&&(r=_.TheoPath.PATHSTROKE_DEFAULT),void 0===s&&(s=_.TheoPath.PATHMITERLIMIT_DEFFAULT),a=M.as(e[_.PROPERTY_OPERATIONS],["Array","Any"])){for(var h=t.init_31cf(i,n,o,r,s),u=new _.DecodeState(a,0);u.index<a.length;){var c;if(null!=(c=M.as(a[u.index],"String")))if(u.index+=1,c==_.TheoPathOpMoveTo.TYPE)h.ops_.push(_.TheoPathOpMoveTo.decodeFromArray(u));else if(c==_.TheoPathOpLineTo.TYPE)h.ops_.push(_.TheoPathOpLineTo.decodeFromArray(u));else if(c==_.TheoPathOpRectangle.TYPE){var l;(l=_.TheoPathOpRectangle.decodeFromArray(u))&&h.ops_.push(l)}else c==_.TheoPathOpEllipse.TYPE?h.ops_.push(_.TheoPathOpEllipse.decodeFromArray(u)):c==_.TheoPathOpCubicBezier.TYPE?h.ops_.push(_.TheoPathOpCubicBezier.decodeFromArray(u)):c==_.TheoPathOpQuadraticBezier.TYPE?h.ops_.push(_.TheoPathOpQuadraticBezier.decodeFromArray(u)):c==_.TheoPathOpClosePath.TYPE&&h.ops_.push(_.TheoPathOpClosePath.decodeFromArray(u));else u.index+=1,C.LegacyCoreAssert.fail("unexpected non-string in ops chain",void 0,"TheoPathBuilder.decodeJsonDict","TheoPath.swift",1405)}return h.path}return null},_implements:function(t){return"TheoPathRenderer"==t}},props:{init_7691:function(e,i,n,o,r,s){this.pathFillType_=i,this.pathEndcapType_=n,this.pathJoinType_=o,this.pathStrokeWeight_=r,this.pathMiterLimit_=s;for(var a=M.clone(e),h=0;h<a.length;){var u;if(null!=(u=a[h].stringValue)){var c=t.OP_FROM_ARRAY[u](a,h),l=c[0],d=c[1];null!=l&&this.ops_.push(l),h+=d}else h+=1,C.LegacyCoreAssert.fail("unexpected non-string in ops chain",void 0,"TheoPathBuilder.init","TheoPath.swift",1190)}},init_d41d:function(){this.pathFillType_=_.TheoPath.PATHFILL_DEFAULT,this.pathEndcapType_=_.TheoPath.PATHEND_DEFAULT,this.pathJoinType_=_.TheoPath.PATHJOIN_DEFAULT,this.pathStrokeWeight_=_.TheoPath.PATHSTROKE_DEFAULT,this.pathMiterLimit_=_.TheoPath.PATHMITERLIMIT_DEFFAULT},init_31cf:function(t,e,i,n,o){this.pathFillType_=t,this.pathEndcapType_=e,this.pathJoinType_=i,this.pathStrokeWeight_=n,this.pathMiterLimit_=o},newPath:function(t,e,i,n,o){},clear:function(){this.ops_.splice(0)},moveTo:function(t,e){this.ops_.push(new _.TheoPathOpMoveTo(new O.TheoPoint(t,e)))},lineTo:function(t,e){this.ops_.push(new _.TheoPathOpLineTo(new O.TheoPoint(t,e)))},addLines:function(t){if(t.length>0){this.ops_.push(new _.TheoPathOpMoveTo(t[0]));var e=t.concat();e.shift();for(var i=M.iter(e);!i.done;i.next()){var n=i.value;this.ops_.push(new _.TheoPathOpLineTo(n))}}},cubicBezier:function(t,e,i,n,o,r){this.ops_.push(new _.TheoPathOpCubicBezier(new O.TheoPoint(t,e),new O.TheoPoint(i,n),new O.TheoPoint(o,r)))},quadraticBezier:function(t,e,i,n){this.ops_.push(new _.TheoPathOpQuadraticBezier(new O.TheoPoint(t,e),new O.TheoPoint(i,n)))},closePath:function(){this.ops_.push(new _.TheoPathOpClosePath)},addPath:function(t,e){t.render(new _.AppendPathRenderer(this,e))},rectangle:function(t,e,i,n){this.ops_.push(new _.TheoPathOpRectangle(new A.TheoRect(t,e,i,n)))},roundedRectangle:function(t,e,i,n,o,r){var s=4*(Math.sqrt(2)-1)/3,a=s*o,h=s*r;this.moveTo(t+o,e),this.lineTo(i-o,e);var u=i-o+a,c=e+r-h;this.cubicBezier(u,e,i,c,i,e+r),this.lineTo(i,n-r);var l=n-r+h,d=i-o+a;this.cubicBezier(i,l,d,n,i-o,n),this.lineTo(t+o,n);var p=t+o-a,f=n-r+h;this.cubicBezier(p,n,t,f,t,n-r),this.lineTo(t,e+r);var m=e+r-h,P=t+o-a;this.cubicBezier(t,m,P,e,t+o,e),this.closePath()},ellipse:function(t,e,i,n){this.ops_.push(new _.TheoPathOpEllipse(new A.TheoRect(t,e,i,n)))},simplestForm:{get:function(){if(null==this.simplestForm_){var t,e;if(1==this.ops_.length)(t=M.as(this.ops_[0],_.TheoPathOpRectangle))?this.simplestForm_=new _.TheoRectanglePath(t.rect,this.pathFillType_,this.pathEndcapType_,this.pathJoinType_,this.pathStrokeWeight_,this.pathMiterLimit_):(e=M.as(this.ops_[0],_.TheoPathOpEllipse))&&(this.simplestForm_=new _.TheoEllipsePath(e.rect,this.pathFillType_,this.pathEndcapType_,this.pathJoinType_,this.pathStrokeWeight_,this.pathMiterLimit_));else 0==this.ops_.length&&(this.simplestForm_=_.TheoPath.emptyPath());if(null==this.simplestForm_)return this.path}return this.simplestForm_}},path:{get:function(){return new _.TheoArbitraryPath(this.ops_.concat(),this.pathFillType_,this.pathEndcapType_,this.pathJoinType_,this.pathStrokeWeight_,this.pathMiterLimit_)}}}}),t}()},kEiY:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("fNpk"),a=i("tlHl"),h=i("rtbu"),u=i("wH/i"),c=i("PlOi"),l=i("s3Tu"),d=i("sIWg");o.PGMMimicMediaNode=(n=function(t,e,i,n){var o;this._mediaTime=0,this._mediaStartTime=0,this._mediaPosterTime=0,(o=r.as(e.child,a.PGMMedia))?(this._contentID=o.contentID,this._bounds=o.bounds,this._contentResource=t.newState.graph.resources.byContentID(o.contentID)||c.PGMResourceProvider.INVALID):(s.LegacyCoreAssert.fail("wrong pgm node type",void 0,"PGMMimicMediaNode.init","PGMMimicMediaNode.swift",34),this._contentID="",this._bounds=d.TheoRect.Zero,this._contentResource=c.PGMResourceProvider.INVALID),h.PGMMimicNode.call(this,t,e,i,n)},r.defineClass({name:"PGMMimicMediaNode",ctor:n,superName:"PGMMimicNode",statics:{PROP_CONTENT_ID:"content-id",PROP_CONTENT_RESOURCE:"content-resource",PROP_BOUNDS:"bounds",PROP_MEDIA_TIME:"media-time",PROP_MEDIA_POSTER_TIME:"media-poster-time",PROP_MEDIA_TIME_OFFSET:"media-time-offset"},props:{importProperties:function(){var t,e;this.startPropertyMutation(),(t=r.as(this.ref.child,a.PGMMedia))?(this.bounds=t.bounds,this.contentID=t.contentID,(e=r.as(t,l.PGMVideo))&&(this.mediaStartTime=e.offset,this.mediaPosterTime=e.posterTime),this.contentResource=this.newState.graph.resources.byContentID(t.contentID)||c.PGMResourceProvider.INVALID):s.LegacyCoreAssert.fail("wrong pgm node type",void 0,"PGMMimicMediaNode.importProperties","PGMMimicMediaNode.swift",54),this.endPropertyMutation()},applyAnimation:function(t,e){var i;(i=r.as(t,u.PGMMediaPlayAnimation))?this.mediaTime=i.interpolate(e)+this.mediaStartTime:h.PGMMimicNode.prototype.applyAnimation.call(this,t,e)},calculateMarkedBounds:function(){return this.bounds},restoreAfterAnimation:function(t){t instanceof u.PGMMediaPlayAnimation?this.mediaTime=0:h.PGMMimicNode.prototype.restoreAfterAnimation.call(this,t)},contentID:{get:function(){return this._contentID},set:function(t){t!=this._contentID&&(this._contentID=t,this.mutateProperty(n.PROP_CONTENT_ID))}},contentResource:{get:function(){return this._contentResource},set:function(t){t.isEqualTo(this._contentResource)||(this._contentResource=t,this.mutateProperty(n.PROP_CONTENT_RESOURCE))}},bounds:{get:function(){return this._bounds},set:function(t){t.equal(this._bounds)||(this._bounds=t,this.invalidateMarkedBounds(),this.mutateProperty(n.PROP_BOUNDS))}},mediaTime:{get:function(){return this._mediaTime},set:function(t){t!=this._mediaTime&&(this._mediaTime=t,this.mutateProperty(n.PROP_MEDIA_TIME))}},mediaStartTime:{get:function(){return this._mediaStartTime},set:function(t){t!=this._mediaStartTime&&(this._mediaStartTime=t,this.mutateProperty(n.PROP_MEDIA_TIME_OFFSET))}},mediaPosterTime:{get:function(){return this._mediaPosterTime},set:function(t){t!=this._mediaPosterTime&&(this._mediaPosterTime=t,this.mutateProperty(n.PROP_MEDIA_POSTER_TIME))}}}}),n)},mj5y:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("fNpk"),a=i("tGKA"),h=i("jLWG"),u=i("rKjb"),c=i("WGnI"),l=i("zW52"),d=i("sIWg");o.PGMUtils=(n=function(){},r.defineClass({name:"PGMUtils",ctor:n,statics:{calcBounds:function(t,e){var i,o,a;return(i=r.as(t,c.PGMLeaf))?e.transformRect(i.bounds):(o=r.as(t,u.PGMComposite))?(a=r.as(t,h.PGMClip))?a.clipBounds:n.calcGroupBounds(o,e):(s.LegacyCoreAssert.fail("unexpected node type",void 0,"PGMUtils.calcBounds","PGMUtils.swift",33),null)},calcGroupBounds:function(t,e){var i=null;return t.children.forEach((function(t){var o;(o=n.calcBounds(t.child,e.concat(t.compositing.placement)))&&(i=null==i?o:i.unionWith(o))})),i},calcXBoundsForRef:function(t){return new l.PGMTransformedBounds(t.compositing.placement,n.calcBounds(t.child,a.Matrix2D.Identity)||d.TheoRect.Zero)},calculateDuration:function(t){var e=0;return t.visit((function(t){for(var i=r.iter(t.animations.animations);!i.done;i.next()){var n=i.value;e=Math.max(e,n.timeFn.domain.end-n.timeFn.domain.start)}for(var o=r.iter(t.child.animations.animations);!o.done;o.next())n=o.value,e=Math.max(e,n.timeFn.domain.end-n.timeFn.domain.start)})),e},stringify:function(t){var e,i,o;if(null==t)return"nil";if(e=r.as(t,["Array","Any"]))return"["+e.map((function(t){return n.stringify(t)}),this).join(", ")+"]";if(i=r.as(t,["Dictionary","String","Any"])){for(var s=[],a=r.iter(i);!a.done;a.next()){var h=a.key,u=a.value;s.push(h+": "+n.stringify(u))}return"{"+s.join(",")+"}"}return null!=(o=r.as(t,"String"))?"'"+o+"'":r.toString(t)}}}),n)},n8f2:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("fNpk"),a=i("dmHI"),h=i("9MJV"),u=i("smUN"),c=i("V93b");o.PGMMimicFilterNode=(n=function(t,e,i,n){var o;(o=r.as(e.child,a.PGMFilter))?this._spec=o.spec:(s.LegacyCoreAssert.fail("wrong pgm node type",void 0,"PGMMimicFilterNode.init","PGMMimicFilterNode.swift",21),this._spec=u.PGMNullFilterSpec.INSTANCE),c.PGMMimicGroupNode.call(this,t,e,i,n)},r.defineClass({name:"PGMMimicFilterNode",ctor:n,superName:"PGMMimicGroupNode",statics:{PROP_SPEC:"spec"},props:{importProperties:function(){var t;this.startPropertyMutation(),(t=r.as(this.ref.child,a.PGMFilter))?this.spec=t.spec:s.LegacyCoreAssert.fail("wrong pgm node type",void 0,"PGMMimicFilterNode.importProperties","PGMMimicFilterNode.swift",33),this.endPropertyMutation()},applyAnimation:function(t,e){var i;c.PGMMimicGroupNode.prototype.applyAnimation.call(this,t,e),(i=r.as(t,h.PGMFilterAnimation))&&(this.spec=i.interpolate(e))},spec:{get:function(){return this._spec},set:function(t){t!==this._spec&&(this._spec=t,this.mutateProperty(n.PROP_SPEC))}}}}),n)},oKlP:function(t,e,i){var n,o,r=e,s=i("oAGj"),a=i("gXiO"),h=i("fNpk");r.TheoPoint=(n=function(t,e){this.x=t,this.y=e,a.CoreObject.call(this)},o={},s.defineClass({name:"TheoPoint",ctor:n,superName:"CoreObject",statics:{ZERO:{get:function(){return void 0===o.ZERO&&(o.ZERO=new n(0,0)),o.ZERO}},INVALID:{get:function(){return void 0===o.INVALID&&(o.INVALID=new n(NaN,NaN)),o.INVALID}},decodeJson:function(t){if(null==t)return null;var e=s.as(t,["Array","Any"]);if(null==e||2!=e.length)return h.LegacyCoreAssert.fail("TheoPoint.decodeJson: data is not an array with 2 elements",void 0,"TheoPoint.decodeJson","TheoPoint.swift",112),null;var i=s.as(e[0],"Double"),o=s.as(e[1],"Double");return null==i||null==o?(h.LegacyCoreAssert.fail("Point.decodeJson: data is not an array with 2 numbers",void 0,"TheoPoint.decodeJson","TheoPoint.swift",120),null):new n(i,o)}},props:{finite:{get:function(){return isFinite(this.x)&&isFinite(this.y)}},isValidPoint:{get:function(){return!isNaN(this.x)&&!isNaN(this.y)}},multiply:function(t){return new n(this.x*t,this.y*t)},multiplyPoint:function(t){return new n(this.x*t.x,this.y*t.y)},divide:function(t){return new n(1*this.x/t,1*this.y/t)},dividePoint:function(t){return new n(this.x/t.x,this.y/t.y)},isEqual:function(t){var e;return!!(e=s.as(t,n))&&this.equal(e)},equal:function(t){return this.x==t.x&&this.y==t.y},equalWithAccuracy:function(t,e){return Math.abs(this.x-t.x)<e&&Math.abs(this.y-t.y)<e},add:function(t){return new n(this.x+t.x,this.y+t.y)},subtract:function(t){return new n(this.x-t.x,this.y-t.y)},distanceTo:function(t){var e=this.subtract(t);return Math.sqrt(e.dotProduct(e))},dotProduct:function(t){return this.x*t.x+this.y*t.y},crossProduct:function(t){return this.x*t.y-this.y*t.x},length:function(){return this.distanceTo(n.ZERO)},invert:function(){return new n(-this.x,-this.y)},interpolate:function(t,e){return new n(this.x+(t.x-this.x)*e,this.y+(t.y-this.y)*e)},encode:function(){return h.LegacyCoreAssert.fail("TheoPoint: Use encodeJson(), not encode()",void 0,"TheoPoint.encode","TheoPoint.swift",103),[]},description:{get:function(){return"("+this.x+", "+this.y+")"}}}}),n),r._minus_TheoPoint_TheoPoint=function(t,e){return t.subtract(e)},r._plus_TheoPoint_TheoPoint=function(t,e){return t.add(e)},r._negate_TheoPoint=function(t){return t.invert()},r._asterisk_Double_TheoPoint=function(t,e){return e.multiply(t)},r._slash_TheoPoint_Double=function(t,e){return t.divide(e)}},qEGv:function(t,e,i){var n,o,r=e,s=i("oAGj"),a=i("iCxV"),h=i("fNpk"),u=i("djwB"),c=i("rtbu"),l=i("W6ub"),d=i("bAjp"),p=i("f/aw"),f=i("bJhu"),m=i("Zifs"),P=i("sIWg");r.PGMMimicTextNode=(n=function t(e,i,n,o){var r;(r=s.as(i.child,d.PGMText))?(this._text=r.text,this._bounds=r.bounds,this._style=r.style,this._renderRuns=r.renderRuns):(h.LegacyCoreAssert.fail("wrong pgm node type",void 0,"PGMMimicTextNode.init","PGMMimicTextNode.swift",55),this._text="",this._bounds=P.TheoRect.Zero,this._style=t.BAD_STYLE,this._renderRuns=l.PGMRenderRuns.EMPTY),c.PGMMimicNode.call(this,e,i,n,o)},o={},s.defineClass({name:"PGMMimicTextNode",ctor:n,superName:"PGMMimicNode",statics:{PROP_TEXT:"text",PROP_BOUNDS:"bounds",PROP_STYLE:"style",PROP_RENDERRUNS:"renderRuns",PROP_STYLE_FONT:"style/font",PROP_STYLE_FILL_COLOR:"style/fill-color",PROP_STYLE_STROKE_COLOR:"style/stroke-color",PROP_STYLE_STROKE_WIDTH:"style/stroke-width",PROP_STYLE_TRACKING:"style/tracking",BAD_FONT:{get:function(){return void 0===o.BAD_FONT&&(o.BAD_FONT=new u.PGMFont("","","",0,"",1,1,0)),o.BAD_FONT}},BAD_STYLE:{get:function(){return void 0===o.BAD_STYLE&&(o.BAD_STYLE=new f.PGMTextStyle(n.BAD_FONT,null,null,0,0)),o.BAD_STYLE}}},props:{importProperties:function(){var t;this.startPropertyMutation(),(t=s.as(this.ref.child,d.PGMText))?(this.text=t.text,this.bounds=t.bounds,this.style=t.style,this.renderRuns=t.renderRuns):h.LegacyCoreAssert.fail("wrong pgm node type",void 0,"PGMMimicTextNode.importProperties","PGMMimicTextNode.swift",73),this.endPropertyMutation()},applyAnimation:function(t,e){var i;if(c.PGMMimicNode.prototype.applyAnimation.call(this,t,e),i=s.as(t,p.PGMTextAnimation)){var n=i.interpolate(e);this.style=n.style,this.renderRuns=n.renderRuns}},calculateMarkedBounds:function(){var t=this;return s.opt(a.Host.textModelUtils,(function(e){return e.measureDrawBounds(t.text,t.fontSize,t.style)}))||this.bounds.outsetXY(100,100)},text:{get:function(){return this._text},set:function(t){t!=this._text&&(this._text=t,this.mutateProperty(n.PROP_TEXT))}},bounds:{get:function(){return this._bounds},set:function(t){t.equal(this._bounds)||(this._bounds=t,this.mutateProperty(n.PROP_BOUNDS),this.invalidateMarkedBounds())}},style:{get:function(){return this._style},set:function(t){if(!t.isEqualTo(this._style)){var e=this._style;this._style=t;var i=!1;e.font.postScriptName!=t.font.postScriptName&&(this.mutateProperty(n.PROP_STYLE_FONT),i=!0),s.eq(m._equality_SolidColor_SolidColor,e.fillColor,t.fillColor)||(this.mutateProperty(n.PROP_STYLE_FILL_COLOR),null!=e.fillColor&&null!=t.fillColor||this.mutateProperty(n.PROP_STYLE_STROKE_WIDTH),i=!0),s.eq(m._equality_SolidColor_SolidColor,e.strokeColor,t.strokeColor)||(this.mutateProperty(n.PROP_STYLE_STROKE_COLOR),i=!0),e.strokeWidth!=t.strokeWidth&&(this.mutateProperty(n.PROP_STYLE_STROKE_WIDTH),i=!0),e.tracking!=t.tracking&&(this.mutateProperty(n.PROP_STYLE_TRACKING),i=!0),i&&this.mutateProperty(n.PROP_STYLE)}}},renderRuns:{get:function(){return this._renderRuns},set:function(t){t.isEqualTo(this._renderRuns)||(this._renderRuns=t,this.mutateProperty(n.PROP_RENDERRUNS))}},fontSize:{get:function(){var t=this._style.font,e=t.ascentRatio+t.descentRatio;return h.LegacyCoreAssert.isTrue(e>0,"bad font metrics",void 0,"PGMMimicTextNode","PGMMimicTextNode.swift",177),e>0?this.bounds.height/e:this.bounds.height}},baselineOrigin:{get:function(){var t=this._style.font,e=t.ascentRatio+t.descentRatio;return h.LegacyCoreAssert.isTrue(e>0,"bad font metrics",void 0,"PGMMimicTextNode","PGMMimicTextNode.swift",190),this.bounds.evalXY(0,t.ascentRatio/e)}}}}),n)},qyrT:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("Zifs"),a=i("x4Gy"),h=i("uUew");o.PROPERTY_RUNSTART="run-start",o.PROPERTY_RUNEND="run-end",o.PROPERTY_RUNCOLOR="run-color",o.PGMSolidColorRuns=(n=function(){this.privateColorRuns_=new a.SolidColorRuns},r.defineClass({name:"PGMSolidColorRuns",ctor:n,superName:"CoreObject",statics:{decode:function(t){var e,i=n.init_d41d();if(e=t)for(var a=r.iter(e);!a.done;a.next()){var u,c,l,d,p=a.value;if((u=r.as(p,["Dictionary","String","Any"]))&&null!=(c=r.as(u[o.PROPERTY_RUNSTART],"Int"))&&null!=(l=r.as(u[o.PROPERTY_RUNEND],"Int"))&&(d=s.SolidColor.decodeJson(r.as(u[o.PROPERTY_RUNCOLOR],"AnyObject")))){var f=new h.TextRange(c,l);i.apply(d,f)}}return i}},props:{init_d41d:function(){},init_3338:function(t){this.privateColorRuns_=t.clone()},apply:function(t,e){this.privateColorRuns_.apply(t,e)},interpolate:function(t,e){var i=new a.SolidColorRuns;return i.applyNewAlpha(this.privateColorRuns_,e),n.init_3338(i)},runArrays:{get:function(){return this.privateColorRuns_.runArrays}},asString:{get:function(){return this.privateColorRuns_.asString}},encode:function(){for(var t=[],e=r.iter(this.runArrays);!e.done;e.next()){var i=e.value,n={};n[o.PROPERTY_RUNSTART]=i.range.start,n[o.PROPERTY_RUNEND]=i.range.end,n[o.PROPERTY_RUNCOLOR]=i.attr.encodeJson(),t.push(n)}return t}}}),n)},rtbu:function(t,e,i){var n,o,r,s,a=e,h=i("oAGj"),u=i("gXiO"),c=i("iCxV"),l=i("PCN2"),d=i("fNpk"),p=i("tGKA"),f=i("jfma"),m=i("sHEF"),P=i("WUDy"),T=i("zW52"),g=i("sIWg");a.PGMMimicMutation=(n=function(){},o={},h.defineClass({name:"PGMMimicMutation",ctor:n,statics:{CATEGORY_HIERARCHY:"hierarchy/",CATEGORY_COMPOSITING:"compositing/",CATEGORY_PROPERTY:"property/",COMPOSITING_PLACEMENT:{get:function(){return void 0===o.COMPOSITING_PLACEMENT&&(o.COMPOSITING_PLACEMENT=n.CATEGORY_COMPOSITING+"placement"),o.COMPOSITING_PLACEMENT}},COMPOSITING_BLENDMODE:{get:function(){return void 0===o.COMPOSITING_BLENDMODE&&(o.COMPOSITING_BLENDMODE=n.CATEGORY_COMPOSITING+"blend-mode"),o.COMPOSITING_BLENDMODE}},COMPOSITING_OPACITY:{get:function(){return void 0===o.COMPOSITING_OPACITY&&(o.COMPOSITING_OPACITY=n.CATEGORY_COMPOSITING+"opacity"),o.COMPOSITING_OPACITY}},COMPOSITING_CTM:{get:function(){return void 0===o.COMPOSITING_CTM&&(o.COMPOSITING_CTM=n.CATEGORY_COMPOSITING+"ctm"),o.COMPOSITING_CTM}},HIERARCHY_CREATED:{get:function(){return void 0===o.HIERARCHY_CREATED&&(o.HIERARCHY_CREATED=n.CATEGORY_HIERARCHY+"created"),o.HIERARCHY_CREATED}},HIERARCHY_PARENT:{get:function(){return void 0===o.HIERARCHY_PARENT&&(o.HIERARCHY_PARENT=n.CATEGORY_HIERARCHY+"parent"),o.HIERARCHY_PARENT}},HIERARCHY_BECAME_ROOT:{get:function(){return void 0===o.HIERARCHY_BECAME_ROOT&&(o.HIERARCHY_BECAME_ROOT=n.CATEGORY_HIERARCHY+"became-root"),o.HIERARCHY_BECAME_ROOT}},HIERARCHY_REMOVED:{get:function(){return void 0===o.HIERARCHY_REMOVED&&(o.HIERARCHY_REMOVED=n.CATEGORY_HIERARCHY+"removed"),o.HIERARCHY_REMOVED}},HIERARCHY_CHILDREN:{get:function(){return void 0===o.HIERARCHY_CHILDREN&&(o.HIERARCHY_CHILDREN=n.CATEGORY_HIERARCHY+"children"),o.HIERARCHY_CHILDREN}}}}),n),a.PGMMimicNode=(r=function t(e,i,n,o){this._binding=new l.PGMNullMimicNodeBinding,this._isRoot=!1,this._parent=null,this._compositing=f.PGMCompositingParams.DEFAULT,this._ctm=p.Matrix2D.Identity,this._ctmLocalDirty=!0,this._animations=[],this._animationsByType={},this._mutatedProperties=null,this._mutations=[],this._markedBounds=null,this._markedBoundsValid=!1,this.oldState=m.PGMMimicDisplayState.EMPTY,this.newState=m.PGMMimicDisplayState.EMPTY,this.clientData=null,this._document=e,this._options=n,this._ref=i,this._compositing=i.compositing,this.id=t.makeUniqueID(),u.CoreObject.call(this),this.importAnimations(),this._binding=e.client.bindNode(this,o),this.recordMutation(a.PGMMimicMutation.HIERARCHY_CREATED)},h.defineClass({name:"PGMMimicNode",ctor:r,superName:"CoreObject",statics:{PROP_MARKED_BOUNDS:"marked-bounds",nextID_:1,makeUniqueID:function(){var t="M"+r.nextID_;return r.nextID_+=1,t}},props:{document:{get:function(){return d.LegacyCoreAssert.isTrue(null!=this._document,"Using a node after document has been destroyed. Let's crash!",void 0,"PGMMimicNode","PGMMimicNode.swift",134),this._document}},binding:{get:function(){return this._binding}},markedBounds:{get:function(){if(this._markedBoundsValid)return this._markedBounds;var t=this.calculateMarkedBounds();return g.TheoRect.equal(t,this._markedBounds)||(this._markedBounds=t,this.mutateProperty(r.PROP_MARKED_BOUNDS)),this._markedBoundsValid=!0,this._markedBounds}},markedBoundsInDocumentSpace:{get:function(){var t;return(t=this.markedBounds)?this.ctm.transformRect(t):null}},invalidateMarkedBounds:function(t){void 0===t&&(t=!0),t?this._markedBoundsValid&&(this._markedBoundsValid=!1,h.opt(this._parent,(function(t){return t.invalidateMarkedBounds(!0)}))):h.opt(this._parent,(function(t){return t.invalidateMarkedBounds(!0)}))},calculateMarkedBounds:function(){return h.opt(c.Host.logging,(function(t){return t.warning("subclass did not handle calculateMarkedBounds; will be empty")})),null},newConform:function(t,e,i){this.oldState=t,this.newState=e,this._options=i,this._mutations.splice(0)},recordMutation:function(t){this._options.provideEndConformSummary&&!this._mutations.includes(t)&&this._mutations.push(t)},endConformSummary:function(t){return!!(t||this._mutations.length>0)&&(this.binding.endConformSummary(this,h.clone(this._mutations),t),!0)},parent:{get:function(){return this._parent}},setAsChildOf:function(t){t!=this._parent&&(this.recordMutation(a.PGMMimicMutation.HIERARCHY_PARENT),this.document.nodeReparented(this),this._parent=t,this._isRoot=!1,this._ctmLocalDirty=!0)},setAsRoot:function(){this._isRoot||(this.recordMutation(a.PGMMimicMutation.HIERARCHY_PARENT),this.recordMutation(a.PGMMimicMutation.HIERARCHY_BECAME_ROOT),this.document.nodeReparented(this),this._parent=null,this._isRoot=!0,this._ctmLocalDirty=!0)},setAsDetached:function(){this.recordMutation(a.PGMMimicMutation.HIERARCHY_PARENT),this.recordMutation(a.PGMMimicMutation.HIERARCHY_REMOVED),this._parent=null,this._isRoot=!1},ref:{get:function(){return this._ref},set:function(t){t!==this._ref&&(this._ref=t,this.importAnimations())}},compositing:{get:function(){return this._compositing},set:function(t){if(t!==this._compositing){var e=!1;this._compositing.placement.equal(t.placement)||(this.recordMutation(a.PGMMimicMutation.COMPOSITING_PLACEMENT),this._ctmLocalDirty=!0,this.invalidateMarkedBounds(!1),this.document.nodePlacementChanged(this),this._binding.changePlacement(this,this._compositing.placement,t.placement),e=!0),this._compositing.blendMode!=t.blendMode&&(this.recordMutation(a.PGMMimicMutation.COMPOSITING_BLENDMODE),this._binding.changeBlendMode(this,this._compositing.blendMode,t.blendMode),e=!0),this._compositing.opacity!=t.opacity&&(this.recordMutation(a.PGMMimicMutation.COMPOSITING_OPACITY),this._binding.changeOpacity(this,this._compositing.opacity,t.opacity),e=!0),e&&this._binding.changeCompositing(this,this._compositing,t),this._compositing=t}}},ctm:{get:function(){return this._ctm},set:function(t){this.recordMutation(a.PGMMimicMutation.COMPOSITING_CTM),this._binding.changeCTM(this,this._ctm,t),this._ctm=t,this._ctmLocalDirty=!1}},animations:{get:function(){return this._animations}},isCTMDirty:{get:function(){return this._ctmLocalDirty||this.hasCTMLocalDirtyAncestor}},isCTMLocalDirty:{get:function(){return this._ctmLocalDirty}},hasCTMLocalDirtyAncestor:{get:function(){var t;return!!(t=this.parent)&&(t.isCTMLocalDirty||t.hasCTMLocalDirtyAncestor)}},importAnimations:function(){var t=this,e=this._animations.length>0;this._animations.splice(0),this.ref.animations.forEach((function(e){return t._animations.push(e)})),this.ref.child.animations.forEach((function(e){return t._animations.push(e)})),this._animationsByType={};for(var i=h.iter(this._animations);!i.done;i.next()){var n=i.value;this._animationsByType[n.type]=h.clone(this._animationsByType[n.type]||[]),this._animationsByType[n.type].push(n)}var o=this._animations.length>0;e!=o&&this.document.nodeHasAnimationChanged(this,o)},visit:function(t){return t(this)?this:null},visitPostOrder:function(t){return t(this)?this:null},destroy:function(){this.removeFromTree(),this._binding.destroy(this)},removeFromTree:function(){var t;(t=this.parent)?t.removeChild(this):this.document.root===this&&(this.document.root=null)},updateCTM:function(){var t;(t=this.parent)?this.ctm=this.compositing.placement.concat(t.ctm):this.ctm=this.compositing.placement},getStaticCTM:function(){for(var t=this.ref.compositing.placement,e=this.parent;null!=e;)t=t.concat(e.ref.compositing.placement),e=e.parent;return t},importProperties:function(){},changeProperties:function(t){t.length>0&&this._binding.changeProperties(this,h.clone(t))},applyAnimations:function(t,e){for(var i=h.iter(this._animationsByType);!i.done;i.next()){var n,o,r=i.value;(n=r.find((function(t){return t.timeFn.domain.contains(e)}),this))?this.applyAnimation(n,e):(o=r.find((function(e){return e.timeFn.domain.contains(t)}),this))&&this.restoreAfterAnimation(o)}},applyAnimation:function(t,e){var i,n;(i=h.as(t,T.PGMTransformAnimation))?this.compositing=this.compositing.withPlacement(i.interpolate(e)):(n=h.as(t,P.PGMOpacityAnimation))&&(this.compositing=this.compositing.withOpacity(n.interpolate(e)))},restoreAfterAnimation:function(t){t instanceof T.PGMTransformAnimation?this.compositing=this.compositing.withPlacement(this.ref.compositing.placement):t instanceof P.PGMOpacityAnimation&&(this.compositing=this.compositing.withOpacity(this.ref.compositing.opacity))},startPropertyMutation:function(){this._mutatedProperties=[]},endPropertyMutation:function(){null!=this._mutatedProperties&&(this._mutatedProperties.length>0&&this.changeProperties(h.clone(this._mutatedProperties)),this._mutatedProperties=null)},mutateProperty:function(t){this.recordMutation(a.PGMMimicMutation.CATEGORY_PROPERTY+t),null!=this._mutatedProperties?this._mutatedProperties.push(t):this.changeProperties([t])}}}),r),a.PGMNullMimicNode=(s=function(t,e,i,n){a.PGMMimicNode.call(this,t,e,i,n)},h.defineClass({name:"PGMNullMimicNode",ctor:s,superName:"PGMMimicNode"}),s)},s3Tu:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("tlHl"),a=i("hauK");o.PGMVideo=(n=function t(e,i,n,o,r,a,h){this.offset=a,this.posterTime=h,s.PGMMedia.call(this,t.TYPE,e,i,n,o,r)},r.defineClass({name:"PGMVideo",ctor:n,superName:"PGMMedia",statics:{TYPE:"pgm-video",PROP_OFFSET:"offset",PROP_POSTER_TIME:"poster-time"},props:{withEntity:function(t){return new n(t,this.meta,this.animations,this.bounds,this.contentID,this.offset,this.posterTime)},encode:function(){var t=s.PGMMedia.prototype.encode.call(this);return t[a.PGMNode.PROP_TYPE]=n.TYPE,t[n.PROP_OFFSET]=this.offset,t[n.PROP_POSTER_TIME]=this.posterTime,t}}}),n)},sHEF:function(t,e,i){var n,o,r=e,s=i("oAGj"),a=i("sq5L");r.PGMMimicDisplayState=(n=function(t,e){this.graph=t,this.time=e},o={},s.defineClass({name:"PGMMimicDisplayState",ctor:n,statics:{EMPTY:{get:function(){return void 0===o.EMPTY&&(o.EMPTY=new n(a.PGMGraph.EMPTY,0)),o.EMPTY}}},props:{equals:function(t){return this.time==t.time&&this.graph===t.graph}}}),n)},sIWg:function(t,e,i){var n,o,r,s=e,a=i("oAGj"),h=i("gXiO"),u=i("fNpk"),c=i("tGKA"),l=i("3DEm"),d=i("MnRR"),p=i("oKlP"),f=i("1NAc");s.TheoRect=(n=function(t,e,i,n){this.minX=l.MathUtils.minDouble(t,i),this.minY=l.MathUtils.minDouble(e,n),this.maxX=l.MathUtils.maxDouble(t,i),this.maxY=l.MathUtils.maxDouble(e,n),h.CoreObject.call(this)},o={},a.defineClass({name:"TheoRect",ctor:n,superName:"CoreObject",statics:{Zero:{get:function(){return void 0===o.Zero&&(o.Zero=new n(0,0,0,0)),o.Zero}},Huge:{get:function(){return void 0===o.Huge&&(o.Huge=new n(-Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE)),o.Huge}},ONE_BY_ONE:{get:function(){return void 0===o.ONE_BY_ONE&&(o.ONE_BY_ONE=new n(0,0,1,1)),o.ONE_BY_ONE}},fromXYWH:function(t,e,i,o){return new n(t,e,t+i,e+o)},fromXYXY:function(t,e,i,o){return new n(t,e,i,o)},fromXXYY:function(t,e,i,o){return new n(t,i,e,o)},fromPoints:function(t,e){return new n(t.x,t.y,e.x,e.y)},fromSize:function(t){return n.fromXYWH(0,0,t.width,t.height)},equal:function(t,e){return null==t==(null==e)&&(null==t||t.equal(e))},boundsOfPoints:function(t){var e=null;if(0==t.length);else if(1==t.length)e=new n(t[0].x,t[0].y,t[0].x,t[0].y);else{for(var i=0,o=0,r=0,s=0,h=!0,u=a.iter(t);!u.done;u.next()){var c=u.value;h?(i=c.x,r=c.x,o=c.y,s=c.y,h=!1):(i=l.MathUtils.minDouble(c.x,i),o=l.MathUtils.minDouble(c.y,o),r=l.MathUtils.maxDouble(c.x,r),s=l.MathUtils.maxDouble(c.y,s))}e=new n(i,o,r,s)}return e},unionOfRects:function(t){for(var e=null,i=a.iter(t);!i.done;i.next()){var o=i.value;e=n.unionOf(e,o)}return e},unionOf:function(t,e){return null==t?e:null==e?t:new n(l.MathUtils.minDouble(t.minX,e.minX),l.MathUtils.minDouble(t.minY,e.minY),l.MathUtils.maxDouble(t.maxX,e.maxX),l.MathUtils.maxDouble(t.maxY,e.maxY))},fromString:function(t){var e=t.split(",");return 4==e.length?n.fromXXYY(a.toDouble(e[0]),a.toDouble(e[1]),a.toDouble(e[2]),a.toDouble(e[3])):null},fromArray:function(t){if(4!=t.length)return u.LegacyCoreAssert.fail("TheoRect.fromArray: Array does not have 4 elements",void 0,"TheoRect.fromArray","TheoRect.swift",468),null;var e=a.as(t[0],"Double"),i=a.as(t[1],"Double"),o=a.as(t[2],"Double"),r=a.as(t[3],"Double");return null==e||null==i||null==o||null==r?(u.LegacyCoreAssert.fail("Rect.fromArray: Array is not 4 doubles",void 0,"TheoRect.fromArray","TheoRect.swift",478),null):new n(e,i,o,r)},decodeJson:function(t){return null==t?null:a.is(t,["Array","Any"])?n.fromArray(t):a.is(t,"String")?n.fromString(t):(u.LegacyCoreAssert.fail("TheoRect.decodeJson: Not an array or a string",void 0,"TheoRect.decodeJson","TheoRect.swift",526),null)},RectanglesIntersect:function(t,e,i,n,o){return s.RectanglesIntersect_(t,e,i,n,o)},PointInCommon_:function(t,e,i,n){for(var o=[],r=a.iter(a.range(0,5,!1));!r.done;r.next())o.push(new p.TheoPoint(0,0));return s.RectanglesIntersect_(t,e,i,o,n)},InteriorPointInCommon:function(t,e,i){return n.PointInCommon_(t,e,i,(function(t,e){return t<e}))},PointInCommon:function(t,e,i){return n.PointInCommon_(t,e,i,(function(t,e){return t<=e}))},JustTouch:function(t,e,i,n){return s.JustTouch_(t,e,i,n)},MakeIntersectOrAbut:function(t,e,i){return s.MakeIntersect_(t,e,i,0,(function(t,e){return t<=e}))},MakeInteriorsIntersect:function(t,e,i){return s.MakeIntersect_(t,e,i,5,(function(t,e){return t<e}))}},props:{evalUUVV:function(t,e,i,o){return n.fromPoints(this.evalXY(t,i),this.evalXY(e,o))},width:{get:function(){return this.maxX-this.minX}},height:{get:function(){return this.maxY-this.minY}},size:{get:function(){return new f.TheoSize(this.width,this.height)}},containsPoint:function(t){return t.x>=this.minX&&t.y>=this.minY&&t.x<=this.maxX&&t.y<=this.maxY},eval:function(t){return this.evalXY(t.x,t.y)},evalPts:function(t){for(var e=[],i=a.iter(t);!i.done;i.next()){var n=i.value;e.push(this.evalXY(n.x,n.y))}return e},evalXY:function(t,e){return new p.TheoPoint((1-t)*this.minX+t*this.maxX,(1-e)*this.minY+e*this.maxY)},locatePoint:function(t){return this.locate(t.x,t.y)},locate:function(t,e){return new p.TheoPoint((t-this.minX)/(this.maxX-this.minX),(e-this.minY)/(this.maxY-this.minY))},evalRect:function(t){var e=this.evalXY(t.minX,t.minY),i=this.evalXY(t.maxX,t.maxY);return new n(e.x,e.y,i.x,i.y)},area:{get:function(){return(this.maxX-this.minX)*(this.maxY-this.minY)}},aspectRatio:{get:function(){return this.width/this.height}},similarity:function(t){var e=this.aspectRatio,i=t.aspectRatio,n=Math.atan(e)/Math.PI,o=Math.atan(i)/Math.PI;return Math.abs(n-o)},midX:{get:function(){return(this.minX+this.maxX)/2}},midY:{get:function(){return(this.minY+this.maxY)/2}},origin:{get:function(){return new p.TheoPoint(this.minX,this.minY)}},center:{get:function(){return this.evalXY(.5,.5)}},equal:function(t){return this.minX==t.minX&&this.maxX==t.maxX&&this.minY==t.minY&&this.maxY==t.maxY},equalWithAccuracy:function(t,e){return Math.abs(this.minX-t.minX)<e&&Math.abs(this.maxX-t.maxX)<e&&Math.abs(this.minY-t.minY)<e&&Math.abs(this.maxY-t.maxY)<e},fitAspectRatioWithin:function(t){var e=null;return e=this.aspectRatio<t?new f.TheoSize(this.width,this.width/t):new f.TheoSize(t*this.height,this.height),u.LegacyCoreAssert.isTrue(e.width<=this.width+.01,"fit aspect ratio within exceeded width",void 0,"TheoRect.fitAspectRatioWithin","TheoRect.swift",173),u.LegacyCoreAssert.isTrue(e.height<=this.height+.01,"fit aspect ratio within exceeded height",void 0,"TheoRect.fitAspectRatioWithin","TheoRect.swift",174),e},expandToFit:function(t){return this.containsPoint(t)?this:new n(l.MathUtils.minDouble(t.x,this.minX),l.MathUtils.minDouble(t.y,this.minY),l.MathUtils.maxDouble(t.x,this.maxX),l.MathUtils.maxDouble(t.y,this.maxY))},contains:function(t){var e=this.intersectionWith(t);return null!=e&&e.equalWithAccuracy(t,.001)},intersects:function(t){return l.MathUtils.maxDouble(t.minX,this.minX)<l.MathUtils.minDouble(t.maxX,this.maxX)&&l.MathUtils.maxDouble(t.minY,this.minY)<l.MathUtils.minDouble(t.maxY,this.maxY)},intersectionWith:function(t){return this.intersects(t)?new n(l.MathUtils.maxDouble(t.minX,this.minX),l.MathUtils.maxDouble(t.minY,this.minY),l.MathUtils.minDouble(t.maxX,this.maxX),l.MathUtils.minDouble(t.maxY,this.maxY)):null},unionWith:function(t){return n.unionOf(this,t)},withInsets:function(t){return new n(l.MathUtils.minDouble(this.minX+t.left,this.maxX-t.right),l.MathUtils.minDouble(this.minY+t.top,this.maxY-t.bottom),l.MathUtils.maxDouble(this.minX+t.left,this.maxX-t.right),l.MathUtils.maxDouble(this.minY+t.top,this.maxY-t.bottom))},verticalLine:function(t){return new d.TheoLine(this.evalXY(t,0),this.evalXY(t,1))},horizontalLine:function(t){return new d.TheoLine(this.evalXY(0,t),this.evalXY(1,t))},interpolateWith:function(t,e){return new n(this.minX*(1-e)+t.minX*e,this.minY*(1-e)+t.minY*e,this.maxX*(1-e)+t.maxX*e,this.maxY*(1-e)+t.maxY*e)},L1Distance:function(t){var e=-1*l.MathUtils.minDouble(t.maxX-this.minX,this.maxX-t.minX),i=-1*l.MathUtils.minDouble(t.maxY-this.minY,this.maxY-t.minY);return l.MathUtils.maxDouble(0,l.MathUtils.maxDouble(e,i))},xDistance:function(t,e){void 0===e&&(e=!0);var i=-1*l.MathUtils.minDouble(t.maxX-this.minX,this.maxX-t.minX);return e?l.MathUtils.maxDouble(0,i):i},yDistance:function(t,e){void 0===e&&(e=!0);var i=-1*l.MathUtils.minDouble(t.maxY-this.minY,this.maxY-t.minY);return e?l.MathUtils.maxDouble(0,i):i},transform:function(t){return t.transformRect(this)},points:{get:function(){return[new p.TheoPoint(this.minX,this.minY),new p.TheoPoint(this.minX,this.maxY),new p.TheoPoint(this.maxX,this.minY),new p.TheoPoint(this.maxX,this.maxY)]}},interpolate:function(t,e){function i(t,e,i){return t+(e-t)*i}return new n(i(this.minX,t.minX,e),i(this.minY,t.minY,e),i(this.maxX,t.maxX,e),i(this.maxY,t.maxY,e))},rounded:function(){return new n(Math.round(this.minX),Math.round(this.minY),Math.round(this.maxX),Math.round(this.maxY))},floored:function(){return new n(Math.floor(this.minX),Math.floor(this.minY),Math.floor(this.maxX),Math.floor(this.maxY))},snapped:function(){return n.fromXYWH(Math.round(this.minX),Math.round(this.minY),Math.round(this.width),Math.round(this.height))},insetXY:function(t,e){return new n(this.minX+t,this.minY+e,this.maxX-t,this.maxY-e)},insetRel:function(t,e,i,o){return n.fromXXYY(this.minX+this.width*t,this.maxX-this.width*e,this.minY+this.height*i,this.maxY-this.height*o)},scaleXY:function(t,e,i){void 0===i&&(i=new p.TheoPoint(.5,.5));var o=n.fromXYWH(this.minX,this.minY,this.width*t,this.height*e);return o.transform(c.Matrix2D.translation(this.eval(i).subtract(o.eval(i))))},scale:function(t,e){return void 0===e&&(e=new p.TheoPoint(.5,.5)),this.scaleXY(t,t,e)},outsetXY:function(t,e){return new n(this.minX-t,this.minY-e,this.maxX+t,this.maxY+e)},offset:function(t){return new n(this.minX+t.x,this.minY+t.y,this.maxX+t.x,this.maxY+t.y)},offsetXY:function(t,e){return new n(this.minX+t,this.minY+e,this.maxX+t,this.maxY+e)},multiplyXY:function(t,e){return n.fromXYWH(this.minX*t,this.minY*e,this.width*t,this.height*e)},moveToPoint:function(t,e){var i=this.evalXY(e.x,e.y),n=t.subtract(i);return this.offset(n)},split:function(t,e,i){void 0===i&&(i=null);var o=[],r=0,s=0,h=0;if(null!=i){for(var c=a.iter(i);!c.done;c.next())h+=c.value;if(t!=i.length)return u.LegacyCoreAssert.fail("num regions must match weight vector",void 0,"TheoRect.split","TheoRect.swift",422),o}for(var l=e?this.width/a.toDouble(t):this.width,d=e?this.height:this.height/a.toDouble(t),p=a.iter(a.range(0,t,!1));!p.done;p.next()){var f,m=p.value;(f=i)&&(l=e?this.width*(f[m]/h):this.width,d=e?this.height:this.height*(f[m]/h)),e?o.push(new n(this.minX+r,this.minY,this.minX+r+l,this.maxY)):o.push(new n(this.minX,this.minY+s,this.maxX,this.minY+s+d)),r+=l,s+=d}return o},asString:{get:function(){return" x: "+a.toString(Math.round(100*this.minX)/100)+" "+a.toString(Math.round(100*this.maxX)/100)+", y:"+a.toString(Math.round(100*this.minY)/100)+" "+a.toString(Math.round(100*this.maxY)/100)}},asIntString:{get:function(){return" x: "+a.toString(Math.round(this.minX))+" "+a.toString(Math.round(this.maxX))+", y:"+a.toString(Math.round(this.minY))+" "+a.toString(Math.round(this.maxY))}},description:{get:function(){return this.asString}},encode:function(){return u.LegacyCoreAssert.fail("TheoRect: Use encodeJson(), not encode()",void 0,"TheoRect.encode","TheoRect.swift",531),[]},encodeJson:function(){return u.LegacyCoreAssert.isFalse(isNaN(this.minX),"Can't persist NaN minX value",void 0,"TheoRect.encodeJson","TheoRect.swift",536),u.LegacyCoreAssert.isFalse(isNaN(this.minY),"Can't persist NaN minY value",void 0,"TheoRect.encodeJson","TheoRect.swift",537),u.LegacyCoreAssert.isFalse(isNaN(this.maxX),"Can't persist NaN maxX value",void 0,"TheoRect.encodeJson","TheoRect.swift",538),u.LegacyCoreAssert.isFalse(isNaN(this.maxY),"Can't persist NaN maxY value",void 0,"TheoRect.encodeJson","TheoRect.swift",539),a.as([this.minX,this.minY,this.maxX,this.maxY],"AnyObject")},maximumSpan:function(t){var e=this,i=function(i,n){return t.transformLinear(e.evalXY(i,n))},n=0,o=function(t,e){var o=i(t,e),r=i(1-t,1-e),s=function(t,e){var s,a,h=(s=i(t,e),a=r,new d.TheoLine(s,a)),u=h.locate(o);if(-1e-7<u&&u<1+1e-7){var c=h.eval(u),l=p._minus_TheoPoint_TheoPoint(c,o).length(),f=p._minus_TheoPoint_TheoPoint(c,r).length();n=Math.max(n,l,f)}};s(t,1-e),s(1-t,e)};return o(0,0),o(1,0),n}}}),n),s.RectanglesIntersect_=function(t,e,i,n,o){u.LegacyCoreAssert.isTrue(t.minX<=t.maxX&&t.minY<=t.maxY&&i.minX<=i.maxX&&i.minY<=i.maxY,"rectangle width/height negative",void 0,"RectanglesIntersect_","TheoRect.swift",643);var r=function(i,n){return e.transformPoint(t.evalXY(i,n))},h=0,c=0;function l(t,e){var i=s.rect_contains_point(e,t,h,c,o),n=i.result,r=i.horz,a=i.vert;return h=r,c=a,n}if(l(r(.5,.5),i))return!0;if(h=0,c=0,n[0]=r(0,0),l(n[0],i))return!0;if(n[2]=r(1,1),l(n[2],i))return!0;if(e.preservesBoxes)return!!s.rects_intersect(new s.TheoRect(n[0].x,n[0].y,n[2].x,n[2].y),i,o)||(n[1]=r(1,0),n[3]=r(0,1),n[4]=n[0],!1);if(n[1]=r(1,0),l(n[1],i))return!0;if(n[3]=r(0,1),l(n[3],i))return!0;if(n[4]=n[0],4==h||-4==h||4==c||-4==c)return!1;u.LegacyCoreAssert.isTrue(0!=e.determinant,"rectangle intersection should've been determined by now if transformation matrix determinant were 0",void 0,"RectanglesIntersect_","TheoRect.swift",697);var f=e.inverse,m=function(t,e){return f.transformPoint(i.evalXY(t,e))};if(l(f.transformPoint(i.center),t))return!0;var P=[new p.TheoPoint(0,0),new p.TheoPoint(0,0),new p.TheoPoint(0,0),new p.TheoPoint(0,0),new p.TheoPoint(0,0)];if(P[0]=m(0,0),l(P[0],t))return!0;if(P[1]=m(1,0),l(P[1],t))return!0;if(P[2]=m(1,1),l(P[2],t))return!0;if(P[3]=m(0,1),l(P[3],t))return!0;P[4]=P[0];var T=[new p.TheoPoint(0,0),new p.TheoPoint(0,0),new p.TheoPoint(0,0),new p.TheoPoint(0,0),new p.TheoPoint(0,0)];T[0]=t.evalXY(0,0),T[1]=t.evalXY(1,0),T[2]=t.evalXY(1,1),T[3]=t.evalXY(0,1),T[4]=T[0];for(var g=a.iter(a.range(0,4,!1));!g.done;g.next())for(var _=g.value,M=a.iter(a.range(0,4,!1));!M.done;M.next()){var y=M.value,v=s.segment_intersection(P[_],P[_+1],T[y+1],T[y]),R=v[0],C=v[1];if(isNaN(R)){var E=function(t,e,i){return new d.TheoLine(t,e).locate(i)};if(R=E(P[_],P[_+1],T[y]),o(0,R)&&o(R,1))return!0;if(R=E(P[_],P[_+1],T[y+1]),o(0,R)&&o(R,1))return!0;if(R=E(T[y],T[y+1],P[_]),o(0,R)&&o(R,1))return!0;if(R=E(T[y],T[y+1],P[_+1]),o(0,R)&&o(R,1))return!0}else if(o(0,R)&&o(R,1)&&o(0,C)&&o(C,1))return!0}return!1},s.rect_contains_point=function(t,e,i,n,o){var r=i,s=n,a=!1;if(o(t.minX,e.x)?o(e.x,t.maxX)?a=!0:r+=1:r-=1,o(t.minY,e.y)){if(o(e.y,t.maxY))return{result:a,horz:r,vert:s};s+=1}else s-=1;return{result:!1,horz:r,vert:s}},s.rects_intersect=function(t,e,i){return i(e.minX,t.maxX)&&i(t.minX,e.maxX)&&i(t.minY,e.maxY)&&i(e.minY,t.maxY)},s.rect_contains_rect=function(t,e,i){return i(t.minY,e.minY)&&i(e.maxY,t.maxY)&&i(t.minX,e.minX)&&i(e.maxX,t.maxX)},s.subnormal_skipping_nextafter=function(t,e){return t},s.local_next_after=function(t,e,i){void 0===i&&(i=1);for(var n=t,o=i;o>0;)n=s.subnormal_skipping_nextafter(n,e),o-=1;return n},s.rectangle_inset=function(t,e){for(var i=t.minX,n=t.maxX,o=t.minY,r=t.maxY,a=e;a>0;)i=s.local_next_after(i,n,1),n=s.local_next_after(n,i,1),o=s.local_next_after(o,r,1),r=s.local_next_after(r,o,1),a-=1;return new s.TheoRect(i,o,n,r)},s.rectangle_outset=function(t,e){var i=s.local_next_after(t.minX,-1/0,e),n=s.local_next_after(t.minY,-1/0,e),o=s.local_next_after(t.maxX,1/0,e),r=s.local_next_after(t.maxY,1/0,e);return new s.TheoRect(i,n,o,r)},s.segment_intersection=function(t,e,i,n){var o,r,s=e.subtract(t),a=n.subtract(i),h=t.subtract(i),c=a.crossProduct(s),l=h.crossProduct(a),d=h.crossProduct(s);return 0==c?0==l?(u.LegacyCoreAssert.isTrue(0==d,"non-zero cross product for parallel colinear segments",void 0,"segment_intersection","TheoRect.swift",899),o=NaN,r=NaN):s.dotProduct(a)>0?(o=1/0,r=1/0):(o=-1/0,r=-1/0):(o=l/c,r=d/c),[o,r]},s.JustTouch_=function(t,e,i,n){var o=function(t,e,i,n){for(var o,r=1/0,h=new p.TheoPoint(0,0),f=[new p.TheoPoint(0,0),new p.TheoPoint(1,0),new p.TheoPoint(1,1),new p.TheoPoint(0,1)].map(a.bind(t,"eval"),this).map(a.bind(e,"transformPoint"),this),m=[new p.TheoPoint(0,0),new p.TheoPoint(1,0),new p.TheoPoint(1,1),new p.TheoPoint(0,1),new p.TheoPoint(0,0)].map(a.bind(i,"eval"),this).map(a.bind(n,"transformPoint"),this),P=[],T=a.iter(a.range(0,5,!1));!T.done;T.next())P.push(new p.TheoPoint(0,0));for(var g=a.iter(f);!g.done;g.next())for(var _=g.value,M=a.iter(a.range(0,4,!1));!M.done;M.next()){var y=M.value,v=new d.TheoLine(m[y],m[y+1]);!function(o){var a=_,u=p._minus_TheoPoint_TheoPoint(v.eval(o),a),c=function(t){return t.evalUUVV(1e-9,1-1e-9,1e-9,1-1e-9)};if(!s.RectanglesIntersect_(c(t),e.translate(u).concat(n.inverse),c(i),P,(function(t,e){return t<=e}))){var l=u.dotProduct(u);l<r&&(r=l,h=u)}}((o=v.locate(_),l.MathUtils.minDouble(l.MathUtils.maxDouble(0,o),1)))}return u.LegacyCoreAssert.isTrue(r<1/0,"unable to find translation to make rectangles just touch?",void 0,"JustTouch_","TheoRect.swift",959),c.Matrix2D.translation(h)},r=function(t){return t.tx*t.tx+t.ty*t.ty},h=o(t,e,i,n),f=o(i,n,t,e).inverse;return r(h)<r(f)?h:f},s.MutableRect=(r=function(t,e,i,n){this.minX=t,this.minY=e,this.maxX=i,this.maxY=n},a.defineClass({name:"MutableRect",ctor:r,statics:{fromTheoRect:function(t){return new r(t.minX,t.minY,t.maxX,t.maxY)}},props:{width:{get:function(){return this.maxX-this.minX}},height:{get:function(){return this.maxY-this.minY}},midX:{get:function(){return(this.minX+this.maxX)/2}},midY:{get:function(){return(this.minY+this.maxY)/2}},eval:function(t){return this.evalUV(t.x,t.y)},evalUV:function(t,e){return new p.TheoPoint((1-t)*this.minX+t*this.maxX,(1-e)*this.minY+e*this.maxY)},asTheoRect:{get:function(){return new s.TheoRect(this.minX,this.minY,this.maxX,this.maxY)}},clone:function(){return new r(this.minX,this.minY,this.maxX,this.maxY)}}}),r),s.MakeIntersect_=function(t,e,i,n,o){for(var r=i,h=[],c=a.iter(a.range(0,5,!1));!c.done;c.next())h.push(new p.TheoPoint(0,0));if(s.TheoRect.RectanglesIntersect(t,e,r,h,o))return r;var f=e.transformRect(t),m=a.clone(new s.MutableRect(r.minX,r.minY,r.maxX,r.maxY));o(m.minX,f.maxX)||(m.minX=f.maxX,m.minX=s.local_next_after(m.minX,-1/0,n)),o(f.minX,m.maxX)||(m.maxX=f.minX,m.maxX=s.local_next_after(m.maxX,1/0,n)),o(m.minY,f.maxY)||(m.minY=f.maxY,m.minY=s.local_next_after(m.minY,-1/0,n)),o(f.minY,m.maxY)||(m.maxY=f.minY,m.maxY=s.local_next_after(m.maxY,1/0,n));var P=function(t){return t.evalUUVV(-1e-9,1+1e-9,-1e-9,1+1e-9)};if(s.TheoRect.PointInCommon_(t,e,P(m.asTheoRect),o))return m.asTheoRect;u.LegacyCoreAssert.isTrue(f.midX!=m.midX,"midX values match but rectangles don't intersect?",void 0,"MakeIntersect_","TheoRect.swift",1031),u.LegacyCoreAssert.isTrue(f.midY!=m.midY,"midY values match but rectangles don't intersect?",void 0,"MakeIntersect_","TheoRect.swift",1032),r=m.asTheoRect;for(var T=function(t,e){return new p.TheoPoint(t,e)},g=function(i){return e.transformPoint(t.eval(i))},_=function(t){return r.eval(t)},M=function(t){return l.MathUtils.minDouble(l.MathUtils.maxDouble(0,t),1)},y=[T(0,0),T(1,0),T(1,1),T(0,1),T(0,0)],v=function(t,e){for(var i=1/0,n=[T(0,0),T(0,0)],o=a.iter(a.range(0,4,!1));!o.done;o.next())for(var r=o.value,s=_(y[r]),h=a.iter(a.range(0,4,!1));!h.done;h.next()){var c=h.value,l=new d.TheoLine(g(y[c]),g(y[c+1])),f=M(l.locate(s)),m=p._minus_TheoPoint_TheoPoint(l.eval(f),s),P=m.dotProduct(m);P<i&&(i=P,n=[y[r],y[c]])}return u.LegacyCoreAssert.isTrue(i<1/0,"unable to find closest pair of rect points?",void 0,"MakeIntersect_","TheoRect.swift",1060),n}(),R=v[0],C=v[1],E=_(R),O=T(1,1).subtract(R),A=_(O),w=_(T(R.x,O.y)),N=_(T(O.x,R.y)),x=1/0,S=E,b=a.iter(a.range(0,4,!1));!b.done;b.next()){var G=b.value;if(y[G]!=T(1,1).subtract(C)){var Y=new d.TheoLine(g(y[G]),g(y[G+1])),D=function(t){var e=s.segment_intersection(t,E,Y.p1,Y.p2),i=e[0],n=e[1];if(i>=1&&n>=0&&n<=1){var o=Y.eval(M(n)),r=s.TheoRect.fromPoints(o,A).area;r<x&&(x=r,S=o)}};D(w),D(N)}}if(n>0){var L=s.local_next_after(S.x,0==O.x?1/0:-1/0,n),I=s.local_next_after(S.y,0==O.y?1/0:-1/0,n);S=new p.TheoPoint(L,I)}var F=s.TheoRect.fromPoints(A,S);return u.LegacyCoreAssert.isTrue(s.rect_contains_rect(P(F),r,(function(t,e){return t<=e})),"MakeIntersect_ result should contain r2_",void 0,"MakeIntersect_","TheoRect.swift",1106),F}},sJQG:function(t,e,i){var n,o,r=e,s=i("oAGj");r.PGMRange=(n=function(t,e){this.start=t,this.end=e},o={},s.defineClass({name:"PGMRange",ctor:n,statics:{UNIT:{get:function(){return void 0===o.UNIT&&(o.UNIT=new n(0,1)),o.UNIT}},PROP_START:"start",PROP_END:"end",decode:function(t){var e,i;return null!=(e=s.as(s.opt(t,(function(t){return t[n.PROP_START]})),"Double"))&&null!=(i=s.as(s.opt(t,(function(t){return t[n.PROP_END]})),"Double"))?0==e&&1==i?n.UNIT:new n(e,i):null}},props:{boundedU:function(t){return t<=this.start?0:t>=this.end?1:(t-this.start)/(this.end-this.start)},applyU:function(t){return this.start+t*(this.end-this.start)},isEqualTo:function(t){return this===t||this.start==t.start&&this.end==t.end},contains:function(t){return t>=this.start&&t<=this.end},encode:function(){var t={};return t[n.PROP_START]=this.start,t[n.PROP_END]=this.end,t}}}),n)},tlHl:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("xcIW"),a=i("sq5L"),h=i("bauG"),u=i("WGnI"),c=i("ZA1K"),l=i("s3Tu");o.PGMMedia=(n=function(t,e,i,n,o,r){this.contentID=r,u.PGMLeaf.call(this,t,e,i,n,o)},r.defineClass({name:"PGMMedia",ctor:n,superName:"PGMLeaf",statics:{PROP_CONTENT_ID:"content-id",decodeLeaf:function(t,e,i,o,u,d,p){var f,m,P;if(null!=(P=r.as(t[n.PROP_CONTENT_ID],"String")))switch(e){case"pgm-image":return new h.PGMImage(i,o,u,d,P);case"pgm-video":var T=(f=r.as(t[l.PGMVideo.PROP_OFFSET],"Double"))||null!=f?f:0,g=(m=r.as(t[l.PGMVideo.PROP_POSTER_TIME],"Double"))||null!=m?m:0;return new l.PGMVideo(i,o,u,d,P,T,g);case"pgm-audio":return new s.PGMAudio(i,o,u,P);case"pgm-svg":return new c.PGMSVG(i,o,u,d,P);default:return p.error(a.PGMError.UNKNOWN_MEDIA_TYPE,"not a valid media type: "+e),null}return p.error(a.PGMError.BAD_MEDIA,"missing content-id on media type"),null}},props:{isEqualTo:function(t){return this===t||!!(e=r.as(t,n))&&this.contentID==e.contentID&&u.PGMLeaf.prototype.isEqualTo.call(this,t);var e},encode:function(){var t=u.PGMLeaf.prototype.encode.call(this);return t[n.PROP_CONTENT_ID]=this.contentID,t}}}),n)},umUn:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("fNpk"),a=i("Zifs");o.PROPERTY_SPARK_ELEMENTID="sparkElementID",o.PROPERTY_SPARK_ROLES="sparkRoles",o.SHADE_ROLE_PREFIX="shade-",o.TheoColor=(n=function(){},r.defineClass({name:"TheoColor",ctor:n,superName:"CoreObject",statics:{SPARK_COLOR_ROLE_PRIMARY:{get:function(){return"base-color"}},SPARK_COLOR_ROLE_SECONDARY:{get:function(){return"color"}},SPARK_COLOR_ROLE_SHADE0:{get:function(){return"shade-0"}},SPARK_COLOR_ROLE_SHADE1:{get:function(){return"shade-1"}},SPARK_COLOR_ROLE_SHADE2:{get:function(){return"shade-2"}},SPARK_COLOR_ROLE_SHADE3:{get:function(){return"shade-3"}},SPARK_COLOR_ROLE_SHADE4:{get:function(){return"shade-4"}},SPARK_COLOR_ROLE_SHADE5:{get:function(){return"shade-5"}},SPARK_COLOR_ROLE_SHADE6:{get:function(){return"shade-6"}},decodeJson:function(t){if(null==t)return null;var e=r.as(t,["Dictionary","String","Any"]);if(null==e)return s.LegacyCoreAssert.fail("SolidColor.decodeJson: object passed isn't a dictionary",void 0,"TheoColor.decodeJson","TheoColor.swift",146),null;var i=a.SolidColor.decodeJson(t);if(null!=i){var h=r.as(e[o.PROPERTY_SPARK_ELEMENTID],"String"),u=r.clone(r.as(e[o.PROPERTY_SPARK_ROLES],["Array","String"]));return n.init_5344(i,h,r.clone(u))}return null}},props:{init_5344:function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null),this.rgbColor=t,this.sparkElementID=e,this.sparkRoles=r.clone(i)},init_bb45:function(t){var e=new a.SolidColor(t.red/255,t.green/255,t.blue/255,t.alpha);this.rgbColor=e,this.sparkElementID=t.id,this.sparkRoles=r.clone(t.acRoles)},getBrandkitShadeRole:function(){if(null==this.sparkRoles)return null;for(var t=r.iter(this.sparkRoles);!t.done;t.next()){var e=t.value;switch(e){case"shade-0":case"shade-1":case"shade-2":case"shade-3":case"shade-4":case"shade-5":case"shade-6":return e;default:continue}}return null},isBrandkitPrimaryColor:function(){if(null==this.sparkRoles)return!1;for(var t=r.iter(this.sparkRoles);!t.done;t.next())switch(t.value){case"base-color":return!0;default:continue}return!1},isBrandkitSecondaryColor:function(){if(null==this.sparkRoles)return!1;for(var t=r.iter(this.sparkRoles);!t.done;t.next())switch(t.value){case"color":return!0;default:continue}return!1},isBrandkitShade:function(){if(null==this.sparkRoles)return!1;for(var t=r.iter(this.sparkRoles);!t.done;t.next())switch(t.value){case"shade-0":case"shade-1":case"shade-2":case"shade-3":case"shade-4":case"shade-5":case"shade-6":return!0;default:continue}return!1},isBrandkitColor:function(){return null!=this.sparkRoles||null!=this.sparkElementID},encodeJson:function(){var t=this.rgbColor.encodeJson();return null!=this.sparkElementID&&(t[o.PROPERTY_SPARK_ELEMENTID]=this.sparkElementID),null!=this.sparkRoles&&(t[o.PROPERTY_SPARK_ROLES]=r.clone(this.sparkRoles)),t},asString:{get:function(){var t;return"Color: "+this.rgbColor.asString+", id: "+((t=this.sparkElementID)||null!=t?t:"")}},isEqual:function(t){var e;return!!(e=r.as(t,n))&&r.eq(a._equality_SolidColor_SolidColor,e.rgbColor,this.rgbColor)&&e.sparkElementID==this.sparkElementID}}}),n),o._equality_TheoColor_TheoColor=function(t,e){return t.isEqual(e)}},xcIW:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("tlHl"),a=i("sIWg");o.PGMAudio=(n=function t(e,i,n,o){s.PGMMedia.call(this,t.TYPE,e,i,n,a.TheoRect.Zero,o)},r.defineClass({name:"PGMAudio",ctor:n,superName:"PGMMedia",statics:{TYPE:"pgm-audio"},props:{withEntity:function(t){return new n(t,this.meta,this.animations,this.contentID)}}}),n)},xm77:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("gXiO"),a=i("fNpk"),h=i("oKlP");o.TimingFunctionType=r.defineEnum("TimingFunctionType",{Linear:"Linear",EaseIn:"EaseIn",EaseOut:"EaseOut",EaseInOut:"EaseInOut",EaseOutExpo:"EaseOutExpo",Step:"Step",Step0:"Step0",Step1:"Step1"}),o.TheoTimingFunction=(n=function(t){this.timingType_=t,this.lookup_={},t==o.TimingFunctionType.Linear?this.points=[new h.TheoPoint(0,0),new h.TheoPoint(1,1)]:t==o.TimingFunctionType.Step||t==o.TimingFunctionType.Step0||t==o.TimingFunctionType.Step1?this.points=[new h.TheoPoint(.5,0)]:t==o.TimingFunctionType.EaseIn?this.points=[new h.TheoPoint(.42,0),new h.TheoPoint(1,1)]:t==o.TimingFunctionType.EaseOut?this.points=[new h.TheoPoint(0,0),new h.TheoPoint(.58,1)]:t==o.TimingFunctionType.EaseOutExpo?this.points=[new h.TheoPoint(.215,.61),new h.TheoPoint(.355,1)]:t==o.TimingFunctionType.EaseInOut?this.points=[new h.TheoPoint(.42,0),new h.TheoPoint(.58,1)]:(this.points=[],a.LegacyCoreAssert.fail("Invalid timing function",void 0,"TheoTimingFunction.init","TheoTimingFunction.swift",54)),s.CoreObject.call(this)},r.defineClass({name:"TheoTimingFunction",ctor:n,superName:"CoreObject",props:{evalT:function(t){var e=this.points[0].multiply(3*(1-t)*(1-t)*t),i=this.points[1].multiply(3*(1-t)*t*t),n=new h.TheoPoint(1,1).multiply(t*t*t);return e.add(i).add(n)},evalX:function(t,e){if(void 0===e&&(e=.001),t<0||t>1)return a.LegacyCoreAssert.fail("TheoRect.fromArray: Array does not have 4 elements",void 0,"TheoTimingFunction.evalX","TheoTimingFunction.swift",72),t;if(this.timingType_==o.TimingFunctionType.Step)return this.points[0].x>t?0:1;if(this.timingType_==o.TimingFunctionType.Step0)return 0==this.points[0].x?0:1;if(this.timingType_==o.TimingFunctionType.Step1)return 1==this.points[0].x?1:0;var i;if(null!=(i=this.lookup_[t]))return i;var n=0,r=1,s=.5,h=this.evalT(n);if(Math.abs(h.x-t)<e)return this.lookup_[t]=h.y,h.y;var u=this.evalT(r);if(Math.abs(u.x-t)<e)return this.lookup_[t]=u.y,u.y;for(var c=this.evalT(s);Math.abs(c.x-t)>e;)t>c.x?n=s:r=s,s=(n+r)/2,c=this.evalT(s);return this.lookup_[t]=c.y,c.y}}}),n)},zbBQ:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("gXiO"),a=i("Q0b+"),h=i("sHEF");o.PGMMimicDocument=(n=function(t){this.oldState=h.PGMMimicDisplayState.EMPTY,this.newState=h.PGMMimicDisplayState.EMPTY,this._binding=new a.PGMNullDocumentMimicBinding,this._root=null,this._dirtyLocalCTMNodes=[],this._animationNodes=[],this.client=t,s.CoreObject.call(this),this._binding=t.bindDocument(this)},r.defineClass({name:"PGMMimicDocument",ctor:n,superName:"CoreObject",props:{binding:{get:function(){return this._binding}},beginConform:function(t,e){this._dirtyLocalCTMNodes.splice(0),this.oldState=t,this.newState=e,this._binding.beginConform(this,t,e)},endConform:function(t,e){this._binding.endConform(this,t,e)},dirtyLocalCTMNodes:{get:function(){return this._dirtyLocalCTMNodes}},nodePlacementChanged:function(t){this._dirtyLocalCTMNodes.push(t)},nodeReparented:function(t){this._dirtyLocalCTMNodes.push(t)},nodeHasAnimationChanged:function(t,e){e?this._animationNodes.push(t):r.remove(this._animationNodes,t)},nodesWithAnimations:{get:function(){return this._animationNodes}},root:{get:function(){return this._root},set:function(t){this._binding.setRoot(this,t),r.opt(this._root,(function(t){return t.setAsDetached()})),r.opt(t,(function(t){return t.setAsRoot()})),this._root=t}}}}),n)}}]);
//# sourceMappingURL=vendors_npm_spark_1d2787a9-9686346f.js.map